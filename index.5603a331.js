!function(e,t,r,o,n){var s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a="function"==typeof s[o]&&s[o],c=a.cache||{},i="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function l(t,r){if(!c[t]){if(!e[t]){var n="function"==typeof s[o]&&s[o];if(!r&&n)return n(t,!0);if(a)return a(t,!0);if(i&&"string"==typeof t)return i(t);var p=new Error("Cannot find module '"+t+"'");throw p.code="MODULE_NOT_FOUND",p}u.resolve=function(r){var o=e[t][1][r];return null!=o?o:r},u.cache={};var d=c[t]=new l.Module(t);e[t][0].call(d.exports,u,d,d.exports,this)}return c[t].exports;function u(e){var t=u.resolve(e);return!1===t?{}:l(t)}}l.isParcelRequire=!0,l.Module=function(e){this.id=e,this.bundle=l,this.exports={}},l.modules=e,l.cache=c,l.parent=a,l.register=function(t,r){e[t]=[function(e,t){t.exports=r},{}]},Object.defineProperty(l,"root",{get:function(){return s[o]}}),s[o]=l;for(var p=0;p<t.length;p++)l(t[p]);if(r){var d=l(r);"object"==typeof exports&&"undefined"!=typeof module?module.exports=d:"function"==typeof define&&define.amd&&define((function(){return d}))}}({"4zTVb":[function(e,t,r){var o=e("solid-js/web"),n=e("components/table/create"),s=e("components/table/table_controller"),a=e("components/book/create"),c=e("components/card_slot/create"),i=e("components/card/create"),l=e("components/page/create"),p=e("components/page/page_controller"),d=e("model/domain"),u=e("data/initial"),f=e("components/spread/create"),m=e("solid-js");const g=(0,o.template)("<div>");window.onload=function(){const e=document.getElementById("app"),t=u.initialGame;let r;const{Component:h,controller:v}=(0,n.createTable)((function(){r=void 0})),b=e=>{const t=d.bookSpreadRoomDescriptor.create({type:d.BookSpreadType.Room,cardSlots:[{targetCard:void 0,playedCards:[]},{targetCard:void 0,playedCards:[]},{targetCard:void 0,playedCards:[]}]});t.cardSlots[0].targetCard=u.cardNextRoom,D.showSpread(t)},y=(0,l.createPageManager)({side:p.PageSide.Left,onNavigate:b}),x=(0,l.createPageManager)({side:p.PageSide.Right,onNavigate:b}),C=(0,i.createCardManager)(),w=(0,c.createCardSlotManager)(C.FactoryComponent,(function(e){console.log("on drag start",e),r=e}),(function(e){console.log("on drop",e),(0,m.batch)((()=>{null!=r?.targetCard&&null==e.targetCard&&(e.targetCard=r.targetCard,r.targetCard=void 0)})),r=void 0})),{Component:k}=(0,c.createCardSlots)(w.FactoryComponent),{Component:j}=(0,f.createSpread)({CardSlotsComponent:k}),{Component:_,controller:D}=(0,a.createBook)({leftPageComponentManager:y,rightPageComponentManager:x,book:t.book}),S=async()=>{await v.setView(s.View.Tilted),b(d.BookSpreadType.Room),console.log("show main menu")};function F(){return(0,o.createComponent)(k,{get model(){return t.cardSlots}})}function T(){return(0,o.memo)((()=>{const e=(0,o.memo)((()=>!!t.book.spread));return()=>e()&&(0,o.createComponent)(j,{get model(){return t.book.spread}})})())}const I=()=>g();function P(){return(0,o.createComponent)(_,{onClickCover:S})}(0,o.render)((()=>(0,o.createComponent)(h,{Book:P,Overlay:T,Hand:F,Deck:I})),e),setInterval((()=>{C.lookupController(u.cardMight)?.flip()}),5e3)}},{"solid-js/web":"33rlw","components/table/create":"axFgj","components/table/table_controller":"5G5V6","components/book/create":"dTDP6","components/card_slot/create":"189zH","model/domain":"hG1oc","components/card/create":"9KqLK","components/page/create":"eFnBZ","components/page/page_controller":"iOtej","data/initial":"dG5uB","components/spread/create":"afncJ","solid-js":"5rsr6"}],"33rlw":[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"ErrorBoundary",(()=>n.ErrorBoundary)),o.export(r,"For",(()=>n.For)),o.export(r,"Index",(()=>n.Index)),o.export(r,"Match",(()=>n.Match)),o.export(r,"Show",(()=>n.Show)),o.export(r,"Suspense",(()=>n.Suspense)),o.export(r,"SuspenseList",(()=>n.SuspenseList)),o.export(r,"Switch",(()=>n.Switch)),o.export(r,"createComponent",(()=>n.createComponent)),o.export(r,"effect",(()=>n.createRenderEffect)),o.export(r,"getOwner",(()=>n.getOwner)),o.export(r,"memo",(()=>n.createMemo)),o.export(r,"mergeProps",(()=>n.mergeProps)),o.export(r,"untrack",(()=>n.untrack)),o.export(r,"Aliases",(()=>c)),o.export(r,"Assets",(()=>G)),o.export(r,"ChildProperties",(()=>a)),o.export(r,"DOMElements",(()=>f)),o.export(r,"DelegatedEvents",(()=>p)),o.export(r,"Dynamic",(()=>ue)),o.export(r,"Hydration",(()=>H)),o.export(r,"HydrationScript",(()=>G)),o.export(r,"NoHydration",(()=>q)),o.export(r,"Portal",(()=>de)),o.export(r,"Properties",(()=>s)),o.export(r,"SVGElements",(()=>d)),o.export(r,"SVGNamespace",(()=>u)),o.export(r,"addEventListener",(()=>w)),o.export(r,"assign",(()=>I)),o.export(r,"classList",(()=>k)),o.export(r,"className",(()=>C)),o.export(r,"clearDelegatedEvents",(()=>b)),o.export(r,"delegateEvents",(()=>v)),o.export(r,"dynamicProperty",(()=>D)),o.export(r,"escape",(()=>ne)),o.export(r,"generateHydrationScript",(()=>G)),o.export(r,"getAssets",(()=>G)),o.export(r,"getHydrationKey",(()=>z)),o.export(r,"getNextElement",(()=>P)),o.export(r,"getNextMarker",(()=>M)),o.export(r,"getNextMatch",(()=>$)),o.export(r,"getPropAlias",(()=>l)),o.export(r,"hydrate",(()=>pe)),o.export(r,"innerHTML",(()=>S)),o.export(r,"insert",(()=>T)),o.export(r,"isDev",(()=>ce)),o.export(r,"isServer",(()=>ae)),o.export(r,"render",(()=>g)),o.export(r,"renderToStream",(()=>X)),o.export(r,"renderToString",(()=>W)),o.export(r,"renderToStringAsync",(()=>Y)),o.export(r,"resolveSSRNode",(()=>oe)),o.export(r,"runHydrationEvents",(()=>A)),o.export(r,"setAttribute",(()=>y)),o.export(r,"setAttributeNS",(()=>x)),o.export(r,"spread",(()=>_)),o.export(r,"ssr",(()=>Z)),o.export(r,"ssrAttribute",(()=>te)),o.export(r,"ssrClassList",(()=>J)),o.export(r,"ssrElement",(()=>Q)),o.export(r,"ssrHydrationKey",(()=>re)),o.export(r,"ssrSpread",(()=>se)),o.export(r,"ssrStyle",(()=>ee)),o.export(r,"style",(()=>j)),o.export(r,"template",(()=>h)),o.export(r,"use",(()=>F)),o.export(r,"useAssets",(()=>G));var n=e("solid-js");const s=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline","allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"]),a=new Set(["innerHTML","textContent","innerText","children"]),c=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),i=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function l(e,t){const r=i[e];return"object"==typeof r?r[t]?r.$:void 0:r}const p=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),d=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]),u={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},f=new Set(["html","base","head","link","meta","style","title","body","address","article","aside","footer","header","main","nav","section","body","blockquote","dd","div","dl","dt","figcaption","figure","hr","li","ol","p","pre","ul","a","abbr","b","bdi","bdo","br","cite","code","data","dfn","em","i","kbd","mark","q","rp","rt","ruby","s","samp","small","span","strong","sub","sup","time","u","var","wbr","area","audio","img","map","track","video","embed","iframe","object","param","picture","portal","source","svg","math","canvas","noscript","script","del","ins","caption","col","colgroup","table","tbody","td","tfoot","th","thead","tr","button","datalist","fieldset","form","input","label","legend","meter","optgroup","option","output","progress","select","textarea","details","dialog","menu","summary","details","slot","template","acronym","applet","basefont","bgsound","big","blink","center","content","dir","font","frame","frameset","hgroup","image","keygen","marquee","menuitem","nobr","noembed","noframes","plaintext","rb","rtc","shadow","spacer","strike","tt","xmp","a","abbr","acronym","address","applet","area","article","aside","audio","b","base","basefont","bdi","bdo","bgsound","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","del","details","dfn","dialog","dir","div","dl","dt","em","embed","fieldset","figcaption","figure","font","footer","form","frame","frameset","head","header","hgroup","hr","html","i","iframe","image","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","nobr","noembed","noframes","noscript","object","ol","optgroup","option","output","p","param","picture","plaintext","portal","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","tt","u","ul","var","video","wbr","xmp","input"]);const m="_$DX_DELEGATE";function g(e,t,r,o={}){let s;return(0,n.createRoot)((o=>{s=o,t===document?e():T(t,e(),t.firstChild?null:void 0,r)}),o.owner),()=>{s(),t.textContent=""}}function h(e,t,r){let o;const s=()=>{const t=document.createElement("template");return t.innerHTML=e,r?t.content.firstChild.firstChild:t.content.firstChild},a=t?()=>(o||(o=s())).cloneNode(!0):()=>(0,n.untrack)((()=>document.importNode(o||(o=s()),!0)));return a.cloneNode=a,a}function v(e,t=window.document){const r=t[m]||(t[m]=new Set);for(let o=0,n=e.length;o<n;o++){const n=e[o];r.has(n)||(r.add(n),t.addEventListener(n,R))}}function b(e=window.document){if(e[m]){for(let t of e[m].keys())e.removeEventListener(t,R);delete e[m]}}function y(e,t,r){null==r?e.removeAttribute(t):e.setAttribute(t,r)}function x(e,t,r,o){null==o?e.removeAttributeNS(t,r):e.setAttributeNS(t,r,o)}function C(e,t){null==t?e.removeAttribute("class"):e.className=t}function w(e,t,r,o){if(o)Array.isArray(r)?(e[`$$${t}`]=r[0],e[`$$${t}Data`]=r[1]):e[`$$${t}`]=r;else if(Array.isArray(r)){const o=r[0];e.addEventListener(t,r[0]=t=>o.call(e,r[1],t))}else e.addEventListener(t,r)}function k(e,t,r={}){const o=Object.keys(t||{}),n=Object.keys(r);let s,a;for(s=0,a=n.length;s<a;s++){const o=n[s];o&&"undefined"!==o&&!t[o]&&(E(e,o,!1),delete r[o])}for(s=0,a=o.length;s<a;s++){const n=o[s],a=!!t[n];n&&"undefined"!==n&&r[n]!==a&&a&&(E(e,n,!0),r[n]=a)}return r}function j(e,t,r){if(!t)return r?y(e,"style"):t;const o=e.style;if("string"==typeof t)return o.cssText=t;let n,s;for(s in"string"==typeof r&&(o.cssText=r=void 0),r||(r={}),t||(t={}),r)null==t[s]&&o.removeProperty(s),delete r[s];for(s in t)n=t[s],n!==r[s]&&(o.setProperty(s,n),r[s]=n);return r}function _(e,t={},r,o){const s={};return o||(0,n.createRenderEffect)((()=>s.children=U(e,t.children,s.children))),(0,n.createRenderEffect)((()=>t.ref&&t.ref(e))),(0,n.createRenderEffect)((()=>I(e,t,r,!0,s,!0))),s}function D(e,t){const r=e[t];return Object.defineProperty(e,t,{get:()=>r(),enumerable:!0}),e}function S(e,t){!n.sharedConfig.context&&(e.innerHTML=t)}function F(e,t,r){return(0,n.untrack)((()=>e(t,r)))}function T(e,t,r,o){if(void 0===r||o||(o=[]),"function"!=typeof t)return U(e,t,o,r);(0,n.createRenderEffect)((o=>U(e,t(),o,r)),o)}function I(e,t,r,o,n={},s=!1){t||(t={});for(const o in n)if(!(o in t)){if("children"===o)continue;n[o]=O(e,o,null,n[o],r,s)}for(const a in t){if("children"===a){o||U(e,t.children);continue}const c=t[a];n[a]=O(e,a,c,n[a],r,s)}}function P(e){let t,r;if(!n.sharedConfig.context||!(t=n.sharedConfig.registry.get(r=z()))){if(n.sharedConfig.context&&console.warn("Unable to find DOM nodes for hydration key:",r),!e)throw new Error("Unrecoverable Hydration Mismatch. No template for key: "+r);return e()}return n.sharedConfig.completed&&n.sharedConfig.completed.add(t),n.sharedConfig.registry.delete(r),t}function $(e,t){for(;e&&e.localName!==t;)e=e.nextSibling;return e}function M(e){let t=e,r=0,o=[];if(n.sharedConfig.context)for(;t;){if(8===t.nodeType){const e=t.nodeValue;if("#"===e)r++;else if("/"===e){if(0===r)return[t,o];r--}}o.push(t),t=t.nextSibling}return[t,o]}function A(){n.sharedConfig.events&&!n.sharedConfig.events.queued&&(queueMicrotask((()=>{const{completed:e,events:t}=n.sharedConfig;for(t.queued=!1;t.length;){const[r,o]=t[0];if(!e.has(r))return;R(o),t.shift()}})),n.sharedConfig.events.queued=!0)}function E(e,t,r){const o=t.trim().split(/\s+/);for(let t=0,n=o.length;t<n;t++)e.classList.toggle(o[t],r)}function O(e,t,r,o,n,i){let d,f,m,g,h;if("style"===t)return j(e,r,o);if("classList"===t)return k(e,r,o);if(r===o)return o;if("ref"===t)i||r(e);else if("on:"===t.slice(0,3)){const n=t.slice(3);o&&e.removeEventListener(n,o),r&&e.addEventListener(n,r)}else if("oncapture:"===t.slice(0,10)){const n=t.slice(10);o&&e.removeEventListener(n,o,!0),r&&e.addEventListener(n,r,!0)}else if("on"===t.slice(0,2)){const n=t.slice(2).toLowerCase(),s=p.has(n);if(!s&&o){const t=Array.isArray(o)?o[0]:o;e.removeEventListener(n,t)}(s||r)&&(w(e,n,r,s),s&&v([n]))}else if("attr:"===t.slice(0,5))y(e,t.slice(5),r);else if((h="prop:"===t.slice(0,5))||(m=a.has(t))||!n&&((g=l(t,e.tagName))||(f=s.has(t)))||(d=e.nodeName.includes("-")))h&&(t=t.slice(5),f=!0),"class"===t||"className"===t?C(e,r):!d||f||m?e[g||t]=r:e[(b=t,b.toLowerCase().replace(/-([a-z])/g,((e,t)=>t.toUpperCase())))]=r;else{const o=n&&t.indexOf(":")>-1&&u[t.split(":")[0]];o?x(e,o,t,r):y(e,c[t]||t,r)}var b;return r}function R(e){const t=`$$${e.type}`;let r=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==r&&Object.defineProperty(e,"target",{configurable:!0,value:r}),Object.defineProperty(e,"currentTarget",{configurable:!0,get:()=>r||document}),n.sharedConfig.registry&&!n.sharedConfig.done&&(n.sharedConfig.done=_$HY.done=!0);r;){const o=r[t];if(o&&!r.disabled){const n=r[`${t}Data`];if(void 0!==n?o.call(r,n,e):o.call(r,e),e.cancelBubble)return}r=r._$host||r.parentNode||r.host}}function U(e,t,r,o,s){if(n.sharedConfig.context){!r&&(r=[...e.childNodes]);let t=[];for(let e=0;e<r.length;e++){const o=r[e];8===o.nodeType&&"!$"===o.data.slice(0,2)?o.remove():t.push(o)}r=t}for(;"function"==typeof r;)r=r();if(t===r)return r;const a=typeof t,c=void 0!==o;if(e=c&&r[0]&&r[0].parentNode||e,"string"===a||"number"===a){if(n.sharedConfig.context)return r;if("number"===a&&(t=t.toString()),c){let n=r[0];n&&3===n.nodeType?n.data=t:n=document.createTextNode(t),r=L(e,r,o,n)}else r=""!==r&&"string"==typeof r?e.firstChild.data=t:e.textContent=t}else if(null==t||"boolean"===a){if(n.sharedConfig.context)return r;r=L(e,r,o)}else{if("function"===a)return(0,n.createRenderEffect)((()=>{let n=t();for(;"function"==typeof n;)n=n();r=U(e,n,r,o)})),()=>r;if(Array.isArray(t)){const a=[],i=r&&Array.isArray(r);if(N(a,t,r,s))return(0,n.createRenderEffect)((()=>r=U(e,a,r,o,!0))),()=>r;if(n.sharedConfig.context){if(!a.length)return r;for(let e=0;e<a.length;e++)if(a[e].parentNode)return r=a}if(0===a.length){if(r=L(e,r,o),c)return r}else i?0===r.length?B(e,a,o):function(e,t,r){let o=r.length,n=t.length,s=o,a=0,c=0,i=t[n-1].nextSibling,l=null;for(;a<n||c<s;)if(t[a]!==r[c]){for(;t[n-1]===r[s-1];)n--,s--;if(n===a){const t=s<o?c?r[c-1].nextSibling:r[s-c]:i;for(;c<s;)e.insertBefore(r[c++],t)}else if(s===c)for(;a<n;)l&&l.has(t[a])||t[a].remove(),a++;else if(t[a]===r[s-1]&&r[c]===t[n-1]){const o=t[--n].nextSibling;e.insertBefore(r[c++],t[a++].nextSibling),e.insertBefore(r[--s],o),t[n]=r[s]}else{if(!l){l=new Map;let e=c;for(;e<s;)l.set(r[e],e++)}const o=l.get(t[a]);if(null!=o)if(c<o&&o<s){let i,p=a,d=1;for(;++p<n&&p<s&&null!=(i=l.get(t[p]))&&i===o+d;)d++;if(d>o-c){const n=t[a];for(;c<o;)e.insertBefore(r[c++],n)}else e.replaceChild(r[c++],t[a++])}else a++;else t[a++].remove()}}else a++,c++}(e,r,a):(r&&L(e),B(e,a));r=a}else if(t instanceof Node){if(n.sharedConfig.context&&t.parentNode)return r=c?[t]:t;if(Array.isArray(r)){if(c)return r=L(e,r,o,t);L(e,r,null,t)}else null!=r&&""!==r&&e.firstChild?e.replaceChild(t,e.firstChild):e.appendChild(t);r=t}else console.warn("Unrecognized value. Skipped inserting",t)}return r}function N(e,t,r,o){let n=!1;for(let s=0,a=t.length;s<a;s++){let a=t[s],c=r&&r[s];if(a instanceof Node)e.push(a);else if(null==a||!0===a||!1===a);else if(Array.isArray(a))n=N(e,a,c)||n;else if("function"==typeof a)if(o){for(;"function"==typeof a;)a=a();n=N(e,Array.isArray(a)?a:[a],Array.isArray(c)?c:[c])||n}else e.push(a),n=!0;else{const t=String(a);c&&3===c.nodeType?(c.data=t,e.push(c)):e.push(document.createTextNode(t))}}return n}function B(e,t,r=null){for(let o=0,n=t.length;o<n;o++)e.insertBefore(t[o],r)}function L(e,t,r,o){if(void 0===r)return e.textContent="";const n=o||document.createTextNode("");if(t.length){let o=!1;for(let s=t.length-1;s>=0;s--){const a=t[s];if(n!==a){const t=a.parentNode===e;o||s?t&&a.remove():t?e.replaceChild(n,a):e.insertBefore(n,r)}else o=!0}}else e.insertBefore(n,r);return[n]}function V(e,t){const r=e.querySelectorAll("*[data-hk]");for(let e=0;e<r.length;e++){const o=r[e],s=o.getAttribute("data-hk");t&&!s.startsWith(t)||n.sharedConfig.registry.has(s)||n.sharedConfig.registry.set(s,o)}}function z(){const e=n.sharedConfig.context;return`${e.id}${e.count++}`}function q(e){return n.sharedConfig.context?void 0:e.children}function H(e){return e.children}function G(){}function K(e){const t=new Error(`${e.name} is not supported in the browser, returning undefined`);console.error(t)}function W(e,t){K(W)}function Y(e,t){K(Y)}function X(e,t){K(X)}function Z(e,...t){}function Q(e,t,r,o){}function J(e){}function ee(e){}function te(e,t){}function re(){}function oe(e){}function ne(e){}function se(e,t,r){}const ae=!1,ce=!1,ie="http://www.w3.org/2000/svg";function le(e,t=!1){return t?document.createElementNS(ie,e):document.createElement(e)}const pe=(...e)=>((0,n.enableHydration)(),function(e,t,r={}){n.sharedConfig.completed=globalThis._$HY.completed,n.sharedConfig.events=globalThis._$HY.events,n.sharedConfig.load=globalThis._$HY.load,n.sharedConfig.gather=e=>V(t,e),n.sharedConfig.registry=new Map,n.sharedConfig.context={id:r.renderId||"",count:0},V(t,r.renderId);const o=g(e,t,[...t.childNodes],r);return n.sharedConfig.context=null,o}(...e));function de(e){const{useShadow:t}=e,r=document.createTextNode(""),o=(0,n.getOwner)();let s,a=!!n.sharedConfig.context;return(0,n.createEffect)((()=>{a&&((0,n.getOwner)().user=a=!1),s||(s=(0,n.runWithOwner)(o,(()=>e.children)));const c=e.mount||document.body;if(c instanceof HTMLHeadElement){const[e,t]=(0,n.createSignal)(!1),r=()=>t(!0);(0,n.createRoot)((t=>T(c,(()=>e()?t():s),null))),(0,n.onCleanup)(r)}else{const o=le(e.isSVG?"g":"div",e.isSVG),a=t&&o.attachShadow?o.attachShadow({mode:"open"}):o;Object.defineProperty(o,"_$host",{get:()=>r.parentNode,configurable:!0}),T(a,s),c.appendChild(o),e.ref&&e.ref(o),(0,n.onCleanup)((()=>c.removeChild(o)))}}),void 0,{render:!a}),r}function ue(e){const[t,r]=(0,n.splitProps)(e,["component"]),o=(0,n.createMemo)((()=>t.component));return(0,n.createMemo)((()=>{const e=o();switch(typeof e){case"function":return Object.assign(e,{[n.$DEVCOMP]:!0}),(0,n.untrack)((()=>e(r)));case"string":const t=d.has(e),o=n.sharedConfig.context?P():le(e,t);return _(o,r,t),o}}))}},{"solid-js":"5rsr6","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],"5rsr6":[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"$DEVCOMP",(()=>j)),o.export(r,"$PROXY",(()=>w)),o.export(r,"$TRACK",(()=>k)),o.export(r,"DEV",(()=>ut)),o.export(r,"ErrorBoundary",(()=>ct)),o.export(r,"For",(()=>et)),o.export(r,"Index",(()=>tt)),o.export(r,"Match",(()=>nt)),o.export(r,"Show",(()=>rt)),o.export(r,"Suspense",(()=>dt)),o.export(r,"SuspenseList",(()=>pt)),o.export(r,"Switch",(()=>ot)),o.export(r,"batch",(()=>Q)),o.export(r,"cancelCallback",(()=>v)),o.export(r,"catchError",(()=>oe)),o.export(r,"children",(()=>fe)),o.export(r,"createComponent",(()=>qe)),o.export(r,"createComputed",(()=>q)),o.export(r,"createContext",(()=>de)),o.export(r,"createDeferred",(()=>X)),o.export(r,"createEffect",(()=>G)),o.export(r,"createMemo",(()=>W)),o.export(r,"createReaction",(()=>K)),o.export(r,"createRenderEffect",(()=>H)),o.export(r,"createResource",(()=>Y)),o.export(r,"createRoot",(()=>V)),o.export(r,"createSelector",(()=>Z)),o.export(r,"createSignal",(()=>z)),o.export(r,"createUniqueId",(()=>Qe)),o.export(r,"enableExternalSource",(()=>he)),o.export(r,"enableHydration",(()=>ze)),o.export(r,"enableScheduling",(()=>ie)),o.export(r,"equalFn",(()=>C)),o.export(r,"from",(()=>Re)),o.export(r,"getListener",(()=>se)),o.export(r,"getOwner",(()=>ae)),o.export(r,"indexArray",(()=>Le)),o.export(r,"lazy",(()=>Xe)),o.export(r,"mapArray",(()=>Be)),o.export(r,"mergeProps",(()=>We)),o.export(r,"observable",(()=>Oe)),o.export(r,"on",(()=>ee)),o.export(r,"onCleanup",(()=>re)),o.export(r,"onError",(()=>ne)),o.export(r,"onMount",(()=>te)),o.export(r,"requestCallback",(()=>h)),o.export(r,"resetErrorBoundaries",(()=>at)),o.export(r,"runWithOwner",(()=>ce)),o.export(r,"sharedConfig",(()=>y)),o.export(r,"splitProps",(()=>Ye)),o.export(r,"startTransition",(()=>le)),o.export(r,"untrack",(()=>J)),o.export(r,"useContext",(()=>ue)),o.export(r,"useTransition",(()=>pe));let n=1,s=!1,a=!1,c=[],i=null,l=null,p=5,d=0,u=300,f=null,m=null;const g=1073741823;function h(e,t){f||function(){const e=new MessageChannel,t=e.port2;if(f=()=>t.postMessage(null),e.port1.onmessage=()=>{if(null!==m){const e=performance.now();d=e+p;const r=!0;try{m(r,e)?t.postMessage(null):m=null}catch(e){throw t.postMessage(null),e}}},navigator&&navigator.scheduling&&navigator.scheduling.isInputPending){const e=navigator.scheduling;l=()=>{const t=performance.now();return t>=d&&(!!e.isInputPending()||t>=u)}}else l=()=>performance.now()>=d}();let r=performance.now(),o=g;t&&t.timeout&&(o=t.timeout);const i={id:n++,fn:e,startTime:r,expirationTime:r+o};return function(e,t){e.splice(function(){let r=0,o=e.length-1;for(;r<=o;){const n=o+r>>1,s=t.expirationTime-e[n].expirationTime;if(s>0)r=n+1;else{if(!(s<0))return n;o=n-1}}return r}(),0,t)}(c,i),s||a||(s=!0,m=b,f()),i}function v(e){e.fn=null}function b(e,t){s=!1,a=!0;try{return function(e,t){let r=t;i=c[0]||null;for(;null!==i&&(!(i.expirationTime>r)||e&&!l());){const e=i.fn;if(null!==e){i.fn=null;e(i.expirationTime<=r),r=performance.now(),i===c[0]&&c.shift()}else c.shift();i=c[0]||null}return null!==i}(e,t)}finally{i=null,a=!1}}const y={context:void 0,registry:void 0};function x(e){y.context=e}const C=(e,t)=>e===t,w=Symbol("solid-proxy"),k=Symbol("solid-track"),j=Symbol("solid-dev-component"),_={equals:C};let D=null,S=je;const F=1,T=2,I={owned:null,cleanups:null,context:null,owner:null},P={};var $=null;let M=null,A=null,E=null,O=null,R=null,U=null,N=0;const[B,L]=z(!1);function V(e,t){const r=O,o=$,n=0===e.length,s=n?I:{owned:null,cleanups:null,context:null,owner:void 0===t?o:t},a=n?e:()=>e((()=>J((()=>Fe(s)))));$=s,O=null;try{return ke(a,!0)}finally{O=r,$=o}}function z(e,t){const r={value:e,observers:null,observerSlots:null,comparator:(t=t?Object.assign({},_,t):_).equals||void 0};return[ve.bind(r),e=>("function"==typeof e&&(e=M&&M.running&&M.sources.has(r)?e(r.tValue):e(r.value)),be(r,e))]}function q(e,t,r){const o=Ce(e,t,!0,F);A&&M&&M.running?R.push(o):ye(o)}function H(e,t,r){const o=Ce(e,t,!1,F);A&&M&&M.running?R.push(o):ye(o)}function G(e,t,r){S=_e;const o=Ce(e,t,!1,F),n=me&&Me($,me.id);n&&(o.suspense=n),r&&r.render||(o.user=!0),U?U.push(o):ye(o)}function K(e,t){let r;const o=Ce((()=>{r?r():J(e),r=void 0}),void 0,!1,0),n=me&&Me($,me.id);return n&&(o.suspense=n),o.user=!0,e=>{r=e,ye(o)}}function W(e,t,r){r=r?Object.assign({},_,r):_;const o=Ce(e,t,!0,0);return o.observers=null,o.observerSlots=null,o.comparator=r.equals||void 0,A&&M&&M.running?(o.tState=F,R.push(o)):ye(o),ve.bind(o)}function Y(e,t,r){let o,n,s;2===arguments.length&&"object"==typeof t||1===arguments.length?(o=!0,n=e,s=t||{}):(o=e,n=t,s=r||{});let a=null,c=P,i=null,l=!1,p=!1,d="initialValue"in s,u="function"==typeof o&&W(o);const f=new Set,[m,g]=(s.storage||z)(s.initialValue),[h,v]=z(void 0),[b,x]=z(void 0,{equals:!1}),[C,w]=z(d?"ready":"unresolved");if(y.context){let e;i=`${y.context.id}${y.context.count++}`,"initial"===s.ssrLoadFrom?c=s.initialValue:y.load&&(e=y.load(i))&&(c=e[0])}function k(e,t,r,o){return a===e&&(a=null,d=!0,e!==c&&t!==c||!s.onHydrated||queueMicrotask((()=>s.onHydrated(o,{value:t}))),c=P,M&&e&&l?(M.promises.delete(e),l=!1,ke((()=>{M.running=!0,j(t,r)}),!1)):j(t,r)),t}function j(e,t){ke((()=>{void 0===t&&g((()=>e)),w(void 0!==t?"errored":"ready"),v(t);for(const e of f.keys())e.decrement();f.clear()}),!1)}function _(){const e=me&&Me($,me.id),t=m(),r=h();if(void 0!==r&&!a)throw r;return O&&!O.user&&e&&q((()=>{b(),a&&(e.resolved&&M&&l?M.promises.add(a):f.has(e)||(e.increment(),f.add(e)))})),t}function D(e=!0){if(!1!==e&&p)return;p=!1;const t=u?u():o;if(l=M&&M.running,null==t||!1===t)return void k(a,J(m));M&&a&&M.promises.delete(a);const r=c!==P?c:J((()=>n(t,{value:m(),refetching:e})));return"object"==typeof r&&r&&"then"in r?(a=r,p=!0,queueMicrotask((()=>p=!1)),ke((()=>{w(d?"refreshing":"pending"),x()}),!1),r.then((e=>k(r,e,void 0,t)),(e=>k(r,void 0,Ie(e),t)))):(k(a,r,void 0,t),r)}return Object.defineProperties(_,{state:{get:()=>C()},error:{get:()=>h()},loading:{get(){const e=C();return"pending"===e||"refreshing"===e}},latest:{get(){if(!d)return _();const e=h();if(e&&!a)throw e;return m()}}}),u?q((()=>D(!1))):D(!1),[_,{refetch:D,mutate:g}]}function X(e,t){let r,o=t?t.timeoutMs:void 0;const n=Ce((()=>(r&&r.fn||(r=h((()=>a((()=>n.value))),void 0!==o?{timeout:o}:void 0)),e())),void 0,!0),[s,a]=z(n.value,t);return ye(n),a((()=>n.value)),s}function Z(e,t=C,r){const o=new Map,n=Ce((r=>{const n=e();for(const[e,s]of o.entries())if(t(e,n)!==t(e,r))for(const e of s.values())e.state=F,e.pure?R.push(e):U.push(e);return n}),void 0,!0,F);return ye(n),e=>{const r=O;if(r){let t;(t=o.get(e))?t.add(r):o.set(e,t=new Set([r])),re((()=>{t.delete(r),!t.size&&o.delete(e)}))}return t(e,M&&M.running&&M.sources.has(n)?n.tValue:n.value)}}function Q(e){return ke(e,!1)}function J(e){if(null===O)return e();const t=O;O=null;try{return e()}finally{O=t}}function ee(e,t,r){const o=Array.isArray(e);let n,s=r&&r.defer;return r=>{let a;if(o){a=Array(e.length);for(let t=0;t<e.length;t++)a[t]=e[t]()}else a=e();if(s)return void(s=!1);const c=J((()=>t(a,n,r)));return n=a,c}}function te(e){G((()=>J(e)))}function re(e){return null===$||(null===$.cleanups?$.cleanups=[e]:$.cleanups.push(e)),e}function oe(e,t){D||(D=Symbol("error")),($=Ce(void 0,void 0,!0)).context={[D]:[t]},M&&M.running&&M.sources.add($);try{return e()}catch(e){$e(e)}finally{$=$.owner}}function ne(e){D||(D=Symbol("error")),null===$||(null===$.context?$.context={[D]:[e]}:$.context[D]?$.context[D].push(e):$.context[D]=[e])}function se(){return O}function ae(){return $}function ce(e,t){const r=$,o=O;$=e,O=null;try{return ke(t,!0)}catch(e){$e(e)}finally{$=r,O=o}}function ie(e=h){A=e}function le(e){if(M&&M.running)return e(),M.done;const t=O,r=$;return Promise.resolve().then((()=>{let o;return O=t,$=r,(A||me)&&(o=M||(M={sources:new Set,effects:[],promises:new Set,disposed:new Set,queue:new Set,running:!0}),o.done||(o.done=new Promise((e=>o.resolve=e))),o.running=!0),ke(e,!1),O=$=null,o?o.done:void 0}))}function pe(){return[B,le]}function de(e,t){const r=Symbol("context");return{id:r,Provider:Ee(r),defaultValue:e}}function ue(e){let t;return void 0!==(t=Me($,e.id))?t:e.defaultValue}function fe(e){const t=W(e),r=W((()=>Ae(t())));return r.toArray=()=>{const e=r();return Array.isArray(e)?e:null!=e?[e]:[]},r}let me;function ge(){return me||(me=de({}))}function he(e){if(E){const t=E;E=(r,o)=>{const n=t(r,o),s=e((e=>n.track(e)),o);return{track:e=>s.track(e),dispose(){s.dispose(),n.dispose()}}}}else E=e}function ve(){const e=M&&M.running;if(this.sources&&(e?this.tState:this.state))if((e?this.tState:this.state)===F)ye(this);else{const e=R;R=null,ke((()=>De(this)),!1),R=e}if(O){const e=this.observers?this.observers.length:0;O.sources?(O.sources.push(this),O.sourceSlots.push(e)):(O.sources=[this],O.sourceSlots=[e]),this.observers?(this.observers.push(O),this.observerSlots.push(O.sources.length-1)):(this.observers=[O],this.observerSlots=[O.sources.length-1])}return e&&M.sources.has(this)?this.tValue:this.value}function be(e,t,r){let o=M&&M.running&&M.sources.has(e)?e.tValue:e.value;if(!e.comparator||!e.comparator(o,t)){if(M){const o=M.running;(o||!r&&M.sources.has(e))&&(M.sources.add(e),e.tValue=t),o||(e.value=t)}else e.value=t;e.observers&&e.observers.length&&ke((()=>{for(let t=0;t<e.observers.length;t+=1){const r=e.observers[t],o=M&&M.running;o&&M.disposed.has(r)||((o?r.tState:r.state)||(r.pure?R.push(r):U.push(r),r.observers&&Se(r)),o?r.tState=F:r.state=F)}if(R.length>1e6)throw R=[],new Error}),!1)}return t}function ye(e){if(!e.fn)return;Fe(e);const t=$,r=O,o=N;O=$=e,xe(e,M&&M.running&&M.sources.has(e)?e.tValue:e.value,o),M&&!M.running&&M.sources.has(e)&&queueMicrotask((()=>{ke((()=>{M&&(M.running=!0),O=$=e,xe(e,e.tValue,o),O=$=null}),!1)})),O=r,$=t}function xe(e,t,r){let o;try{o=e.fn(t)}catch(t){return e.pure&&(M&&M.running?(e.tState=F,e.tOwned&&e.tOwned.forEach(Fe),e.tOwned=void 0):(e.state=F,e.owned&&e.owned.forEach(Fe),e.owned=null)),e.updatedAt=r+1,$e(t)}(!e.updatedAt||e.updatedAt<=r)&&(null!=e.updatedAt&&"observers"in e?be(e,o,!0):M&&M.running&&e.pure?(M.sources.add(e),e.tValue=o):e.value=o,e.updatedAt=r)}function Ce(e,t,r,o=F,n){const s={fn:e,state:o,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:$,context:null,pure:r};if(M&&M.running&&(s.state=0,s.tState=o),null===$||$!==I&&(M&&M.running&&$.pure?$.tOwned?$.tOwned.push(s):$.tOwned=[s]:$.owned?$.owned.push(s):$.owned=[s]),E){const[e,t]=z(void 0,{equals:!1}),r=E(s.fn,t);re((()=>r.dispose()));const o=()=>le(t).then((()=>n.dispose())),n=E(s.fn,o);s.fn=t=>(e(),M&&M.running?n.track(t):r.track(t))}return s}function we(e){const t=M&&M.running;if(0===(t?e.tState:e.state))return;if((t?e.tState:e.state)===T)return De(e);if(e.suspense&&J(e.suspense.inFallback))return e.suspense.effects.push(e);const r=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<N);){if(t&&M.disposed.has(e))return;(t?e.tState:e.state)&&r.push(e)}for(let o=r.length-1;o>=0;o--){if(e=r[o],t){let t=e,n=r[o+1];for(;(t=t.owner)&&t!==n;)if(M.disposed.has(t))return}if((t?e.tState:e.state)===F)ye(e);else if((t?e.tState:e.state)===T){const t=R;R=null,ke((()=>De(e,r[0])),!1),R=t}}}function ke(e,t){if(R)return e();let r=!1;t||(R=[]),U?r=!0:U=[],N++;try{const t=e();return function(e){R&&(A&&M&&M.running?function(e){for(let t=0;t<e.length;t++){const r=e[t],o=M.queue;o.has(r)||(o.add(r),A((()=>{o.delete(r),ke((()=>{M.running=!0,we(r)}),!1),M&&(M.running=!1)})))}}(R):je(R),R=null);if(e)return;let t;if(M)if(M.promises.size||M.queue.size){if(M.running)return M.running=!1,M.effects.push.apply(M.effects,U),U=null,void L(!0)}else{const e=M.sources,r=M.disposed;U.push.apply(U,M.effects),t=M.resolve;for(const e of U)"tState"in e&&(e.state=e.tState),delete e.tState;M=null,ke((()=>{for(const e of r)Fe(e);for(const t of e){if(t.value=t.tValue,t.owned)for(let e=0,r=t.owned.length;e<r;e++)Fe(t.owned[e]);t.tOwned&&(t.owned=t.tOwned),delete t.tValue,delete t.tOwned,t.tState=0}L(!1)}),!1)}const r=U;U=null,r.length&&ke((()=>S(r)),!1);t&&t()}(r),t}catch(e){r||(U=null),R=null,$e(e)}}function je(e){for(let t=0;t<e.length;t++)we(e[t])}function _e(e){let t,r=0;for(t=0;t<e.length;t++){const o=e[t];o.user?e[r++]=o:we(o)}for(y.context&&x(),t=0;t<r;t++)we(e[t])}function De(e,t){const r=M&&M.running;r?e.tState=0:e.state=0;for(let o=0;o<e.sources.length;o+=1){const n=e.sources[o];if(n.sources){const e=r?n.tState:n.state;e===F?n!==t&&(!n.updatedAt||n.updatedAt<N)&&we(n):e===T&&De(n,t)}}}function Se(e){const t=M&&M.running;for(let r=0;r<e.observers.length;r+=1){const o=e.observers[r];(t?o.tState:o.state)||(t?o.tState=T:o.state=T,o.pure?R.push(o):U.push(o),o.observers&&Se(o))}}function Fe(e){let t;if(e.sources)for(;e.sources.length;){const t=e.sources.pop(),r=e.sourceSlots.pop(),o=t.observers;if(o&&o.length){const e=o.pop(),n=t.observerSlots.pop();r<o.length&&(e.sourceSlots[n]=r,o[r]=e,t.observerSlots[r]=n)}}if(M&&M.running&&e.pure){if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)Fe(e.tOwned[t]);delete e.tOwned}Te(e,!0)}else if(e.owned){for(t=e.owned.length-1;t>=0;t--)Fe(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}M&&M.running?e.tState=0:e.state=0,e.context=null}function Te(e,t){if(t||(e.tState=0,M.disposed.add(e)),e.owned)for(let t=0;t<e.owned.length;t++)Te(e.owned[t])}function Ie(e){return e instanceof Error?e:new Error("string"==typeof e?e:"Unknown error",{cause:e})}function Pe(e,t){for(const r of e)r(t)}function $e(e){const t=D&&Me($,D);if(!t)throw e;const r=Ie(e);U?U.push({fn(){Pe(t,r)},state:F}):Pe(t,r)}function Me(e,t){return e?e.context&&void 0!==e.context[t]?e.context[t]:Me(e.owner,t):void 0}function Ae(e){if("function"==typeof e&&!e.length)return Ae(e());if(Array.isArray(e)){const t=[];for(let r=0;r<e.length;r++){const o=Ae(e[r]);Array.isArray(o)?t.push.apply(t,o):t.push(o)}return t}return e}function Ee(e,t){return function(t){let r;return H((()=>r=J((()=>($.context={[e]:t.value},fe((()=>t.children)))))),void 0),r}}function Oe(e){return{subscribe(t){if(!(t instanceof Object)||null==t)throw new TypeError("Expected the observer to be an object.");const r="function"==typeof t?t:t.next&&t.next.bind(t);if(!r)return{unsubscribe(){}};const o=V((t=>(G((()=>{const t=e();J((()=>r(t)))})),t)));return ae()&&re(o),{unsubscribe(){o()}}},[Symbol.observable||"@@observable"](){return this}}}function Re(e){const[t,r]=z(void 0,{equals:!1});if("subscribe"in e){const t=e.subscribe((e=>r((()=>e))));re((()=>"unsubscribe"in t?t.unsubscribe():t()))}else{re(e(r))}return t}const Ue=Symbol("fallback");function Ne(e){for(let t=0;t<e.length;t++)e[t]()}function Be(e,t,r={}){let o=[],n=[],s=[],a=0,c=t.length>1?[]:null;return re((()=>Ne(s))),()=>{let i,l,p=e()||[];return p[k],J((()=>{let e,t,u,f,m,g,h,v,b,y=p.length;if(0===y)0!==a&&(Ne(s),s=[],o=[],n=[],a=0,c&&(c=[])),r.fallback&&(o=[Ue],n[0]=V((e=>(s[0]=e,r.fallback()))),a=1);else if(0===a){for(n=new Array(y),l=0;l<y;l++)o[l]=p[l],n[l]=V(d);a=y}else{for(u=new Array(y),f=new Array(y),c&&(m=new Array(y)),g=0,h=Math.min(a,y);g<h&&o[g]===p[g];g++);for(h=a-1,v=y-1;h>=g&&v>=g&&o[h]===p[v];h--,v--)u[v]=n[h],f[v]=s[h],c&&(m[v]=c[h]);for(e=new Map,t=new Array(v+1),l=v;l>=g;l--)b=p[l],i=e.get(b),t[l]=void 0===i?-1:i,e.set(b,l);for(i=g;i<=h;i++)b=o[i],l=e.get(b),void 0!==l&&-1!==l?(u[l]=n[i],f[l]=s[i],c&&(m[l]=c[i]),l=t[l],e.set(b,l)):s[i]();for(l=g;l<y;l++)l in u?(n[l]=u[l],s[l]=f[l],c&&(c[l]=m[l],c[l](l))):n[l]=V(d);n=n.slice(0,a=y),o=p.slice(0)}return n}));function d(e){if(s[l]=e,c){const[e,r]=z(l);return c[l]=r,t(p[l],e)}return t(p[l])}}}function Le(e,t,r={}){let o,n=[],s=[],a=[],c=[],i=0;return re((()=>Ne(a))),()=>{const l=e()||[];return l[k],J((()=>{if(0===l.length)return 0!==i&&(Ne(a),a=[],n=[],s=[],i=0,c=[]),r.fallback&&(n=[Ue],s[0]=V((e=>(a[0]=e,r.fallback()))),i=1),s;for(n[0]===Ue&&(a[0](),a=[],n=[],s=[],i=0),o=0;o<l.length;o++)o<n.length&&n[o]!==l[o]?c[o]((()=>l[o])):o>=n.length&&(s[o]=V(p));for(;o<n.length;o++)a[o]();return i=c.length=a.length=l.length,n=l.slice(0),s=s.slice(0,i)}));function p(e){a[o]=e;const[r,n]=z(l[o]);return c[o]=n,t(r,o)}}}let Ve=!1;function ze(){Ve=!0}function qe(e,t){if(Ve&&y.context){const r=y.context;x({...y.context,id:`${y.context.id}${y.context.count++}-`,count:0});const o=J((()=>e(t||{})));return x(r),o}return J((()=>e(t||{})))}function He(){return!0}const Ge={get:(e,t,r)=>t===w?r:e.get(t),has:(e,t)=>t===w||e.has(t),set:He,deleteProperty:He,getOwnPropertyDescriptor:(e,t)=>({configurable:!0,enumerable:!0,get:()=>e.get(t),set:He,deleteProperty:He}),ownKeys:e=>e.keys()};function Ke(e){return(e="function"==typeof e?e():e)?e:{}}function We(...e){let t=!1;for(let r=0;r<e.length;r++){const o=e[r];t=t||!!o&&w in o,e[r]="function"==typeof o?(t=!0,W(o)):o}if(t)return new Proxy({get(t){for(let r=e.length-1;r>=0;r--){const o=Ke(e[r])[t];if(void 0!==o)return o}},has(t){for(let r=e.length-1;r>=0;r--)if(t in Ke(e[r]))return!0;return!1},keys(){const t=[];for(let r=0;r<e.length;r++)t.push(...Object.keys(Ke(e[r])));return[...new Set(t)]}},Ge);const r={};for(let t=e.length-1;t>=0;t--)if(e[t]){const o=Object.getOwnPropertyDescriptors(e[t]);for(const t in o)t in r||Object.defineProperty(r,t,{enumerable:!0,get(){for(let r=e.length-1;r>=0;r--){const o=(e[r]||{})[t];if(void 0!==o)return o}}})}return r}function Ye(e,...t){const r=new Set(t.flat());if(w in e){const o=t.map((t=>new Proxy({get:r=>t.includes(r)?e[r]:void 0,has:r=>t.includes(r)&&r in e,keys:()=>t.filter((t=>t in e))},Ge)));return o.push(new Proxy({get:t=>r.has(t)?void 0:e[t],has:t=>!r.has(t)&&t in e,keys:()=>Object.keys(e).filter((e=>!r.has(e)))},Ge)),o}const o=Object.getOwnPropertyDescriptors(e);return t.push(Object.keys(o).filter((e=>!r.has(e)))),t.map((t=>{const r={};for(let n=0;n<t.length;n++){const s=t[n];s in e&&Object.defineProperty(r,s,o[s]?o[s]:{get:()=>e[s],set:()=>!0,enumerable:!0})}return r}))}function Xe(e){let t,r;const o=o=>{const n=y.context;if(n){const[o,s]=z();(r||(r=e())).then((e=>{x(n),s((()=>e.default)),x()})),t=o}else if(!t){const[o]=Y((()=>(r||(r=e())).then((e=>e.default))));t=o}let s;return W((()=>(s=t())&&J((()=>{if(!n)return s(o);const e=y.context;x(n);const t=s(o);return x(e),t}))))};return o.preload=()=>r||((r=e()).then((e=>t=()=>e.default)),r),o}let Ze=0;function Qe(){const e=y.context;return e?`${e.id}${e.count++}`:"cl-"+Ze++}const Je=e=>`Stale read from <${e}>.`;function et(e){const t="fallback"in e&&{fallback:()=>e.fallback};return W(Be((()=>e.each),e.children,t||void 0))}function tt(e){const t="fallback"in e&&{fallback:()=>e.fallback};return W(Le((()=>e.each),e.children,t||void 0))}function rt(e){const t=e.keyed,r=W((()=>e.when),void 0,{equals:(e,r)=>t?e===r:!e==!r});return W((()=>{const o=r();if(o){const n=e.children;return"function"==typeof n&&n.length>0?J((()=>n(t?o:()=>{if(!J(r))throw Je("Show");return e.when}))):n}return e.fallback}),void 0,void 0)}function ot(e){let t=!1;const r=fe((()=>e.children)),o=W((()=>{let e=r();Array.isArray(e)||(e=[e]);for(let r=0;r<e.length;r++){const o=e[r].when;if(o)return t=!!e[r].keyed,[r,o,e[r]]}return[-1]}),void 0,{equals:(e,r)=>e[0]===r[0]&&(t?e[1]===r[1]:!e[1]==!r[1])&&e[2]===r[2]});return W((()=>{const[r,n,s]=o();if(r<0)return e.fallback;const a=s.children;return"function"==typeof a&&a.length>0?J((()=>a(t?n:()=>{if(J(o)[0]!==r)throw Je("Match");return s.when}))):a}),void 0,void 0)}function nt(e){return e}let st;function at(){st&&[...st].forEach((e=>e()))}function ct(e){let t,r;y.context&&y.load&&(r=y.load(y.context.id+y.context.count))&&(t=r[0]);const[o,n]=z(t,void 0);return st||(st=new Set),st.add(n),re((()=>st.delete(n))),W((()=>{let t;if(t=o()){const r=e.fallback;return"function"==typeof r&&r.length?J((()=>r(t,(()=>n())))):r}return oe((()=>e.children),n)}),void 0,void 0)}const it=(e,t)=>e.showContent===t.showContent&&e.showFallback===t.showFallback,lt=de();function pt(e){let t,[r,o]=z((()=>({inFallback:!1})));const n=ue(lt),[s,a]=z([]);n&&(t=n.register(W((()=>r()().inFallback))));const c=W((r=>{const o=e.revealOrder,n=e.tail,{showContent:a=!0,showFallback:c=!0}=t?t():{},i=s(),l="backwards"===o;if("together"===o){const e=i.every((e=>!e())),t=i.map((()=>({showContent:e&&a,showFallback:c})));return t.inFallback=!e,t}let p=!1,d=r.inFallback;const u=[];for(let e=0,t=i.length;e<t;e++){const r=l?t-e-1:e,o=i[r]();if(p||o){const e=!p;e&&(d=!0),u[r]={showContent:e,showFallback:!(n&&(!e||"collapsed"!==n))&&c},p=!0}else u[r]={showContent:a,showFallback:c}}return p||(d=!1),u.inFallback=d,u}),{inFallback:!1});return o((()=>c)),qe(lt.Provider,{value:{register:e=>{let t;return a((r=>(t=r.length,[...r,e]))),W((()=>c()[t]),void 0,{equals:it})}},get children(){return e.children}})}function dt(e){let t,r,o,n,s,a=0;const[c,i]=z(!1),l=ge(),p={increment:()=>{1==++a&&i(!0)},decrement:()=>{0==--a&&i(!1)},inFallback:c,effects:[],resolved:!1},d=ae();if(y.context&&y.load){const e=y.context.id+y.context.count;let t=y.load(e);if(t&&(o=t[0])&&"$$f"!==o){"object"==typeof o&&"then"in o||(o=Promise.resolve(o));const[t,a]=z(void 0,{equals:!1});n=t,o.then((t=>{if(t||y.done)return t&&(s=t),a();y.gather(e),x(r),a(),x()}))}}const u=ue(lt);let f;return u&&(t=u.register(p.inFallback)),re((()=>f&&f())),qe(l.Provider,{value:p,get children(){return W((()=>{if(s)throw s;if(r=y.context,n)return n(),n=void 0;r&&"$$f"===o&&x();const a=W((()=>e.children));return W((n=>{const s=p.inFallback(),{showContent:c=!0,showFallback:i=!0}=t?t():{};return(!s||o&&"$$f"!==o)&&c?(p.resolved=!0,f&&f(),f=r=o=void 0,l=p.effects,U.push.apply(U,l),l.length=0,a()):i?f?n:V((t=>(f=t,r&&(x({id:r.id+"f",count:0}),r=void 0),e.fallback)),d):void 0;var l}))}))}})}const ut=void 0},{"@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],k3151:[function(e,t,r){r.interopDefault=function(e){return e&&e.__esModule?e:{default:e}},r.defineInteropFlag=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.exportAll=function(e,t){return Object.keys(e).forEach((function(r){"default"===r||"__esModule"===r||t.hasOwnProperty(r)||Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[r]}})})),t},r.export=function(e,t,r){Object.defineProperty(e,t,{enumerable:!0,get:r})}},{}],axFgj:[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"createTable",(()=>i));var n=e("solid-js/web"),s=(e("solid-js"),e("./table")),a=e("./table_controller"),c=e("ui/animation/animation_manager");function i(e){const t=a.tableUIDescriptor.create({view:a.View.TopDownBookCentered}),r=new(0,c.AnimationManager);return{Component:function(o){return(0,n.createComponent)(s.TableComponent,{get Book(){return o.Book},get Overlay(){return o.Overlay},get Hand(){return o.Hand},get Deck(){return o.Deck},get view(){return t.view},animations:r,onDragCancel:e})},controller:new(0,a.TableController)(t,r)}}},{"solid-js/web":"33rlw","solid-js":"5rsr6","./table":"gDBtG","./table_controller":"5G5V6","@parcel/transformer-js/src/esmodule-helpers.js":"k3151","ui/animation/animation_manager":"fbyYW"}],gDBtG:[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"TableComponent",(()=>p));var n=e("solid-js/web"),s=e("solid-js"),a=e("./table.module.scss"),c=o.interopDefault(a),i=e("./table_controller");const l=(0,n.template)("<div><div><div><div></div><div></div><div></div><div>");function p(e){const[t,r]=(0,s.createSignal)();return(()=>{const o=l(),s=o.firstChild,a=s.firstChild,p=a.firstChild,d=p.nextSibling,u=d.nextSibling,f=u.nextSibling;return(0,n.addEventListener)(o,"mouseup",e.onDragCancel,!0),(0,n.use)(r,a),(0,n.addEventListener)(a,"transitionend",e.animations.createTransitionEndEventListener(t,(()=>e.view))),(0,n.insert)(p,(0,n.createComponent)(e.Book,{})),(0,n.insert)(d,(0,n.createComponent)(e.Overlay,{})),(0,n.insert)(u,(0,n.createComponent)(e.Hand,{})),(0,n.insert)(f,(0,n.createComponent)(e.Deck,{})),(0,n.effect)((t=>{const r=c.default.room,l=c.default.container,m={[c.default.table]:!0,[c.default.tilted]:e.view===i.View.Tilted,[c.default.topDown]:e.view===i.View.TopDown,[c.default.topDownBookCentered]:e.view===i.View.TopDownBookCentered},g=c.default["book-slot"],h=c.default["overlay-slot"],v=c.default["hand-slot"],b=c.default["deck-slot"];return r!==t._v$&&(0,n.className)(o,t._v$=r),l!==t._v$2&&(0,n.className)(s,t._v$2=l),t._v$3=(0,n.classList)(a,m,t._v$3),g!==t._v$4&&(0,n.className)(p,t._v$4=g),h!==t._v$5&&(0,n.className)(d,t._v$5=h),v!==t._v$6&&(0,n.className)(u,t._v$6=v),b!==t._v$7&&(0,n.className)(f,t._v$7=b),t}),{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0}),o})()}(0,n.delegateEvents)(["mouseup"])},{"solid-js/web":"33rlw","./table.module.scss":"4ZLm7","./table_controller":"5G5V6","@parcel/transformer-js/src/esmodule-helpers.js":"k3151","solid-js":"5rsr6"}],"4ZLm7":[function(e,t,r){t.exports.cardWidth="min(5vw, 5vh)",t.exports.cardHeight="calc(min(5vw, 5vh) * 1.4)",t.exports.tableWidth="min(100vw, 100vh)",t.exports.tableHeight="calc(min(100vw, 100vh) * 1.3)",t.exports.pageWidth="30vh",t.exports.pageHeight="calc(30vh * 1.4)",t.exports.bookWidth="30vh",t.exports.bookHeight="calc(30vh * 1.4)",t.exports.bookTop="5%",t.exports.handSlotTop="8%",t.exports.handSlotWidth="45vh",t.exports.handSlotHeight="calc(min(5vw, 5vh) * 1.4)",t.exports.tableColor="#763F13",t.exports.tableColorDark="#221100",t.exports.tiltAngle="50deg",t.exports.card="card_e3e899",t.exports.flat="flat_e3e899",t.exports.flippingUpToVertical="flippingUpToVertical_e3e899",t.exports.flippingDownFromVertical="flippingDownFromVertical_e3e899",t.exports.internal="internal_e3e899",t.exports.room="room_e3e899",t.exports.container="container_e3e899",t.exports.table="table_e3e899",t.exports.topDown="topDown_e3e899",t.exports.topDownBookCentered="topDownBookCentered_e3e899",t.exports.tilted="tilted_e3e899",t.exports["book-slot"]="book-slot_e3e899",t.exports["overlay-slot"]="overlay-slot_e3e899",t.exports["hand-slot"]="hand-slot_e3e899",t.exports["deck-slot"]="deck-slot_e3e899"},{}],"5G5V6":[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"View",(()=>a)),o.export(r,"tableUIDescriptor",(()=>i)),o.export(r,"TableController",(()=>l));var n=e("model/descriptor/literals"),s=e("model/descriptor/record");let a;!function(e){e[e.TopDown=0]="TopDown",e[e.TopDownBookCentered=1]="TopDownBookCentered",e[e.Tilted=2]="Tilted"}(a||(a={}));const c=new(0,n.LiteralTypeDescriptor),i=(0,s.activeRecordDescriptor)({view:c});class l{constructor(e,t){this.tableUI=e,this.animations=t}async setView(e){if(this.tableUI.view!==e)return this.tableUI.view=e,this.animations.waitForAnimation(e)}}},{"model/descriptor/literals":"6SgZZ","model/descriptor/record":"9b5Fs","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],"6SgZZ":[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"LiteralTypeDescriptor",(()=>n)),o.export(r,"numberDescriptor",(()=>s)),o.export(r,"stringDescriptor",(()=>a)),o.export(r,"booleanDescriptor",(()=>c)),o.export(r,"componentDescriptor",(()=>i));class n{constructor(){}create(e){return e}snapshot(e){return e}freeze(e){return e}}const s=new n,a=new n,c=new n,i=new n},{"@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],"9b5Fs":[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"valueRecordDescriptor",(()=>a)),o.export(r,"activeRecordDescriptor",(()=>l));var n=e("solid-js");class s{constructor(e){this.attributeTypes=e}create(e){const t={};for(let r in this.attributeTypes){const o=this.attributeTypes[r],n=e[r],s=o.create(n);t[r]=s}return t}snapshot(e){const t={};for(let r in this.attributeTypes){const o=this.attributeTypes[r],n=e[r],s=o.snapshot(n);t[r]=s}return t}freeze(e){const t={};for(let r in this.attributeTypes){const o=this.attributeTypes[r],n=e[r],s=o.freeze(n);t[r]=s}return Object.freeze(t)}}function a(e){return new s(e)}class c{constructor(){}get(e,t){return e[t]?.[0]?.()}set(e,t,r){const o=e[t]?.[1];return o?.(r),null!=o}}class i{constructor(e){this.attributeTypes=e}create(e){const t={};for(let r in this.attributeTypes){const o=this.attributeTypes[r],s=e[r],a=o.create(s);t[r]=(0,n.createSignal)(a)}return new Proxy(t,new c)}snapshot(e){const t={};for(let r in this.attributeTypes){const o=this.attributeTypes[r],n=e[r],s=o.snapshot(n);t[r]=s}return t}freeze(e){const t={};for(let r in this.attributeTypes){const o=this.attributeTypes[r],n=e[r],s=o.snapshot(n);t[r]=s}return Object.freeze(t)}}function l(e){return new i(e)}},{"solid-js":"5rsr6","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],fbyYW:[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"AnimationCanceledError",(()=>a)),o.export(r,"AnimationManager",(()=>c));var n=e("../../base/delay"),s=e("../../base/flattened_promise");class a extends Error{}class c{animations=new Map;constructor(){}waitForAnimation(e,t=1e3){this.maybeCancelAnimation(e);const r=(0,s.createFlattenedPromise)();return this.animations.set(e,r),Promise.race([r.promise,(0,n.delay)(t)])}maybeCancelAnimation(e){const t=this.animations.get(e);t&&(t.reject(new a),this.animations.delete(e))}maybeCompleteAnimation(e){const t=this.animations.get(e);t&&(t.resolve(),this.animations.delete(e))}createAnimationEndEventListener(e,t){return r=>{const[o,n]=t();null!=r.target&&e()===r.target&&r.animationName===n&&this.maybeCompleteAnimation(o)}}createTransitionEndEventListener(e,t){return r=>{null!=r.target&&e()===r.target&&this.maybeCompleteAnimation(t())}}createCutoutPoppedUpOrDownCallback(e,t=e){return r=>{this.maybeCompleteAnimation(r?e:t)}}}},{"../../base/delay":"hGewO","../../base/flattened_promise":"9HvUW","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],hGewO:[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"delay",(()=>s));var n=e("./flattened_promise");function s(e){const{promise:t,resolve:r}=(0,n.createFlattenedPromise)();return setTimeout(r,e),t}},{"./flattened_promise":"9HvUW","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],"9HvUW":[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");function n(){let e,t;return{promise:new Promise(((r,o)=>{e=r,t=o})),resolve:t=>e(t),reject:e=>t(e)}}o.defineInteropFlag(r),o.export(r,"createFlattenedPromise",(()=>n))},{"@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],dTDP6:[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"createBook",(()=>i));var n=e("solid-js/web"),s=e("./book"),a=e("./book_controller"),c=e("ui/animation/animation_manager");function i({leftPageComponentManager:e,rightPageComponentManager:t,book:r}){function o(r){if(null!=r)return[(0,n.createComponent)(e.FactoryComponent,{model:r}),(0,n.createComponent)(t.FactoryComponent,{model:r})]}const i=new(0,c.AnimationManager),l=a.bookUIDescriptor.create({previousSpread:void 0,turnLeftToRight:!0});return{Component:e=>(0,n.createComponent)(s.BookComponent,{animations:i,get previousPages(){return o(l.previousSpread)},get currentPages(){return o(r.spread)},get onClickCover(){return e.onClickCover}}),controller:new(0,a.BookController)(r,l,i,[e,t])}}},{"solid-js/web":"33rlw","./book":"cxBFn","./book_controller":"ifMWd","@parcel/transformer-js/src/esmodule-helpers.js":"k3151","ui/animation/animation_manager":"fbyYW"}],cxBFn:[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"PageComponent",(()=>u)),o.export(r,"BookComponent",(()=>f));var n=e("solid-js/web"),s=e("solid-js"),a=e("./book.module.scss"),c=o.interopDefault(a);const i=(0,n.template)("<div>"),l=(0,n.template)("<h1>GRAND TERMINUS"),p=(0,n.template)("<div><div><div>"),d=64;function u(e){return(()=>{const t=i();return(0,n.addEventListener)(t,"click",e.onClick,!0),(0,n.insert)(t,(()=>e.children)),(0,n.effect)((r=>{const o=c.default.page,s={transform:`translateZ(${e.z}px)`,...e.style};return o!==r._v$&&(0,n.className)(t,r._v$=o),r._v$2=(0,n.style)(t,s,r._v$2),r}),{_v$:void 0,_v$2:void 0}),t})()}function f(e){const[t,r]=(0,s.createSignal)();return(()=>{const o=p(),a=o.firstChild,f=a.firstChild;return(0,n.insert)(a,(0,n.createComponent)(u,{z:-.5-d/2}),f),(0,n.insert)(a,(0,n.createComponent)(s.For,{get each(){return[...Array(d/2).keys()]},children:e=>(0,n.createComponent)(u,{z:-1.5-(d/2-1-e)})}),f),(0,n.insert)(a,(0,n.createComponent)(u,{z:-.5,get children(){return e.currentPages?.[1]}}),f),(0,n.use)(r,f),(0,n.addEventListener)(f,"animationend",e.animations.createAnimationEndEventListener(t,(()=>["turn",c.default.openAnimation]))),(0,n.insert)(f,(0,n.createComponent)(u,{z:.5,get children(){const t=i();return t.style.setProperty("transform","rotateY(180deg)"),(0,n.insert)(t,(()=>e.currentPages?.[0])),t}}),null),(0,n.insert)(f,(0,n.createComponent)(s.For,{get each(){return[...Array(d/2).keys()]},children:e=>(0,n.createComponent)(u,{z:1.5+e})}),null),(0,n.insert)(f,(0,n.createComponent)(u,{z:.5+d/2,get onClick(){return e.onClickCover},get children(){return l()}}),null),(0,n.effect)((t=>{const r=c.default.container,s=c.default.book,i={[c.default.spine]:!0,[c.default.open]:null!=e.currentPages};return r!==t._v$3&&(0,n.className)(o,t._v$3=r),s!==t._v$4&&(0,n.className)(a,t._v$4=s),t._v$5=(0,n.classList)(f,i,t._v$5),t}),{_v$3:void 0,_v$4:void 0,_v$5:void 0}),o})()}(0,n.delegateEvents)(["click"])},{"solid-js/web":"33rlw","solid-js":"5rsr6","./book.module.scss":"fSYuE","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],fSYuE:[function(e,t,r){t.exports.spine="kaCHXa_spine",t.exports.book="kaCHXa_book",t.exports.page="kaCHXa_page",t.exports.openAnimation="kaCHXa_openAnimation",t.exports.openAnimation,t.exports.container="kaCHXa_container",t.exports.open="kaCHXa_open"},{}],ifMWd:[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"bookUIDescriptor",(()=>l)),o.export(r,"BookController",(()=>p));var n=e("model/descriptor/literals"),s=e("model/descriptor/option"),a=e("model/descriptor/record"),c=e("model/domain"),i=e("solid-js");const l=(0,a.activeRecordDescriptor)({previousSpread:(0,s.optionalDescriptor)(c.bookSpreadDescriptor),turnLeftToRight:n.booleanDescriptor});class p{constructor(e,t,r,o){this.book=e,this.bookUI=t,this.animations=r,this.pageComponentManagers=o}async showSpread(e,t=!1){if(e!=this.book.spread){const r=this.book.spread;null!=r&&await Promise.all(this.pageComponentManagers.map((e=>e.lookupController(r)?.popDown()))),(0,i.batch)((()=>{this.bookUI.previousSpread=this.book.spread,this.bookUI.turnLeftToRight=t,this.book.spread=e})),await this.animations.waitForAnimation("turn"),null!=e&&await Promise.all(this.pageComponentManagers.map((t=>t.lookupController(e)?.popUp())))}}}},{"model/descriptor/literals":"6SgZZ","model/descriptor/option":"c8pK3","model/descriptor/record":"9b5Fs","@parcel/transformer-js/src/esmodule-helpers.js":"k3151","model/domain":"hG1oc","solid-js":"5rsr6"}],c8pK3:[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"optionalDescriptor",(()=>s));class n{constructor(e){this.mandatoryTypeDescriptor=e}create(e){return null!=e?this.mandatoryTypeDescriptor.create(e):void 0}snapshot(e){return null!=e?this.mandatoryTypeDescriptor.snapshot(e):void 0}freeze(e){return null!=e?this.mandatoryTypeDescriptor.freeze(e):void 0}}function s(e){return new n(e)}},{"@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],hG1oc:[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"SymbolType",(()=>l)),o.export(r,"symbolTypeDescriptor",(()=>p)),o.export(r,"EffectDirection",(()=>d)),o.export(r,"effectDescriptor",(()=>u)),o.export(r,"CardBackgroundType",(()=>f)),o.export(r,"CardFaceType",(()=>m)),o.export(r,"cardFaceResourceDescriptor",(()=>h)),o.export(r,"cardFaceResourceBackDescriptor",(()=>v)),o.export(r,"cardFaceChoiceDescriptor",(()=>b)),o.export(r,"cardFaceChoiceBackDescriptor",(()=>y)),o.export(r,"cardFaceDescriptor",(()=>x)),o.export(r,"cardTypeDescriptor",(()=>C)),o.export(r,"cardDescriptor",(()=>w)),o.export(r,"cardSlotDescriptor",(()=>k)),o.export(r,"BookSpreadType",(()=>j)),o.export(r,"bookSpreadTableOfContentsDescriptor",(()=>_)),o.export(r,"bookSpreadRoomDescriptor",(()=>D)),o.export(r,"bookSpreadDescriptor",(()=>S)),o.export(r,"bookDescriptor",(()=>F)),o.export(r,"gameDescriptor",(()=>T));var n=e("./descriptor/list"),s=e("./descriptor/literals"),a=e("./descriptor/option"),c=e("./descriptor/record"),i=e("./descriptor/union");let l;!function(e){e[e.Force=1]="Force",e[e.Finesse=2]="Finesse",e[e.Magic=3]="Magic",e[e.Fire=4]="Fire",e[e.Damage=5]="Damage",e[e.Age=6]="Age",e[e.Draw=7]="Draw"}(l||(l={}));const p=new(0,s.LiteralTypeDescriptor);let d;!function(e){e[e.Up=1]="Up",e[e.Down=2]="Down"}(d||(d={}));const u=(0,c.valueRecordDescriptor)({symbol:p,direction:new(0,s.LiteralTypeDescriptor)});let f,m;!function(e){e[e.Crosshatched=1]="Crosshatched",e[e.Clear=2]="Clear",e[e.Door=3]="Door",e[e.Passageway=4]="Passageway"}(f||(f={})),function(e){e[e.Resource=1]="Resource",e[e.ResourceBack=2]="ResourceBack",e[e.Choice=3]="Choice",e[e.ChoiceBack=4]="ChoiceBack"}(m||(m={}));const g={background:new(0,s.LiteralTypeDescriptor),cost:(0,n.listDescriptor)(u)},h=(0,c.valueRecordDescriptor)({type:new(0,s.LiteralTypeDescriptor),benefit:(0,n.listDescriptor)(u),...g}),v=(0,c.valueRecordDescriptor)({type:new(0,s.LiteralTypeDescriptor),...g}),b=(0,c.valueRecordDescriptor)({type:new(0,s.LiteralTypeDescriptor),effect:(0,n.listDescriptor)(u),...g}),y=(0,c.valueRecordDescriptor)({type:new(0,s.LiteralTypeDescriptor),...g}),x=(0,i.discriminatingUnionDescriptor)({1:h,2:v,3:b,4:y},(e=>e.type),(e=>e.type)),C=(0,c.valueRecordDescriptor)({name:s.stringDescriptor,faces:(0,n.listDescriptor)(x)}),w=(0,c.activeRecordDescriptor)({type:C,visibleFaceIndex:s.numberDescriptor}),k=(0,c.activeRecordDescriptor)({targetCard:(0,a.optionalDescriptor)(w),playedCards:(0,n.listDescriptor)(w)});let j;!function(e){e[e.TableOfContents=1]="TableOfContents",e[e.Room=2]="Room"}(j||(j={}));const _=(0,c.activeRecordDescriptor)({type:new(0,s.LiteralTypeDescriptor)}),D=(0,c.activeRecordDescriptor)({type:new(0,s.LiteralTypeDescriptor),cardSlots:(0,n.listDescriptor)(k)}),S=(0,i.discriminatingUnionDescriptor)({1:_,2:D},(e=>e.type),(e=>e.type)),F=(0,c.activeRecordDescriptor)({spread:(0,a.optionalDescriptor)(S)}),T=(0,c.activeRecordDescriptor)({book:F,cardSlots:(0,n.listDescriptor)(k)})},{"./descriptor/list":"lvxQr","./descriptor/literals":"6SgZZ","./descriptor/option":"c8pK3","./descriptor/record":"9b5Fs","./descriptor/union":"ivSrf","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],lvxQr:[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"listDescriptor",(()=>s));class n{constructor(e){this.elementTypeDescriptor=e}create(e){return e.map((e=>this.elementTypeDescriptor.create(e)))}snapshot(e){return e.map((e=>this.elementTypeDescriptor.snapshot(e)))}freeze(e){return Object.freeze(e.map((e=>this.elementTypeDescriptor.freeze(e))))}}function s(e){return new n(e)}},{"@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],ivSrf:[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"discriminatingUnionDescriptor",(()=>s));class n{constructor(e,t,r){this.cases=e,this.discriminatorState=t,this.discriminatorMutable=r}create(e){const t=this.discriminatorState(e);return this.cases[t].create(e)}snapshot(e){const t=this.discriminatorMutable(e);return this.cases[t].snapshot(e)}freeze(e){const t=this.discriminatorState(e);return this.cases[t].freeze(e)}}function s(e,t,r){return new n(e,t,r)}},{"@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],"189zH":[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"createCardSlots",(()=>u)),o.export(r,"createCardSlotManager",(()=>f));var n=e("solid-js/web"),s=e("model/domain"),a=e("./card_slot"),c=e("./card_slots"),i=e("solid-js"),l=e("components/component_manager"),p=e("./card_slot_controller"),d=e("base/unreachable_error");function u(e){return{Component:t=>(0,n.createComponent)(c.CardSlotsComponent,{CardSlotComponent:e,get cardSlots(){return t.model}})}}function f(e,t,r){return new(0,l.ComponentManager)((function(o){const c=new(0,p.CardSlotController),l=()=>t(o),u=()=>r(o);return{controller:c,Component:function(){return(0,n.createComponent)(a.CardSlotComponent,{get targetCard(){return(0,n.memo)((()=>!!o.targetCard))()&&(0,n.createComponent)(e,{get model(){return o.targetCard}})},get targetInteractionStyle(){return function(e){if(null==e)return"none";const t=e.type.faces[e.visibleFaceIndex];switch(t.type){case s.CardFaceType.Choice:case s.CardFaceType.ChoiceBack:return"clickable";case s.CardFaceType.Resource:return"dragable";case s.CardFaceType.ResourceBack:return"immovable";default:throw new(0,d.UnreachableError)(t)}}(o.targetCard)},onDragStart:l,onDrop:u,get children(){return(0,n.createComponent)(i.For,{get each(){return o.playedCards},children:t=>(0,n.createComponent)(e,{model:t})})}})}}}))}},{"solid-js/web":"33rlw","./card_slot":"ltYid","./card_slots":"8TIQ2","solid-js":"5rsr6","components/component_manager":"e6kRp","./card_slot_controller":"lGuHg","@parcel/transformer-js/src/esmodule-helpers.js":"k3151","model/domain":"hG1oc","base/unreachable_error":"eQLwm"}],ltYid:[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"CardSlotComponent",(()=>d));var n=e("solid-js/web"),s=e("./card_slot.module.scss"),a=o.interopDefault(s),c=e("solid-js");const i=(0,n.template)("<div><div></div><div>"),l=(0,n.template)("<div>"),p=Object.freeze({none:a.default.none,dragable:a.default.draggable,dragging:a.default.dragging,clickable:a.default.clickable,immovable:a.default.immovable,noDrop:a.default["no-drop"]});function d(e){return(()=>{const t=i(),r=t.firstChild,o=r.nextSibling;return(0,n.addEventListener)(r,"mouseup",e.onDrop,!0),(0,n.addEventListener)(r,"mousedown",e.onDragStart,!0),(0,n.insert)(r,(()=>e.targetCard)),(0,n.insert)(o,(0,n.createComponent)(c.For,{get each(){return(0,c.children)((()=>e.children)).toArray()},children:e=>(()=>{const t=l();return(0,n.insert)(t,e),(0,n.effect)((()=>(0,n.className)(t,a.default["played-card"]))),t})()})),(0,n.effect)((s=>{const c=a.default.container,i={[a.default["target-card"]]:!0,[p[e.targetInteractionStyle]]:!0},l=a.default["played-cards"];return c!==s._v$&&(0,n.className)(t,s._v$=c),s._v$2=(0,n.classList)(r,i,s._v$2),l!==s._v$3&&(0,n.className)(o,s._v$3=l),s}),{_v$:void 0,_v$2:void 0,_v$3:void 0}),t})()}(0,n.delegateEvents)(["mousedown","mouseup"])},{"solid-js/web":"33rlw","./card_slot.module.scss":"8mse4","solid-js":"5rsr6","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],"8mse4":[function(e,t,r){t.exports.cardWidth="min(5vw, 5vh)",t.exports.cardHeight="calc(min(5vw, 5vh) * 1.4)",t.exports.card="card_b7e78d",t.exports.flat="flat_b7e78d",t.exports.flippingUpToVertical="flippingUpToVertical_b7e78d",t.exports.flippingDownFromVertical="flippingDownFromVertical_b7e78d",t.exports.internal="internal_b7e78d",t.exports.container="container_b7e78d",t.exports["target-card"]="target-card_b7e78d",t.exports.none="none_b7e78d",t.exports.draggable="draggable_b7e78d",t.exports.dragging="dragging_b7e78d",t.exports.clickable="clickable_b7e78d",t.exports.immovable="immovable_b7e78d",t.exports["no-drop"]="no-drop_b7e78d",t.exports["played-cards"]="played-cards_b7e78d",t.exports["played-card"]="played-card_b7e78d"},{}],"8TIQ2":[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"CardSlotsComponent",(()=>l));var n=e("solid-js/web"),s=e("solid-js"),a=e("./card_slots.module.scss"),c=o.interopDefault(a);const i=(0,n.template)("<div>");function l(e){return(()=>{const t=i();return(0,n.insert)(t,(0,n.createComponent)(s.For,{get each(){return e.cardSlots},children:t=>(0,n.createComponent)(e.CardSlotComponent,{model:t})})),(0,n.effect)((()=>(0,n.className)(t,c.default.container))),t})()}},{"solid-js/web":"33rlw","solid-js":"5rsr6","./card_slots.module.scss":"h3qy5","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],h3qy5:[function(e,t,r){t.exports.container="_3Mq8RG_container"},{}],e6kRp:[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"ComponentManager",(()=>s));var n=e("solid-js/web");e("solid-js");class s{constructor(e){this.factory=e,this.cache=new WeakMap,this.FactoryComponent=e=>{const t=this.lookupOrCreateComponent(e.model);return(0,n.createComponent)(t,e)}}lookupOrCreate(e){let t=this.cache.get(e);return null==t&&(t=this.factory(e),this.cache.set(e,t)),t}lookupOrCreateComponent(e){return this.lookupOrCreate(e).Component}lookupController(e){return this.cache.get(e)?.controller}}},{"solid-js/web":"33rlw","solid-js":"5rsr6","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],lGuHg:[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"CardSlotController",(()=>n));class n{}},{"@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],eQLwm:[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"UnreachableError",(()=>n));class n extends Error{constructor(e){super()}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],"9KqLK":[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"createCardManager",(()=>p));var n=e("solid-js/web"),s=e("./card_controller"),a=e("ui/animation/animation_manager"),c=e("./card"),i=e("./face/card_face"),l=e("components/component_manager");function p(){return new(0,l.ComponentManager)((function(e){const t=new(0,a.AnimationManager),r=s.cardUIDescriptor.create({flipState:s.FlipState.Flat});return{Component:function(){return(0,n.createComponent)(c.CardComponent,{get flipState(){return r.flipState},animations:t,get children(){return(0,n.createComponent)(i.CardFaceComponent,{get face(){return e.type.faces[e.visibleFaceIndex]}})}})},controller:new(0,s.CardController)(e,r,t)}}))}},{"solid-js/web":"33rlw","./card_controller":"eIxqM","./card":"b6tpg","components/component_manager":"e6kRp","@parcel/transformer-js/src/esmodule-helpers.js":"k3151","ui/animation/animation_manager":"fbyYW","./face/card_face":"5xOaY"}],eIxqM:[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"FlipState",(()=>c)),o.export(r,"cardUIDescriptor",(()=>i)),o.export(r,"CardController",(()=>l));var n=e("model/descriptor/literals"),s=e("model/descriptor/record"),a=e("solid-js");let c;!function(e){e[e.Flat=1]="Flat",e[e.FlippingUpToVertical=2]="FlippingUpToVertical",e[e.FlippingDownFromVertical=3]="FlippingDownFromVertical"}(c||(c={}));const i=(0,s.activeRecordDescriptor)({flipState:new(0,n.LiteralTypeDescriptor)});class l{constructor(e,t,r){this.card=e,this.cardUI=t,this.animations=r}async flip(){this.cardUI.flipState=2,await this.animations.waitForAnimation(2),(0,a.batch)((()=>{this.card.visibleFaceIndex=(this.card.visibleFaceIndex+1)%this.card.type.faces.length,this.cardUI.flipState=3})),await this.animations.waitForAnimation(3),this.cardUI.flipState=1}}},{"model/descriptor/literals":"6SgZZ","model/descriptor/record":"9b5Fs","solid-js":"5rsr6","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],b6tpg:[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"CardComponent",(()=>p));var n=e("solid-js/web"),s=e("./card_controller"),a=e("./card.module.scss"),c=o.interopDefault(a),i=e("solid-js");const l=(0,n.template)("<div><div>");function p(e){const[t,r]=(0,i.createSignal)();return(()=>{const o=l(),a=o.firstChild;return(0,n.use)(r,o),(0,n.addEventListener)(o,"transitionend",e.animations.createTransitionEndEventListener(t,(()=>e.flipState))),(0,n.insert)(a,(()=>e.children)),(0,n.effect)((t=>{const r={[c.default.card]:!0,[c.default.flat]:e.flipState===s.FlipState.Flat,[c.default.flippingUpToVertical]:e.flipState===s.FlipState.FlippingUpToVertical,[c.default.flippingDownFromVertical]:e.flipState===s.FlipState.FlippingDownFromVertical},i={[c.default.internal]:!0,[c.default.flat]:e.flipState===s.FlipState.Flat,[c.default.flippingUpToVertical]:e.flipState===s.FlipState.FlippingUpToVertical,[c.default.flippingDownFromVertical]:e.flipState===s.FlipState.FlippingDownFromVertical};return t._v$=(0,n.classList)(o,r,t._v$),t._v$2=(0,n.classList)(a,i,t._v$2),t}),{_v$:void 0,_v$2:void 0}),o})()}},{"solid-js/web":"33rlw","./card_controller":"eIxqM","./card.module.scss":"4a8XN","@parcel/transformer-js/src/esmodule-helpers.js":"k3151","solid-js":"5rsr6"}],"4a8XN":[function(e,t,r){t.exports.cardWidth="min(5vw, 5vh)",t.exports.cardHeight="calc(min(5vw, 5vh) * 1.4)",t.exports.card="card_aeb7e9",t.exports.flat="flat_aeb7e9",t.exports.flippingUpToVertical="flippingUpToVertical_aeb7e9",t.exports.flippingDownFromVertical="flippingDownFromVertical_aeb7e9",t.exports.internal="internal_aeb7e9"},{}],"5xOaY":[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"CardFaceComponent",(()=>m));var n=e("solid-js/web"),s=e("model/domain"),a=e("./card_face.module.scss"),c=o.interopDefault(a),i=e("./card_face_resource"),l=e("./card_face_resource_back"),p=e("./card_face_choice"),d=e("./card_face_choice_back");const u=(0,n.template)("<div>"),f={[s.CardFaceType.Resource]:function(e){return(0,n.createComponent)(i.CardFaceResourceComponent,{get face(){return e.face}})},[s.CardFaceType.ResourceBack]:function(e){return(0,n.createComponent)(l.CardFaceResourceBackComponent,{get face(){return e.face}})},[s.CardFaceType.Choice]:function(e){return(0,n.createComponent)(p.CardFaceChoiceComponent,{get face(){return e.face}})},[s.CardFaceType.ChoiceBack]:function(e){return(0,n.createComponent)(d.CardFaceChoiceBackComponent,{get face(){return e.face}})}};function m(e){return(()=>{const t=u();return(0,n.insert)(t,(0,n.createComponent)(n.Dynamic,{get component(){return f[e.face.type]},get face(){return e.face}})),(0,n.effect)((r=>(0,n.classList)(t,{[c.default["card-face"]]:!0,[c.default.backgroundClear]:e.face.background===s.CardBackgroundType.Clear,[c.default.backgroundCrosshatched]:e.face.background===s.CardBackgroundType.Crosshatched,[c.default.backgroundDoor]:e.face.background===s.CardBackgroundType.Door,[c.default.backgroundPassageway]:e.face.background===s.CardBackgroundType.Passageway},r))),t})()}},{"solid-js/web":"33rlw","model/domain":"hG1oc","./card_face.module.scss":"bQPIH","./card_face_resource":"8jj1v","./card_face_resource_back":"kChIK","./card_face_choice":"2hxfK","./card_face_choice_back":"j0ete","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],bQPIH:[function(e,t,r){t.exports.backgroundDoor="YocKiG_backgroundDoor",t.exports["card-face"]="YocKiG_card-face",t.exports.backgroundClear="YocKiG_backgroundClear",t.exports.backgroundCrosshatched="YocKiG_backgroundCrosshatched",t.exports.backgroundPassageway="YocKiG_backgroundPassageway"},{}],"8jj1v":[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"CardFaceResourceComponent",(()=>p));var n=e("solid-js/web"),s=e("./card_face.module.scss"),a=o.interopDefault(s),c=e("./card_face_resource.module.scss"),i=o.interopDefault(c);const l=(0,n.template)("<div>Resource");function p(e){return(()=>{const e=l();return(0,n.effect)((t=>(0,n.classList)(e,{[a.default["card-face"]]:!0,[i.default.resource]:!0},t))),e})()}},{"solid-js/web":"33rlw","./card_face.module.scss":"bQPIH","./card_face_resource.module.scss":"2usTl","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],"2usTl":[function(e,t,r){t.exports.resource="D-rdXq_resource"},{}],kChIK:[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"CardFaceResourceBackComponent",(()=>p));var n=e("solid-js/web"),s=e("./card_face_resource_back.module.scss"),a=o.interopDefault(s),c=e("./card_face.module.scss"),i=o.interopDefault(c);const l=(0,n.template)("<div>Resource Back");function p(e){return(()=>{const e=l();return(0,n.effect)((t=>(0,n.classList)(e,{[i.default["card-face"]]:!0,[a.default["resource-back"]]:!0},t))),e})()}},{"solid-js/web":"33rlw","./card_face_resource_back.module.scss":"kMb99","./card_face.module.scss":"bQPIH","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],kMb99:[function(e,t,r){t.exports["resource-back"]="x6_NXq_resource-back"},{}],"2hxfK":[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"CardFaceChoiceComponent",(()=>p));var n=e("solid-js/web"),s=e("./card_face.module.scss"),a=o.interopDefault(s),c=e("./card_face_choice.module.scss"),i=o.interopDefault(c);const l=(0,n.template)("<div>");function p(e){return(()=>{const e=l();return(0,n.effect)((t=>(0,n.classList)(e,{[a.default["card-face"]]:!0,[i.default.choice]:!0},t))),e})()}},{"solid-js/web":"33rlw","./card_face.module.scss":"bQPIH","./card_face_choice.module.scss":"dlmsB","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],dlmsB:[function(e,t,r){t.exports.choice="xR8n1W_choice"},{}],j0ete:[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"CardFaceChoiceBackComponent",(()=>p));var n=e("solid-js/web"),s=e("./card_face.module.scss"),a=o.interopDefault(s),c=e("./card_face_choice_back.module.scss"),i=o.interopDefault(c);const l=(0,n.template)("<div>");function p(e){return(()=>{const e=l();return(0,n.effect)((t=>(0,n.classList)(e,{[a.default["card-face"]]:!0,[i.default["choice-back"]]:!0},t))),e})()}},{"solid-js/web":"33rlw","./card_face.module.scss":"bQPIH","./card_face_choice_back.module.scss":"aKkqk","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],aKkqk:[function(e,t,r){t.exports["choice-back"]="_tzzxW_choice-back"},{}],eFnBZ:[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"createPageManager",(()=>l));var n=e("solid-js/web"),s=e("./page_controller"),a=e("ui/animation/animation_manager"),c=e("./page"),i=e("components/component_manager");function l({side:e,onNavigate:t}){return new(0,i.ComponentManager)((function(r){const o=new(0,a.AnimationManager),i=s.pageUIDescriptor.create({popped:!1});return{controller:new(0,s.PageController)(i,o),Component:()=>(0,n.createComponent)(c.PageComponent,{animations:o,onNavigate:t,pageUI:i,side:e,spread:r})}}))}},{"solid-js/web":"33rlw","./page_controller":"iOtej","ui/animation/animation_manager":"fbyYW","./page":"7lsin","components/component_manager":"e6kRp","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],iOtej:[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"PageSide",(()=>a)),o.export(r,"pageUIDescriptor",(()=>c)),o.export(r,"PageController",(()=>i));var n=e("model/descriptor/literals"),s=e("model/descriptor/record");let a;!function(e){e[e.Left=1]="Left",e[e.Right=2]="Right"}(a||(a={}));const c=(0,s.activeRecordDescriptor)({popped:n.booleanDescriptor});class i{constructor(e,t){this.pageUI=e,this.animations=t}popUp(){return this.pageUI.popped=!0,this.animations.waitForAnimation("pop-up")}popDown(){return this.pageUI.popped=!1,this.animations.waitForAnimation("pop-down")}}},{"model/descriptor/literals":"6SgZZ","model/descriptor/record":"9b5Fs","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],"7lsin":[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"PageComponent",(()=>l));var n=e("solid-js/web"),s=e("model/domain"),a=e("./toc/page_toc"),c=e("./room/page_room");const i={[s.BookSpreadType.Room]:function(e){return(0,n.createComponent)(c.PageRoomComponent,{get animations(){return e.animations},get spread(){return e.spread},get pageUI(){return e.pageUI},get side(){return e.side},get onNavigate(){return e.onNavigate}})},[s.BookSpreadType.TableOfContents]:function(e){return(0,n.createComponent)(a.PageToCComponent,{get animations(){return e.animations},get spread(){return e.spread},get pageUI(){return e.pageUI},get side(){return e.side},get onNavigate(){return e.onNavigate}})}};function l(e){return(0,n.createComponent)(n.Dynamic,{get component(){return i[e.spread.type]},get animations(){return e.animations},get spread(){return e.spread},get pageUI(){return e.pageUI},get side(){return e.side},get onNavigate(){return e.onNavigate}})}},{"solid-js/web":"33rlw","model/domain":"hG1oc","./toc/page_toc":"hX94b","./room/page_room":"2qNJm","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],hX94b:[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"PageToCComponent",(()=>g));var n=e("solid-js/web"),s=e("model/domain"),a=e("../page_controller"),c=e("../blank/page_blank"),i=e("ui/cutout/cutout"),l=e("./page_toc.module.scss"),p=o.interopDefault(l);const d=(0,n.template)("<h1>GRAND TERMINUS"),u=(0,n.template)("<button><h2>Begin Origin"),f=(0,n.template)("<div>"),m={[a.PageSide.Left]:c.PageBlankComponent,[a.PageSide.Right]:function(e){return(0,n.createComponent)(h,{get animations(){return e.animations},get pageUI(){return e.pageUI},get side(){return e.side},get spread(){return e.spread},get onNavigate(){return e.onNavigate}})}};function g(e){return(0,n.createComponent)(n.Dynamic,{get component(){return m[e.side]},get animations(){return e.animations},get pageUI(){return e.pageUI},get side(){return e.side},get onNavigate(){return e.onNavigate},get spread(){return e.spread}})}function h(e){return(()=>{const t=f();return(0,n.insert)(t,(0,n.createComponent)(i.Cutout,{get class(){return p.default.row},get up(){return e.pageUI.popped},get onPoppedUpOrDown(){return e.animations.createCutoutPoppedUpOrDownCallback("pop-up","pop-down")},get children(){return d()}}),null),(0,n.insert)(t,(0,n.createComponent)(i.Cutout,{get class(){return p.default.row},get up(){return e.pageUI.popped},get onPoppedUpOrDown(){return e.animations.createCutoutPoppedUpOrDownCallback("pop-up","pop-down")},get children(){const t=u();return t.$$click=()=>e.onNavigate(s.BookSpreadType.Room),t}}),null),(0,n.effect)((()=>(0,n.className)(t,p.default.toc))),t})()}(0,n.delegateEvents)(["click"])},{"solid-js/web":"33rlw","model/domain":"hG1oc","../page_controller":"iOtej","../blank/page_blank":"olBz5","ui/cutout/cutout":"dysfp","./page_toc.module.scss":"581bA","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],olBz5:[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");function n(){return null}o.defineInteropFlag(r),o.export(r,"PageBlankComponent",(()=>n))},{"@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],dysfp:[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"Cutout",(()=>i));var n=e("solid-js/web"),s=e("./cutout.module.scss"),a=o.interopDefault(s);const c=(0,n.template)("<div>");function i(e){let t;const r=function(r){r.target===t&&e.onPoppedUpOrDown?.(e.up)};return(()=>{const o=c();o.addEventListener("transitionend",r);const s=t;return"function"==typeof s?(0,n.use)(s,o):t=o,(0,n.insert)(o,(()=>e.children)),(0,n.effect)((t=>{const r=e.class,s={[a.default.cutout]:!0,[a.default.up]:e.up},c=e.style;return r!==t._v$&&(0,n.className)(o,t._v$=r),t._v$2=(0,n.classList)(o,s,t._v$2),t._v$3=(0,n.style)(o,c,t._v$3),t}),{_v$:void 0,_v$2:void 0,_v$3:void 0}),o})()}},{"solid-js/web":"33rlw","./cutout.module.scss":"4Ng64","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],"4Ng64":[function(e,t,r){t.exports.popupAngle="-85deg",t.exports.cutout="cutout_d6fa5c",t.exports.up="up_d6fa5c"},{}],"581bA":[function(e,t,r){t.exports.row="RD4rca_row",t.exports.toc="RD4rca_toc"},{}],"2qNJm":[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"PageRoomComponent",(()=>d));var n=e("solid-js/web"),s=e("./page_room.module.scss"),a=o.interopDefault(s),c=e("ui/cutout/cutout"),i=e("solid-js");const l=(0,n.template)("<div>");function p(e){return(0,n.createComponent)(c.Cutout,{get up(){return e.up},get style(){return{top:`${e.cutout.topPercent}%`,left:`${e.cutout.leftPercent}%`,width:`${e.cutout.widthPercent}%`,height:`${e.cutout.heightPercent}%`,"transition-delay":10*(100-e.cutout.topPercent)+"ms",position:"absolute"}},get onPoppedUpOrDown(){return e.onPoppedUpOrDown},get children(){const t=l();return(0,n.effect)((r=>{const o=a.default.testCutout,s=e.cutout.color;return o!==r._v$&&(0,n.className)(t,r._v$=o),s!==r._v$2&&(null!=(r._v$2=s)?t.style.setProperty("background",s):t.style.removeProperty("background")),r}),{_v$:void 0,_v$2:void 0}),t}})}function d(e){const t=e.animations.createCutoutPoppedUpOrDownCallback("pop-up","pop-down"),r=new Array(3+Math.floor(30*Math.random())).fill(0).map((()=>{const e=5*Math.random()+3,t=15*Math.pow(Math.random(),2)+5,r=Math.random()*(100-e);return{topPercent:Math.random()*(100-t),leftPercent:r,widthPercent:e,heightPercent:t,color:`#${Math.floor(16777215*Math.random()).toString(16)}`}}));return(()=>{const o=l();return(0,n.insert)(o,(0,n.createComponent)(i.For,{each:r,children:r=>(0,n.createComponent)(p,{get up(){return e.pageUI.popped},onPoppedUpOrDown:t,cutout:r})})),(0,n.effect)((e=>{const t=a.default.room,r=`#${Math.floor(16777215*Math.random()).toString(16)}`;return t!==e._v$3&&(0,n.className)(o,e._v$3=t),r!==e._v$4&&(null!=(e._v$4=r)?o.style.setProperty("background",r):o.style.removeProperty("background")),e}),{_v$3:void 0,_v$4:void 0}),o})()}},{"solid-js/web":"33rlw","./page_room.module.scss":"a8ltx","ui/cutout/cutout":"dysfp","@parcel/transformer-js/src/esmodule-helpers.js":"k3151","solid-js":"5rsr6"}],a8ltx:[function(e,t,r){t.exports.room="vqwKQa_room",t.exports.testCutout="vqwKQa_testCutout"},{}],dG5uB:[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"cardKick",(()=>i)),o.export(r,"cardMight",(()=>l)),o.export(r,"cardNextRoom",(()=>p)),o.export(r,"initialGame",(()=>d));var n=e("model/domain"),s=e("data/cards/kick"),a=e("data/cards/might"),c=e("./cards/next_room");const i=n.cardDescriptor.create({type:s.cardTypeKick,visibleFaceIndex:0}),l=n.cardDescriptor.create({type:a.cardTypeMight,visibleFaceIndex:0}),p=n.cardDescriptor.create({type:c.cardTypeNextRoom,visibleFaceIndex:0}),d=n.gameDescriptor.create({book:{spread:void 0},cardSlots:[{targetCard:n.cardDescriptor.snapshot(l),playedCards:[]},{targetCard:void 0,playedCards:[]},{targetCard:void 0,playedCards:[]},{targetCard:void 0,playedCards:[]},{targetCard:void 0,playedCards:[]}]});d.cardSlots[0].targetCard=i,d.cardSlots[1].targetCard=l},{"model/domain":"hG1oc","data/cards/kick":"1rZWq","data/cards/might":"a2Bjm","@parcel/transformer-js/src/esmodule-helpers.js":"k3151","./cards/next_room":"jMP6t"}],"1rZWq":[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"cardTypeKick",(()=>i));var n=e("data/effects"),s=e("model/domain");const a=s.cardFaceResourceBackDescriptor.freeze({type:s.CardFaceType.ResourceBack,background:s.CardBackgroundType.Crosshatched,cost:[n.ForceUp]}),c=s.cardFaceResourceDescriptor.freeze({type:s.CardFaceType.Resource,background:s.CardBackgroundType.Clear,cost:[],benefit:[n.DamageUp]}),i=s.cardTypeDescriptor.freeze({name:"kick",faces:[a,c]})},{"data/effects":"7stQX","model/domain":"hG1oc","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],"7stQX":[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"ForceUp",(()=>s)),o.export(r,"ForceDown",(()=>a)),o.export(r,"FinesseUp",(()=>c)),o.export(r,"FinesseDown",(()=>i)),o.export(r,"MagicUp",(()=>l)),o.export(r,"MagicDown",(()=>p)),o.export(r,"DamageUp",(()=>d)),o.export(r,"DamageDown",(()=>u)),o.export(r,"FireUp",(()=>f)),o.export(r,"FireDown",(()=>m)),o.export(r,"AgeUp",(()=>g)),o.export(r,"AgeDown",(()=>h));var n=e("model/domain");const s=n.effectDescriptor.freeze({direction:n.EffectDirection.Up,symbol:n.SymbolType.Force}),a=n.effectDescriptor.freeze({direction:n.EffectDirection.Down,symbol:n.SymbolType.Force}),c=n.effectDescriptor.freeze({direction:n.EffectDirection.Up,symbol:n.SymbolType.Finesse}),i=n.effectDescriptor.freeze({direction:n.EffectDirection.Down,symbol:n.SymbolType.Finesse}),l=n.effectDescriptor.freeze({direction:n.EffectDirection.Up,symbol:n.SymbolType.Magic}),p=n.effectDescriptor.freeze({direction:n.EffectDirection.Down,symbol:n.SymbolType.Magic}),d=n.effectDescriptor.freeze({direction:n.EffectDirection.Up,symbol:n.SymbolType.Damage}),u=n.effectDescriptor.freeze({direction:n.EffectDirection.Down,symbol:n.SymbolType.Damage}),f=n.effectDescriptor.freeze({direction:n.EffectDirection.Up,symbol:n.SymbolType.Fire}),m=n.effectDescriptor.freeze({direction:n.EffectDirection.Down,symbol:n.SymbolType.Fire}),g=n.effectDescriptor.freeze({direction:n.EffectDirection.Up,symbol:n.SymbolType.Age}),h=n.effectDescriptor.freeze({direction:n.EffectDirection.Down,symbol:n.SymbolType.Age})},{"model/domain":"hG1oc","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],a2Bjm:[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"cardTypeMight",(()=>i));var n=e("data/effects"),s=e("model/domain");const a=s.cardFaceResourceBackDescriptor.freeze({type:s.CardFaceType.ResourceBack,background:s.CardBackgroundType.Crosshatched,cost:[]}),c=s.cardFaceResourceDescriptor.freeze({type:s.CardFaceType.Resource,background:s.CardBackgroundType.Clear,cost:[],benefit:[n.ForceUp]}),i=s.cardTypeDescriptor.freeze({name:"might",faces:[a,c]})},{"data/effects":"7stQX","model/domain":"hG1oc","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],jMP6t:[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"cardTypeNextRoom",(()=>i));var n=e("data/effects"),s=e("model/domain");const a=s.cardFaceChoiceBackDescriptor.freeze({type:s.CardFaceType.ChoiceBack,background:s.CardBackgroundType.Door,cost:[n.ForceUp]}),c=s.cardFaceChoiceDescriptor.freeze({type:s.CardFaceType.Choice,background:s.CardBackgroundType.Clear,cost:[],effect:[]}),i=s.cardTypeDescriptor.freeze({name:"next room",faces:[a,c]})},{"data/effects":"7stQX","model/domain":"hG1oc","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],afncJ:[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"createSpread",(()=>i));var n=e("solid-js/web"),s=e("ui/animation/animation_manager"),a=e("./spread"),c=e("./spread_controller");e("solid-js");function i({CardSlotsComponent:e}){const t=new(0,s.AnimationManager);return{controller:new(0,c.SpreadController),Component:function(r){return(0,n.createComponent)(a.SpreadComponent,{animations:t,CardSlotsComponent:e,get spread(){return r.model}})}}}},{"solid-js/web":"33rlw","ui/animation/animation_manager":"fbyYW","./spread":"dNLEm","./spread_controller":"i1MAn","solid-js":"5rsr6","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],dNLEm:[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"SpreadComponent",(()=>l));var n=e("solid-js/web"),s=e("model/domain"),a=e("./room/spread_room"),c=e("./blank/spread_blank");const i={[s.BookSpreadType.Room]:function(e){return(0,n.createComponent)(a.SpreadRoomComponent,{get animations(){return e.animations},get spread(){return e.spread},get CardSlotsComponent(){return e.CardSlotsComponent}})},[s.BookSpreadType.TableOfContents]:c.SpreadBlankComponent};function l(e){return(0,n.createComponent)(n.Dynamic,{get component(){return i[e.spread.type]},get animations(){return e.animations},get spread(){return e.spread},get CardSlotsComponent(){return e.CardSlotsComponent}})}},{"solid-js/web":"33rlw","model/domain":"hG1oc","./room/spread_room":"2MOVg","./blank/spread_blank":"8mUMT","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],"2MOVg":[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"SpreadRoomComponent",(()=>i));var n=e("solid-js/web"),s=e("./spread_room.module.scss"),a=o.interopDefault(s);const c=(0,n.template)("<div>");function i(e){return(()=>{const t=c();return(0,n.insert)(t,(0,n.createComponent)(e.CardSlotsComponent,{get model(){return e.spread.cardSlots}})),(0,n.effect)((()=>(0,n.className)(t,a.default.container))),t})()}},{"solid-js/web":"33rlw","./spread_room.module.scss":"gIwcN","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],gIwcN:[function(e,t,r){t.exports.container="vb27Bq_container"},{}],"8mUMT":[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");function n(){return null}o.defineInteropFlag(r),o.export(r,"SpreadBlankComponent",(()=>n))},{"@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],i1MAn:[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"SpreadController",(()=>n));class n{constructor(){}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}]},["4zTVb"],"4zTVb","parcelRequirefc40");
//# sourceMappingURL=index.5603a331.js.map
