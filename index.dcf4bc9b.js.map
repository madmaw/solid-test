{"mappings":"iuCACAA,EAAAC,EAAA,2BACAC,EAAAD,EAAA,qCACAE,EAAAF,EAAA,0BACAG,EAAAH,EAAA,YACAI,EAAAJ,EAAA,+BAEAK,EAAAL,EAAA,kCAEAM,OAAOC,OAAS,WACd,MAAMC,EAAMC,SAASC,eAAe,QAGlCC,UAAWC,EACXC,WAAYC,IACVC,oBAGFJ,UAAWK,EACXH,WAAYI,IACVC,mBAGFP,UAAWQ,IACTC,sBAGEC,EAAsB,CAC1BC,KAAMC,WACNC,MAAOD,YAEHE,EAAYA,KAChBC,QAAQC,IAAI,cACZV,EAAeW,UAAUP,IAIrBQ,EAA0B,CAC9BP,KAHeQ,KAAAC,qBAAOZ,EAAxB,CAAqCM,UAAWA,IAI9CD,MAAOD,YAEHS,EAAeC,gBACbnB,EAAgBoB,QAAQC,OAAKC,UACnCC,YAAM,KACJpB,EAAeW,UAAUC,GACzBf,EAAgBoB,QAAQC,OAAKG,OAAM,IAGrCZ,QAAQC,IAAI,mBAGRY,EAAOA,KAAAR,qBACVf,EADH,CACYgB,aAAcA,KAE1BQ,aAAO,KAAAT,qBAAOnB,EAAd4B,CAA6BD,KAAMA,KAAU/B,EAE/C,C,sQCxDA,IAAAiC,EAAAzC,EAAA,kD,uBACAyC,EAAAC,OAAAC,EAAA,qBAAAxC,EAAAyC,gBAAAH,EAAAC,OAAAC,EAAA,WAAAxC,EAAA0C,MAAAJ,EAAAC,OAAAC,EAAA,aAAAxC,EAAA2C,QAAAL,EAAAC,OAAAC,EAAA,aAAAxC,EAAA4C,QAAAN,EAAAC,OAAAC,EAAA,YAAAxC,EAAA6C,OAAAP,EAAAC,OAAAC,EAAA,gBAAAxC,EAAA8C,WAAAR,EAAAC,OAAAC,EAAA,oBAAAxC,EAAA+C,eAAAT,EAAAC,OAAAC,EAAA,cAAAxC,EAAAgD,SAAAV,EAAAC,OAAAC,EAAA,uBAAAxC,EAAAiD,kBAAAX,EAAAC,OAAAC,EAAA,cAAAxC,EAAAkD,qBAAAZ,EAAAC,OAAAC,EAAA,gBAAAxC,EAAAmD,WAAAb,EAAAC,OAAAC,EAAA,YAAAxC,EAAAoD,aAAAd,EAAAC,OAAAC,EAAA,kBAAAxC,EAAAqD,aAAAf,EAAAC,OAAAC,EAAA,eAAAxC,EAAAsD,UAknBAhB,EAAAC,OAAAC,EAAA,eAASe,IAATjB,EAAAC,OAAAC,EAAA,cAAkBgB,IAAlBlB,EAAAC,OAAAC,EAAA,uBAAoCiB,IAApCnB,EAAAC,OAAAC,EAAA,mBAAqDkB,IAArDpB,EAAAC,OAAAC,EAAA,uBAAkEmB,IAAlErB,EAAAC,OAAAC,EAAA,eAAmFoB,KAAnFtB,EAAAC,OAAAC,EAAA,iBAA4FqB,IAA5FvB,EAAAC,OAAAC,EAAA,uBAAuGgB,IAAvGlB,EAAAC,OAAAC,EAAA,mBAAkIsB,IAAlIxB,EAAAC,OAAAC,EAAA,cAA+IuB,KAA/IzB,EAAAC,OAAAC,EAAA,kBAAuJwB,IAAvJ1B,EAAAC,OAAAC,EAAA,mBAAmKyB,IAAnK3B,EAAAC,OAAAC,EAAA,oBAAgL0B,IAAhL5B,EAAAC,OAAAC,EAAA,wBAA8L2B,IAA9L7B,EAAAC,OAAAC,EAAA,cAAgN4B,IAAhN9B,EAAAC,OAAAC,EAAA,iBAAwN6B,IAAxN/B,EAAAC,OAAAC,EAAA,iBAAmO8B,IAAnOhC,EAAAC,OAAAC,EAAA,4BAA8O+B,IAA9OjC,EAAAC,OAAAC,EAAA,sBAAoQgC,IAApQlC,EAAAC,OAAAC,EAAA,uBAAoRiC,IAApRnC,EAAAC,OAAAC,EAAA,cAAqSkC,KAArSpC,EAAAC,OAAAC,EAAA,+BAA6SgB,IAA7SlB,EAAAC,OAAAC,EAAA,iBAAgVgB,IAAhVlB,EAAAC,OAAAC,EAAA,uBAAqWmC,IAArWrC,EAAAC,OAAAC,EAAA,sBAAsXoC,IAAtXtC,EAAAC,OAAAC,EAAA,qBAAsYqC,IAAtYvC,EAAAC,OAAAC,EAAA,oBAAqZsC,IAArZxC,EAAAC,OAAAC,EAAA,oBAAmauC,IAAnazC,EAAAC,OAAAC,EAAA,eAAibwC,KAAjb1C,EAAAC,OAAAC,EAAA,iBAA0byC,IAA1b3C,EAAAC,OAAAC,EAAA,cAAqc0C,IAArc5C,EAAAC,OAAAC,EAAA,aAA6c2C,KAA7c7C,EAAAC,OAAAC,EAAA,gBAAod4C,KAApd9C,EAAAC,OAAAC,EAAA,cAA8dH,IAA9dC,EAAAC,OAAAC,EAAA,sBAAse6C,IAAte/C,EAAAC,OAAAC,EAAA,sBAAsf8C,IAAtfhD,EAAAC,OAAAC,EAAA,2BAAsgB+C,IAAtgBjD,EAAAC,OAAAC,EAAA,sBAA2hBgD,KAA3hBlD,EAAAC,OAAAC,EAAA,0BAA2iBiD,IAA3iBnD,EAAAC,OAAAC,EAAA,oBAA+jBkD,IAA/jBpD,EAAAC,OAAAC,EAAA,sBAA6kBmD,IAA7kBrD,EAAAC,OAAAC,EAAA,cAA6lBoD,IAA7lBtD,EAAAC,OAAAC,EAAA,WAAqmBqD,IAArmBvD,EAAAC,OAAAC,EAAA,oBAA0mBsD,KAA1mBxD,EAAAC,OAAAC,EAAA,oBAAwnBuD,IAAxnBzD,EAAAC,OAAAC,EAAA,kBAAsoBwD,IAAtoB1D,EAAAC,OAAAC,EAAA,uBAAkpByD,KAAlpB3D,EAAAC,OAAAC,EAAA,iBAAmqB0D,KAAnqB5D,EAAAC,OAAAC,EAAA,gBAA8qB2D,KAA9qB7D,EAAAC,OAAAC,EAAA,aAAwrB4D,IAAxrB9D,EAAAC,OAAAC,EAAA,gBAA+rB6D,IAA/rB/D,EAAAC,OAAAC,EAAA,WAAysB8D,IAAzsBhE,EAAAC,OAAAC,EAAA,iBAA8sBgB,IAnnB9sB,IAAAxD,EAAAH,EAAA,YAGA,MACMmE,EAA0B,IAAIuC,IAAI,CAAC,YAAa,QAAS,WAAY,iBAAkB,QAAS,WAAY,cADhG,kBAAmB,QAAS,YAAa,WAAY,UAAW,WAAY,UAAW,WAAY,iBAAkB,SAAU,gBAAiB,QAAS,OAAQ,WAAY,QAAS,WAAY,aAAc,OAAQ,cAAe,WAAY,WAAY,WAAY,WAAY,aAEnS9C,EAA+B,IAAI8C,IAAI,CAAC,YAAa,cAAe,YAAa,aACjFhD,EAAuBiD,OAAOpC,OAAOoC,OAAOC,OAAO,MAAO,CAC9DnC,UAAW,QACXoC,QAAS,QAELC,EAA2BH,OAAOpC,OAAOoC,OAAOC,OAAO,MAAO,CAClEG,MAAO,YACPC,eAAgB,CACdC,EAAG,iBACHC,OAAQ,EACRC,MAAO,GAETC,MAAO,CACLH,EAAG,QACHI,IAAK,GAEPC,SAAU,CACRL,EAAG,WACHM,OAAQ,GAEVC,YAAa,CACXP,EAAG,cACHQ,MAAO,GAETC,SAAU,CACRT,EAAG,WACHE,MAAO,EACPQ,SAAU,KAGd,SAASzC,EAAa0C,EAAMC,GAC1B,MAAMC,EAAIhB,EAAYc,GACtB,MAAoB,iBAANE,EAAiBA,EAAED,GAAWC,EAAE,OAAOC,EAAYD,CACnE,CACA,MAAMhE,EAA+B,IAAI4C,IAAI,CAAC,cAAe,QAAS,WAAY,cAAe,UAAW,WAAY,QAAS,UAAW,QAAS,YAAa,YAAa,WAAY,YAAa,UAAW,cAAe,cAAe,aAAc,cAAe,YAAa,WAAY,YAAa,eAC9StC,EAA2B,IAAIsC,IAAI,CACzC,WAAY,cAAe,eAAgB,UAAW,eAAgB,gBAAiB,mBAAoB,SAAU,WAAY,gBAAiB,SAAU,OAAQ,OAAQ,UAAW,UAAW,gBAAiB,sBAAuB,cAAe,mBAAoB,oBAAqB,oBAAqB,iBAAkB,UAAW,UAAW,UAAW,UAAW,UAAW,iBAAkB,UAAW,UAAW,cAAe,eAAgB,WAAY,eAAgB,qBAAsB,cAAe,SAAU,eAAgB,SAAU,OAAQ,YAAa,mBAAoB,iBAAkB,gBAAiB,gBAAiB,gBAAiB,IAAK,QAAS,WAAY,QAAS,QAAS,OAAQ,iBAAkB,SAAU,OAAQ,WAAY,gBAAiB,QAAS,OAAQ,UAAW,UAAW,WAAY,iBAAkB,OACp1B,MAAO,OACP,MAAO,SAAU,SAAU,OAAQ,WACnC,OAAQ,QAAS,MAAO,OAAQ,UAC1BrC,EAAe,CACnB2D,MAAO,+BACPC,IAAK,wCAEDpE,EAA2B,IAAI6C,IAAI,CAAC,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,QAAS,QAAS,OAAQ,UAAW,UAAW,QAAS,SAAU,SAAU,OAAQ,MAAO,UAAW,OAAQ,aAAc,KAAM,MAAO,KAAM,KAAM,aAAc,SAAU,KAAM,KAAM,KAAM,IAAK,MAAO,KAAM,IAAK,OAAQ,IAAK,MAAO,MAAO,KAAM,OAAQ,OAAQ,OAAQ,MAAO,KAAM,IAAK,MAAO,OAAQ,IAAK,KAAM,KAAM,OAAQ,IAAK,OAAQ,QAAS,OAAQ,SAAU,MAAO,MAAO,OAAQ,IAAK,MAAO,MAAO,OAAQ,QAAS,MAAO,MAAO,QAAS,QAAS,QAAS,SAAU,SAAU,QAAS,UAAW,SAAU,SAAU,MAAO,OAAQ,SAAU,WAAY,SAAU,MAAO,MAAO,UAAW,MAAO,WAAY,QAAS,QAAS,KAAM,QAAS,KAAM,QAAS,KAAM,SAAU,WAAY,WAAY,OAAQ,QAAS,QAAS,SAAU,QAAS,WAAY,SAAU,SAAU,WAAY,SAAU,WAAY,UAAW,SAAU,OAAQ,UAAW,UAAW,OAAQ,WAAY,UAAW,SAAU,WAAY,UAAW,MAAO,QAAS,SAAU,UAAW,MAAO,OAAQ,QAAS,WAAY,SAAU,QAAS,SAAU,UAAW,WAAY,OAAQ,UAAW,WAAY,YAAa,KAAM,MAAO,SAAU,SAAU,SAAU,KAAM,MAAO,IAAK,OAAQ,UAAW,UAAW,SAAU,OAAQ,UAAW,QAAS,QAAS,IAAK,OAAQ,WAAY,MAAO,MAAO,UAAW,MAAO,QAAS,aAAc,OAAQ,KAAM,SAAU,SAAU,UAAW,SAAU,OAAQ,OAAQ,MAAO,WAAY,UAAW,OAAQ,WAAY,KAAM,MAAO,UAAW,MAAO,SAAU,MAAO,MAAO,KAAM,KAAM,KAAM,QAAS,WAAY,aAAc,SAAU,OAAQ,SAAU,OAAQ,QAAS,WAAY,OAAQ,SAAU,SAAU,KAAM,OAAQ,IAAK,SAAU,QAAS,MAAO,QAAS,MAAO,MAAO,SAAU,QAAS,SAAU,KAAM,OAAQ,OAAQ,MAAO,OAAQ,UAAW,OAAQ,WAAY,OAAQ,QAAS,MAAO,OAAQ,UAAW,WAAY,WAAY,SAAU,KAAM,WAAY,SAAU,SAAU,IAAK,QAAS,UAAW,YAAa,SAAU,MAAO,WAAY,IAAK,KAAM,KAAM,KAAM,MAAO,OAAQ,IAAK,OAAQ,SAAU,UAAW,SAAU,SAAU,OAAQ,QAAS,SAAU,SAAU,OAAQ,SAAU,SAAU,QAAS,MAAO,UAAW,MAAO,QAAS,QAAS,KAAM,WAAY,WAAY,QAAS,KAAM,QAAS,OAAQ,QAAS,KAAM,QAAS,KAAM,IAAK,KAAM,MAAO,QAAS,MAAO,MAAO,UA2Dt2E,MAAMwB,EAAW,gBACjB,SAAS1F,EAAO2F,EAAMC,EAASC,EAAMC,EAAU,CAAC,GAC9C,IAAIC,EAKJ,OAJA,EAAApI,EAAAqI,aAAWC,IACTF,EAAWE,EACXL,IAAY3H,SAAW0H,IAAS9C,EAAO+C,EAASD,IAAQC,EAAQM,WAAa,UAAOX,EAAWM,EAAK,GACnGC,EAAQK,OACJ,KACLJ,IACAH,EAAQQ,YAAc,GAE1B,CACA,SAASpC,EAASqC,EAAMC,EAAMC,GAC5B,IAAIC,EACJ,MAAMpC,EAAS,KACb,MAAMqC,EAAIxI,SAASyI,cAAc,YAEjC,OADAD,EAAE7D,UAAYyD,EACPE,EAAQE,EAAEE,QAAQT,WAAWA,WAAaO,EAAEE,QAAQT,UAAU,EAEjEU,EAAKN,EAAO,KAAOE,IAASA,EAAOpC,MAAWyC,WAAU,GAAQ,KAAM,EAAAlJ,EAAAsD,UAAQ,IAAMhD,SAAS6I,WAAWN,IAASA,EAAOpC,MAAW,KAEzI,OADAwC,EAAGC,UAAYD,EACRA,CACT,CACA,SAASzE,EAAe4E,EAAYC,EAAWlJ,OAAOG,UACpD,MAAMgJ,EAAID,EAAStB,KAAcsB,EAAStB,GAAY,IAAIxB,KAC1D,IAAK,IAAIgD,EAAI,EAAGC,EAAIJ,EAAWK,OAAQF,EAAIC,EAAGD,IAAK,CACjD,MAAMG,EAAON,EAAWG,GACnBD,EAAEK,IAAID,KACTJ,EAAEM,IAAIF,GACNL,EAASlF,iBAAiBuF,EAAMG,GAEpC,CACF,CACA,SAAStF,EAAqB8E,EAAWlJ,OAAOG,UAC9C,GAAI+I,EAAStB,GAAW,CACtB,IAAK,IAAI2B,KAAQL,EAAStB,GAAU+B,OAAQT,EAASU,oBAAoBL,EAAMG,UACxER,EAAStB,EAClB,CACF,CACA,SAASrC,EAAamD,EAAMa,EAAMM,GACnB,MAATA,EAAenB,EAAKoB,gBAAgBP,GAAWb,EAAKnD,aAAagE,EAAMM,EAC7E,CACA,SAASrE,EAAekD,EAAMqB,EAAWR,EAAMM,GAChC,MAATA,EAAenB,EAAKsB,kBAAkBD,EAAWR,GAAWb,EAAKlD,eAAeuE,EAAWR,EAAMM,EACvG,CACA,SAAS1F,EAAUuE,EAAMmB,GACV,MAATA,EAAenB,EAAKoB,gBAAgB,SAAcpB,EAAKvE,UAAY0F,CACzE,CACA,SAAS7F,EAAiB0E,EAAMa,EAAMU,EAASC,GAC7C,GAAIA,EACEC,MAAMC,QAAQH,IAChBvB,EAAK,KAAKa,KAAUU,EAAQ,GAC5BvB,EAAK,KAAKa,SAAcU,EAAQ,IAC3BvB,EAAK,KAAKa,KAAUU,OACtB,GAAIE,MAAMC,QAAQH,GAAU,CACjC,MAAMI,EAAYJ,EAAQ,GAC1BvB,EAAK1E,iBAAiBuF,EAAMU,EAAQ,GAAKd,GAAKkB,EAAUC,KAAK5B,EAAMuB,EAAQ,GAAId,GACjF,MAAOT,EAAK1E,iBAAiBuF,EAAMU,EACrC,CACA,SAAS/F,EAAUwE,EAAMmB,EAAOU,EAAO,CAAC,GACtC,MAAMC,EAAYnE,OAAOsD,KAAKE,GAAS,CAAC,GACtCY,EAAWpE,OAAOsD,KAAKY,GACzB,IAAInB,EAAGsB,EACP,IAAKtB,EAAI,EAAGsB,EAAMD,EAASnB,OAAQF,EAAIsB,EAAKtB,IAAK,CAC/C,MAAMuB,EAAMF,EAASrB,GAChBuB,GAAe,cAARA,IAAuBd,EAAMc,KACzCC,EAAelC,EAAMiC,GAAK,UACnBJ,EAAKI,GACd,CACA,IAAKvB,EAAI,EAAGsB,EAAMF,EAAUlB,OAAQF,EAAIsB,EAAKtB,IAAK,CAChD,MAAMuB,EAAMH,EAAUpB,GACpByB,IAAehB,EAAMc,GAClBA,GAAe,cAARA,GAAuBJ,EAAKI,KAASE,GAAeA,IAChED,EAAelC,EAAMiC,GAAK,GAC1BJ,EAAKI,GAAOE,EACd,CACA,OAAON,CACT,CACA,SAAStE,EAAMyC,EAAMmB,EAAOU,GAC1B,IAAKV,EAAO,OAAOU,EAAOhF,EAAamD,EAAM,SAAWmB,EACxD,MAAMiB,EAAYpC,EAAKzC,MACvB,GAAqB,iBAAV4D,EAAoB,OAAOiB,EAAUC,QAAUlB,EAI1D,IAAImB,EAAGC,EACP,IAAKA,IAJW,iBAATV,IAAsBO,EAAUC,QAAUR,OAAO9C,GACxD8C,IAASA,EAAO,CAAC,GACjBV,IAAUA,EAAQ,CAAC,GAETU,EACI,MAAZV,EAAMoB,IAAcH,EAAUI,eAAeD,UACtCV,EAAKU,GAEd,IAAKA,KAAKpB,EACRmB,EAAInB,EAAMoB,GACND,IAAMT,EAAKU,KACbH,EAAUK,YAAYF,EAAGD,GACzBT,EAAKU,GAAKD,GAGd,OAAOT,CACT,CACA,SAAS9E,EAAOiD,EAAM0C,EAAQ,CAAC,EAAG3C,EAAO4C,GACvC,MAAMC,EAAY,CAAC,EAMnB,OALKD,IACH,EAAAxL,EAAAkD,qBAAmB,IAAMuI,EAAUC,SAAWC,EAAiB9C,EAAM0C,EAAMG,SAAUD,EAAUC,aAEjG,EAAA1L,EAAAkD,qBAAmB,IAAMqI,EAAMK,KAAOL,EAAMK,IAAI/C,MAChD,EAAA7I,EAAAkD,qBAAmB,IAAMkB,EAAOyE,EAAM0C,EAAO3C,GAAO,EAAM6C,GAAW,KAC9DA,CACT,CACA,SAAShH,EAAgB8G,EAAOT,GAC9B,MAAMe,EAAMN,EAAMT,GAOlB,OANAtE,OAAOsF,eAAeP,EAAOT,EAAK,CAChCiB,IAAA,IACSF,IAETG,YAAY,IAEPT,CACT,CACA,SAAStG,EAAUgH,EAAQjD,IACxBhJ,EAAAkM,aAAaC,UAAYF,EAAOhH,UAAY+D,EAC/C,CACA,SAAS1C,EAAI2C,EAAIhB,EAASmE,GACxB,OAAO,EAAApM,EAAAsD,UAAQ,IAAM2F,EAAGhB,EAASmE,IACnC,CACA,SAASlH,EAAO+G,EAAQI,EAAUC,EAAQC,GAExC,QADe3E,IAAX0E,GAAyBC,IAASA,EAAU,IACxB,mBAAbF,EAAyB,OAAOV,EAAiBM,EAAQI,EAAUE,EAASD,IACvF,EAAAtM,EAAAkD,qBAAmBsJ,GAAWb,EAAiBM,EAAQI,IAAYG,EAASF,IAASC,EACvF,CACA,SAASnI,EAAOyE,EAAM0C,EAAO3C,EAAO4C,EAAcC,EAAY,CAAC,EAAGgB,GAAU,GAC1ElB,IAAUA,EAAQ,CAAC,GACnB,IAAK,MAAM9D,KAAQgE,EACjB,KAAMhE,KAAQ8D,GAAQ,CACpB,GAAa,aAAT9D,EAAqB,SACzBgE,EAAUhE,GAAQiF,EAAW7D,EAAMpB,EAAM,KAAMgE,EAAUhE,GAAOmB,EAAO6D,EACzE,CAEF,IAAK,MAAMhF,KAAQ8D,EAAO,CACxB,GAAa,aAAT9D,EAAqB,CAClB+D,GAAcG,EAAiB9C,EAAM0C,EAAMG,UAChD,QACF,CACA,MAAM1B,EAAQuB,EAAM9D,GACpBgE,EAAUhE,GAAQiF,EAAW7D,EAAMpB,EAAMuC,EAAOyB,EAAUhE,GAAOmB,EAAO6D,EAC1E,CACF,CAgBA,SAAS7H,EAAeyB,GACtB,IAAIwC,EAAMiC,EACV,IAAK9K,EAAAkM,aAAaC,WAAatD,EAAO7I,EAAAkM,aAAaS,SAASZ,IAAIjB,EAAMnG,MAAqB,CAEzF,GADI3E,EAAAkM,aAAaC,SAAS5K,QAAQqL,KAAK,8CAA+C9B,IACjFzE,EAAU,MAAM,IAAIwG,MAAM,0DAA4D/B,GAC3F,OAAOzE,GACT,CAGA,OAFIrG,EAAAkM,aAAaY,WAAW9M,EAAAkM,aAAaY,UAAUlD,IAAIf,GACvD7I,EAAAkM,aAAaS,SAASI,OAAOjC,GACtBjC,CACT,CACA,SAAS/D,EAAakI,EAAIC,GACxB,KAAOD,GAAMA,EAAGE,YAAcD,GAAUD,EAAKA,EAAGG,YAChD,OAAOH,CACT,CACA,SAASnI,EAAcuI,GACrB,IAAIC,EAAMD,EACRE,EAAQ,EACRd,EAAU,GACZ,GAAIxM,EAAAkM,aAAaC,QACf,KAAOkB,GAAK,CACV,GAAqB,IAAjBA,EAAIE,SAAgB,CACtB,MAAMpC,EAAIkC,EAAIG,UACd,GAAU,MAANrC,EAAWmC,SAAa,GAAU,MAANnC,EAAW,CACzC,GAAc,IAAVmC,EAAa,MAAO,CAACD,EAAKb,GAC9Bc,GACF,CACF,CACAd,EAAQiB,KAAKJ,GACbA,EAAMA,EAAIF,WACZ,CAEF,MAAO,CAACE,EAAKb,EACf,CACA,SAAS/G,IACHzF,EAAAkM,aAAawB,SAAW1N,EAAAkM,aAAawB,OAAOC,SAC9CC,gBAAe,KACb,MAAMd,UACJA,EAASY,OACTA,GACE1N,EAAAkM,aAEJ,IADAwB,EAAOC,QAAS,EACTD,EAAOjE,QAAQ,CACpB,MAAOuD,EAAI1D,GAAKoE,EAAO,GACvB,IAAKZ,EAAUnD,IAAIqD,GAAK,OACxBnD,EAAaP,GACboE,EAAOG,OACT,KAEF7N,EAAAkM,aAAawB,OAAOC,QAAS,EAEjC,CAIA,SAAS5C,EAAelC,EAAMiC,EAAKd,GACjC,MAAM8D,EAAahD,EAAIiD,OAAOC,MAAM,OACpC,IAAK,IAAIzE,EAAI,EAAG0E,EAAUH,EAAWrE,OAAQF,EAAI0E,EAAS1E,IAAKV,EAAKxE,UAAU6J,OAAOJ,EAAWvE,GAAIS,EACtG,CACA,SAAS0C,EAAW7D,EAAMpB,EAAMuC,EAAOU,EAAM9B,EAAO6D,GAClD,IAAI9D,EAAMwF,EAAQC,EAAaC,EAAWC,EAC1C,GAAa,UAAT7G,EAAkB,OAAOrB,EAAMyC,EAAMmB,EAAOU,GAChD,GAAa,cAATjD,EAAsB,OAAOpD,EAAUwE,EAAMmB,EAAOU,GACxD,GAAIV,IAAUU,EAAM,OAAOA,EAC3B,GAAa,QAATjD,EACGgF,GAASzC,EAAMnB,QACf,GAAyB,QAArBpB,EAAK8G,MAAM,EAAG,GAAc,CACrC,MAAMjF,EAAI7B,EAAK8G,MAAM,GACrB7D,GAAQ7B,EAAKkB,oBAAoBT,EAAGoB,GACpCV,GAASnB,EAAK1E,iBAAiBmF,EAAGU,EACpC,MAAO,GAA0B,eAAtBvC,EAAK8G,MAAM,EAAG,IAAsB,CAC7C,MAAMjF,EAAI7B,EAAK8G,MAAM,IACrB7D,GAAQ7B,EAAKkB,oBAAoBT,EAAGoB,GAAM,GAC1CV,GAASnB,EAAK1E,iBAAiBmF,EAAGU,GAAO,EAC3C,MAAO,GAAyB,OAArBvC,EAAK8G,MAAM,EAAG,GAAa,CACpC,MAAM7E,EAAOjC,EAAK8G,MAAM,GAAGC,cACrBnE,EAAW1G,EAAgBgG,IAAID,GACrC,IAAKW,GAAYK,EAAM,CACrB,MAAM+D,EAAInE,MAAMC,QAAQG,GAAQA,EAAK,GAAKA,EAC1C7B,EAAKkB,oBAAoBL,EAAM+E,EACjC,EACIpE,GAAYL,KACd7F,EAAiB0E,EAAMa,EAAMM,EAAOK,GACpCA,GAAY7F,EAAe,CAACkF,IAEhC,MAAO,GAAyB,UAArBjC,EAAK8G,MAAM,EAAG,GACvB7I,EAAamD,EAAMpB,EAAK8G,MAAM,GAAIvE,QAC7B,IAAKsE,EAAiC,UAArB7G,EAAK8G,MAAM,EAAG,MAAoBH,EAAc3K,EAAgBkG,IAAIlC,MAAWmB,KAAWyF,EAAYtJ,EAAa0C,EAAMoB,EAAKnB,YAAcyG,EAASnK,EAAW2F,IAAIlC,OAAYkB,EAAOE,EAAKoE,SAASyB,SAAS,MAChOJ,IACF7G,EAAOA,EAAK8G,MAAM,GAClBJ,GAAS,GAEE,UAAT1G,GAA6B,cAATA,EAAsBnD,EAAUuE,EAAMmB,IAAgBrB,GAASwF,GAAWC,EAAqDvF,EAAKwF,GAAa5G,GAAQuC,EAAlEnB,GAxC3Fa,EAwC+GjC,EAvC9HiC,EAAK8E,cAAcG,QAAQ,aAAa,CAACC,EAAGC,IAAMA,EAAEC,kBAuCmF9E,MACvI,CACL,MAAM+E,EAAKnG,GAASnB,EAAKuH,QAAQ,MAAO,GAAM9K,EAAauD,EAAKuG,MAAM,KAAK,IACvEe,EAAIpJ,EAAekD,EAAMkG,EAAItH,EAAMuC,GAAYtE,EAAamD,EAAMtF,EAAQkE,IAASA,EAAMuC,EAC/F,CA5CF,IAAwBN,EA6CtB,OAAOM,CACT,CACA,SAASH,EAAaP,GACpB,MAAMwB,EAAM,KAAKxB,EAAE2F,OACnB,IAAIpG,EAAOS,EAAE4F,cAAgB5F,EAAE4F,eAAe,IAAM5F,EAAE6F,OActD,IAbI7F,EAAE6F,SAAWtG,GACfrC,OAAOsF,eAAexC,EAAG,SAAU,CACjC8F,cAAc,EACdpF,MAAOnB,IAGXrC,OAAOsF,eAAexC,EAAG,gBAAiB,CACxC8F,cAAc,EACdrD,IAAA,IACSlD,GAAQvI,WAGfN,EAAAkM,aAAaS,WAAa3M,EAAAkM,aAAamD,OAAMrP,EAAAkM,aAAamD,KAAOC,KAAKD,MAAO,GAC1ExG,GAAM,CACX,MAAMuB,EAAUvB,EAAKiC,GACrB,GAAIV,IAAYvB,EAAK0G,SAAU,CAC7B,MAAMC,EAAO3G,EAAK,GAAGiC,SAErB,QADSlD,IAAT4H,EAAqBpF,EAAQK,KAAK5B,EAAM2G,EAAMlG,GAAKc,EAAQK,KAAK5B,EAAMS,GAClEA,EAAEmG,aAAc,MACtB,CACA5G,EAAOA,EAAK6G,QAAU7G,EAAK8G,YAAc9G,EAAK+G,IAChD,CACF,CACA,SAASjE,EAAiBM,EAAQjC,EAAOwC,EAASF,EAAQuD,GACxD,GAAI7P,EAAAkM,aAAaC,QAAS,EACvBK,IAAYA,EAAU,IAAIP,EAAO6D,aAClC,IAAIC,EAAU,GACd,IAAK,IAAIxG,EAAI,EAAGA,EAAIiD,EAAQ/C,OAAQF,IAAK,CACvC,MAAMV,EAAO2D,EAAQjD,GACC,IAAlBV,EAAK0E,UAA4C,OAA1B1E,EAAK2G,KAAKjB,MAAM,EAAG,GAAa1F,EAAKmH,SAAcD,EAAQtC,KAAK5E,EAC7F,CACA2D,EAAUuD,CACZ,CACA,KAA0B,mBAAZvD,GAAwBA,EAAUA,IAChD,GAAIxC,IAAUwC,EAAS,OAAOA,EAC9B,MAAM1D,SAAWkB,EACfiG,OAAmBrI,IAAX0E,EAEV,GADAL,EAASgE,GAASzD,EAAQ,IAAMA,EAAQ,GAAGmD,YAAc1D,EAC/C,WAANnD,GAAwB,WAANA,EAAgB,CACpC,GAAI9I,EAAAkM,aAAaC,QAAS,OAAOK,EAEjC,GADU,WAAN1D,IAAgBkB,EAAQA,EAAMkG,YAC9BD,EAAO,CACT,IAAIpH,EAAO2D,EAAQ,GACf3D,GAA0B,IAAlBA,EAAK0E,SACf1E,EAAK2G,KAAOxF,EACPnB,EAAOvI,SAAS6P,eAAenG,GACtCwC,EAAU4D,EAAcnE,EAAQO,EAASF,EAAQzD,EACnD,MAEI2D,EADc,KAAZA,GAAqC,iBAAZA,EACjBP,EAAO1D,WAAWiH,KAAOxF,EACpBiC,EAAOxD,YAAcuB,CAE1C,MAAO,GAAa,MAATA,GAAuB,YAANlB,EAAiB,CAC3C,GAAI9I,EAAAkM,aAAaC,QAAS,OAAOK,EACjCA,EAAU4D,EAAcnE,EAAQO,EAASF,EAC3C,KAAO,IAAU,aAANxD,EAMT,OALA,EAAA9I,EAAAkD,qBAAmB,KACjB,IAAIiI,EAAInB,IACR,KAAoB,mBAANmB,GAAkBA,EAAIA,IACpCqB,EAAUb,EAAiBM,EAAQd,EAAGqB,EAASF,EAAA,IAE1C,IAAME,EACR,GAAIlC,MAAMC,QAAQP,GAAQ,CAC/B,MAAMqG,EAAQ,GACRC,EAAe9D,GAAWlC,MAAMC,QAAQiC,GAC9C,GAAI+D,EAAuBF,EAAOrG,EAAOwC,EAASqD,GAEhD,OADA,EAAA7P,EAAAkD,qBAAmB,IAAMsJ,EAAUb,EAAiBM,EAAQoE,EAAO7D,EAASF,GAAQ,KAC7E,IAAME,EAEf,GAAIxM,EAAAkM,aAAaC,QAAS,CACxB,IAAKkE,EAAM5G,OAAQ,OAAO+C,EAC1B,IAAK,IAAIjD,EAAI,EAAGA,EAAI8G,EAAM5G,OAAQF,IAChC,GAAI8G,EAAM9G,GAAGoG,WAAY,OAAOnD,EAAU6D,CAE9C,CACA,GAAqB,IAAjBA,EAAM5G,QAER,GADA+C,EAAU4D,EAAcnE,EAAQO,EAASF,GACrC2D,EAAO,OAAOzD,OACT8D,EACc,IAAnB9D,EAAQ/C,OACV+G,EAAYvE,EAAQoE,EAAO/D,GAhZnC,SAAyBqD,EAAYhI,EAAG8I,GACtC,IAAIC,EAAUD,EAAEhH,OACdkH,EAAOhJ,EAAE8B,OACTmH,EAAOF,EACPG,EAAS,EACTC,EAAS,EACTC,EAAQpJ,EAAEgJ,EAAO,GAAGxD,YACpB6D,EAAM,KACR,KAAOH,EAASF,GAAQG,EAASF,GAC/B,GAAIjJ,EAAEkJ,KAAYJ,EAAEK,GAApB,CAKA,KAAOnJ,EAAEgJ,EAAO,KAAOF,EAAEG,EAAO,IAC9BD,IACAC,IAEF,GAAID,IAASE,EAAQ,CACnB,MAAMhI,EAAO+H,EAAOF,EAAUI,EAASL,EAAEK,EAAS,GAAG3D,YAAcsD,EAAEG,EAAOE,GAAUC,EACtF,KAAOD,EAASF,GAAMjB,EAAWsB,aAAaR,EAAEK,KAAWjI,EAC7D,MAAO,GAAI+H,IAASE,EAClB,KAAOD,EAASF,GACTK,GAAQA,EAAIrH,IAAIhC,EAAEkJ,KAAUlJ,EAAEkJ,GAAQb,SAC3Ca,SAEG,GAAIlJ,EAAEkJ,KAAYJ,EAAEG,EAAO,IAAMH,EAAEK,KAAYnJ,EAAEgJ,EAAO,GAAI,CACjE,MAAM9H,EAAOlB,IAAIgJ,GAAMxD,YACvBwC,EAAWsB,aAAaR,EAAEK,KAAWnJ,EAAEkJ,KAAU1D,aACjDwC,EAAWsB,aAAaR,IAAIG,GAAO/H,GACnClB,EAAEgJ,GAAQF,EAAEG,EACd,KAAO,CACL,IAAKI,EAAK,CACRA,EAAM,IAAIE,IACV,IAAI3H,EAAIuH,EACR,KAAOvH,EAAIqH,GAAMI,EAAIG,IAAIV,EAAElH,GAAIA,IACjC,CACA,MAAM6H,EAAQJ,EAAIjF,IAAIpE,EAAEkJ,IACxB,GAAa,MAATO,EACF,GAAIN,EAASM,GAASA,EAAQR,EAAM,CAClC,IAEE9H,EAFES,EAAIsH,EACNQ,EAAW,EAEb,OAAS9H,EAAIoH,GAAQpH,EAAIqH,GACI,OAAtB9H,EAAIkI,EAAIjF,IAAIpE,EAAE4B,MAAgBT,IAAMsI,EAAQC,GACjDA,IAEF,GAAIA,EAAWD,EAAQN,EAAQ,CAC7B,MAAMjI,EAAOlB,EAAEkJ,GACf,KAAOC,EAASM,GAAOzB,EAAWsB,aAAaR,EAAEK,KAAWjI,EAC9D,MAAO8G,EAAW2B,aAAab,EAAEK,KAAWnJ,EAAEkJ,KAChD,MAAOA,SACFlJ,EAAEkJ,KAAUb,QACrB,CAxCA,MAHEa,IACAC,GA4CN,CA0VaS,CAAgBtF,EAAQO,EAAS6D,IAExC7D,GAAW4D,EAAcnE,GACzBuE,EAAYvE,EAAQoE,IAEtB7D,EAAU6D,CACZ,MAAO,GAAIrG,aAAiBwH,KAAM,CAChC,GAAIxR,EAAAkM,aAAaC,SAAWnC,EAAM2F,WAAY,OAAOnD,EAAUyD,EAAQ,CAACjG,GAASA,EACjF,GAAIM,MAAMC,QAAQiC,GAAU,CAC1B,GAAIyD,EAAO,OAAOzD,EAAU4D,EAAcnE,EAAQO,EAASF,EAAQtC,GACnEoG,EAAcnE,EAAQO,EAAS,KAAMxC,EACvC,MAAsB,MAAXwC,GAA+B,KAAZA,GAAmBP,EAAO1D,WAEjD0D,EAAOqF,aAAatH,EAAOiC,EAAO1D,YADvC0D,EAAOwF,YAAYzH,GAErBwC,EAAUxC,CACZ,MAAOzI,QAAQqL,KAAK,wCAAyC5C,EAAA,CAC7D,OAAOwC,CACT,CACA,SAAS+D,EAAuBmB,EAAYrB,EAAO7D,EAASmF,GAC1D,IAAIC,GAAU,EACd,IAAK,IAAIrI,EAAI,EAAGsB,EAAMwF,EAAM5G,OAAQF,EAAIsB,EAAKtB,IAAK,CAChD,IAAIsI,EAAOxB,EAAM9G,GACfmB,EAAO8B,GAAWA,EAAQjD,GAC5B,GAAIsI,aAAgBL,KAClBE,EAAWjE,KAAKoE,QACX,GAAY,MAARA,IAAyB,IAATA,IAA0B,IAATA,QAAuB,GAAIvH,MAAMC,QAAQsH,GACnFD,EAAUrB,EAAuBmB,EAAYG,EAAMnH,IAASkH,OACvD,GAAsB,mBAAVC,EACjB,GAAIF,EAAQ,CACV,KAAuB,mBAATE,GAAqBA,EAAOA,IAC1CD,EAAUrB,EAAuBmB,EAAYpH,MAAMC,QAAQsH,GAAQA,EAAO,CAACA,GAAOvH,MAAMC,QAAQG,GAAQA,EAAO,CAACA,KAAUkH,CAC5H,MACEF,EAAWjE,KAAKoE,GAChBD,GAAU,MAEP,CACL,MAAM5H,EAAQ8H,OAAOD,GACjBnH,GAA0B,IAAlBA,EAAK6C,UACf7C,EAAK8E,KAAOxF,EACZ0H,EAAWjE,KAAK/C,IACXgH,EAAWjE,KAAKnN,SAAS6P,eAAenG,GACjD,CACF,CACA,OAAO4H,CACT,CACA,SAASpB,EAAYvE,EAAQoE,EAAO/D,EAAS,MAC3C,IAAK,IAAI/C,EAAI,EAAGsB,EAAMwF,EAAM5G,OAAQF,EAAIsB,EAAKtB,IAAK0C,EAAOgF,aAAaZ,EAAM9G,GAAI+C,EAClF,CACA,SAAS8D,EAAcnE,EAAQO,EAASF,EAAQyF,GAC9C,QAAenK,IAAX0E,EAAsB,OAAOL,EAAOxD,YAAc,GACtD,MAAMI,EAAOkJ,GAAezR,SAAS6P,eAAe,IACpD,GAAI3D,EAAQ/C,OAAQ,CAClB,IAAIuI,GAAW,EACf,IAAK,IAAIzI,EAAIiD,EAAQ/C,OAAS,EAAGF,GAAK,EAAGA,IAAK,CAC5C,MAAMyD,EAAKR,EAAQjD,GACnB,GAAIV,IAASmE,EAAI,CACf,MAAMiF,EAAWjF,EAAG2C,aAAe1D,EAC9B+F,GAAazI,EAAqF0I,GAAYjF,EAAGgD,SAAjGiC,EAAWhG,EAAOqF,aAAazI,EAAMmE,GAAMf,EAAOgF,aAAapI,EAAMyD,EAC5F,MAAO0F,GAAW,CACpB,CACF,MAAO/F,EAAOgF,aAAapI,EAAMyD,GACjC,MAAO,CAACzD,EACV,CACA,SAASqJ,EAAiBjK,EAASkK,GACjC,MAAMC,EAAYnK,EAAQoK,iBAAiB,cAC3C,IAAK,IAAI9I,EAAI,EAAGA,EAAI6I,EAAU3I,OAAQF,IAAK,CACzC,MAAMV,EAAOuJ,EAAU7I,GACjBuB,EAAMjC,EAAKyJ,aAAa,WACxBH,IAAQrH,EAAIyH,WAAWJ,IAAWnS,EAAAkM,aAAaS,SAAShD,IAAImB,IAAM9K,EAAAkM,aAAaS,SAASwE,IAAIrG,EAAKjC,EACzG,CACF,CACA,SAASlE,IACP,MAAMK,EAAUhF,EAAAkM,aAAaC,QAC7B,MAAO,GAAGnH,EAAQwN,KAAKxN,EAAQsI,SACjC,CACA,SAASxJ,EAAYyH,GACnB,OAAOvL,EAAAkM,aAAaC,aAAUvE,EAAY2D,EAAMG,QAClD,CACA,SAAS7H,EAAU0H,GACjB,OAAOA,EAAMG,QACf,CACA,SAASlI,IAAU,CAEnB,SAASiP,EAAeC,GACtB,MAAMC,EAAM,IAAI9F,MAAM,GAAG6F,EAAKhJ,6DAC9BnI,QAAQqR,MAAMD,EAChB,CACA,SAASrN,EAAe2D,EAAId,GAC1BsK,EAAenN,EACjB,CACA,SAASC,EAAoB0D,EAAId,GAC/BsK,EAAelN,EACjB,CACA,SAASF,EAAe4D,EAAId,GAC1BsK,EAAepN,EACjB,CACA,SAASQ,EAAIQ,KAAawM,GAAQ,CAClC,SAAS7M,EAAW0D,EAAM6B,EAAOG,EAAUoH,GAAU,CACrD,SAAS/M,EAAaiE,GAAQ,CAC9B,SAAS7D,GAAS6D,GAAQ,CAC1B,SAASlE,GAAagF,EAAKd,GAAQ,CACnC,SAAS/D,KAAmB,CAC5B,SAAST,GAAeqD,GAAO,CAC/B,SAASnE,GAAOgE,GAAO,CACvB,SAASxC,GAAUqF,EAAO3C,EAAO4C,GAAe,CAEhD,MAAMpG,IAAW,EACXD,IAAQ,EACR4N,GAAgB,6BACtB,SAAShK,GAAcrB,EAASkB,GAAQ,GACtC,OAAOA,EAAQtI,SAAS0S,gBAAgBD,GAAerL,GAAWpH,SAASyI,cAAcrB,EAC3F,CACA,MAAM1C,GAAU,IAAIiO,MAClB,EAAAjT,EAAAkT,mBAvTF,SAAmBlL,EAAMC,EAASE,EAAU,CAAC,GAC3CnI,EAAAkM,aAAaY,UAAYqG,WAAW7D,KAAKxC,UACzC9M,EAAAkM,aAAawB,OAASyF,WAAW7D,KAAK5B,OACtC1N,EAAAkM,aAAakH,KAAOD,WAAW7D,KAAK8D,KACpCpT,EAAAkM,aAAamH,OAASlB,GAAQD,EAAiBjK,EAASkK,GACxDnS,EAAAkM,aAAaS,SAAW,IAAIuE,IAC5BlR,EAAAkM,aAAaC,QAAU,CACrBqG,GAAIrK,EAAQmL,UAAY,GACxBhG,MAAO,GAET4E,EAAiBjK,EAASE,EAAQmL,UAClC,MAAMhL,EAAUjG,EAAO2F,EAAMC,EAAS,IAAIA,EAAQ6H,YAAa3H,GAE/D,OADAnI,EAAAkM,aAAaC,QAAU,KAChB7D,CACT,CA0SSiL,IAAaN,IAEtB,SAASlP,GAAOwH,GACd,MAAMiI,UACFA,GACEjI,EACJe,EAAShM,SAAS6P,eAAe,IAEjC3H,GAAQ,EAAAxI,EAAAmD,YACV,IAAI6F,EACAyK,IAAczT,EAAAkM,aAAaC,QA6B/B,OA5BA,EAAAnM,EAAA0T,eAAa,KACPD,KAAW,EAAAzT,EAAAmD,YAAWwQ,KAAOF,GAAY,GAC7CzK,IAAYA,GAAU,EAAAhJ,EAAA4T,cAAapL,GAAO,IAAM+C,EAAMG,YACtD,MAAMsB,EAPQzB,EAAMsI,OAASvT,SAASwT,KAQtC,GAAI9G,aAAc+G,gBAAiB,CACjC,MAAOC,EAAOC,IAAY,EAAAjU,EAAAkU,eAAa,GACjCC,EAAU,IAAMF,GAAS,IAC/B,EAAAjU,EAAAqI,aAAWC,GAAWpD,EAAO8H,GAAI,IAAOgH,IAAoB1L,IAAVU,GAAqB,SACvE,EAAAhJ,EAAAoU,WAAUD,EACZ,KAAO,CACL,MAAME,EAAYtL,GAAcwC,EAAM3C,MAAQ,IAAM,MAAO2C,EAAM3C,OAC/D0L,EAAad,GAAaa,EAAUE,aAAeF,EAAUE,aAAa,CACxEC,KAAM,SACHH,EACP7N,OAAOsF,eAAeuI,EAAW,SAAU,CACzCtI,IAAA,IACSO,EAAOqD,WAEhBP,cAAc,IAEhBlK,EAAOoP,EAAYtL,GACnBgE,EAAGyE,YAAY4C,GACf9I,EAAMK,KAAOL,EAAMK,IAAIyI,IACvB,EAAArU,EAAAoU,YAAU,IAAMpH,EAAGyH,YAAYJ,IACjC,SACCzM,EAAW,CACZvF,QAASoR,IAEJnH,CACT,CACA,SAAS1I,GAAQ2H,GACf,MAAOmJ,EAAGC,IAAU,EAAA3U,EAAA4U,YAAWrJ,EAAO,CAAC,cACjCsJ,GAAS,EAAA7U,EAAAoD,aAAW,IAAMsR,EAAEI,YAClC,OAAO,EAAA9U,EAAAoD,aAAW,KAChB,MAAM0R,EAAYD,IAClB,cAAeC,GACb,IAAK,WAIH,OAHAtO,OAAOpC,OAAO0Q,EAAW,CACvB,CAAC9U,EAAA+U,WAAW,KAEP,EAAA/U,EAAAsD,UAAQ,IAAMwR,EAAUH,KACjC,IAAK,SACH,MAAMK,EAAQ/Q,EAAY0F,IAAImL,GACxB9H,EAAKhN,EAAAkM,aAAaC,QAAUvH,IAAmBmE,GAAc+L,EAAWE,GAE9E,OADApP,EAAOoH,EAAI2H,EAAQK,GACZhI,EACX,GAEJ,C,0GCjnBA,IAAA1K,EAAAzC,EAAA,kD,uBAukDAyC,EAAAC,OAAAC,EAAA,gBAASuS,IAATzS,EAAAC,OAAAC,EAAA,cAAmByS,IAAnB3S,EAAAC,OAAAC,EAAA,cAA2B0S,IAA3B5S,EAAAC,OAAAC,EAAA,WAAmC2S,KAAnC7S,EAAAC,OAAAC,EAAA,qBAAwCC,KAAxCH,EAAAC,OAAAC,EAAA,WAAuDE,KAAvDJ,EAAAC,OAAAC,EAAA,aAA4DG,KAA5DL,EAAAC,OAAAC,EAAA,aAAmEI,KAAnEN,EAAAC,OAAAC,EAAA,YAA0EK,KAA1EP,EAAAC,OAAAC,EAAA,gBAAgFM,KAAhFR,EAAAC,OAAAC,EAAA,oBAA0FO,KAA1FT,EAAAC,OAAAC,EAAA,cAAwGQ,KAAxGV,EAAAC,OAAAC,EAAA,aAAgHN,IAAhHI,EAAAC,OAAAC,EAAA,sBAAuH4S,IAAvH9S,EAAAC,OAAAC,EAAA,kBAAuI6S,KAAvI/S,EAAAC,OAAAC,EAAA,gBAAmJkJ,KAAnJpJ,EAAAC,OAAAC,EAAA,uBAA6JS,KAA7JX,EAAAC,OAAAC,EAAA,sBAA8K8S,IAA9KhT,EAAAC,OAAAC,EAAA,qBAA8L+S,KAA9LjT,EAAAC,OAAAC,EAAA,sBAA6MgT,IAA7MlT,EAAAC,OAAAC,EAAA,oBAA6NkR,IAA7NpR,EAAAC,OAAAC,EAAA,kBAA2OY,IAA3Od,EAAAC,OAAAC,EAAA,sBAAuPiT,IAAvPnT,EAAAC,OAAAC,EAAA,0BAAuQU,IAAvQZ,EAAAC,OAAAC,EAAA,sBAA2RkT,IAA3RpT,EAAAC,OAAAC,EAAA,kBAA2S6F,IAA3S/F,EAAAC,OAAAC,EAAA,sBAAuTmT,IAAvTrT,EAAAC,OAAAC,EAAA,oBAAuU0R,IAAvU5R,EAAAC,OAAAC,EAAA,sBAAqVoT,KAArVtT,EAAAC,OAAAC,EAAA,4BAAqWqT,KAArWvT,EAAAC,OAAAC,EAAA,uBAA2X0Q,KAA3X5Q,EAAAC,OAAAC,EAAA,wBAA4YsT,KAA5YxT,EAAAC,OAAAC,EAAA,eAA8ZuT,IAA9ZzT,EAAAC,OAAAC,EAAA,YAAuawT,KAAva1T,EAAAC,OAAAC,EAAA,mBAA6ayT,KAA7a3T,EAAAC,OAAAC,EAAA,gBAA0bW,KAA1bb,EAAAC,OAAAC,EAAA,kBAAoc0T,KAApc5T,EAAAC,OAAAC,EAAA,YAAgd2T,KAAhd7T,EAAAC,OAAAC,EAAA,gBAAsd4T,KAAtd9T,EAAAC,OAAAC,EAAA,kBAAgea,KAAhef,EAAAC,OAAAC,EAAA,kBAA4e6T,KAA5e/T,EAAAC,OAAAC,EAAA,UAAwf8T,KAAxfhU,EAAAC,OAAAC,EAAA,iBAA4f4R,KAA5f9R,EAAAC,OAAAC,EAAA,eAAugB+T,KAAvgBjU,EAAAC,OAAAC,EAAA,eAAghBgU,KAAhhBlU,EAAAC,OAAAC,EAAA,uBAAyhBiU,IAAzhBnU,EAAAC,OAAAC,EAAA,4BAA0iBkU,KAA1iBpU,EAAAC,OAAAC,EAAA,oBAAgkBoR,KAAhkBtR,EAAAC,OAAAC,EAAA,oBAA8kB0J,IAA9kB5J,EAAAC,OAAAC,EAAA,kBAA4lBoS,KAA5lBtS,EAAAC,OAAAC,EAAA,uBAAwmBmU,KAAxmBrU,EAAAC,OAAAC,EAAA,eAAynBc,IAAznBhB,EAAAC,OAAAC,EAAA,kBAAkoBoU,KAAloBtU,EAAAC,OAAAC,EAAA,qBAA8oBqU,KAvkD9oB,IAAIC,EAAgB,EAClBC,GAAsB,EACtBC,GAAmB,EACnBC,EAAY,GACZC,EAAc,KACdC,EAAoB,KACpBC,EAAgB,EAChBC,EAAW,EACXC,EAAmB,IACnBC,EAAmB,KACnBC,EAAoB,KACtB,MAAMC,EAAoB,WAmD1B,SAAShB,EAAgBxN,EAAId,GACtBoP,GAnDP,WACE,MAAMG,EAAU,IAAIC,eAClBC,EAAOF,EAAQG,MAkBjB,GAjBAN,EAAmB,IAAMK,EAAKE,YAAY,MAC1CJ,EAAQK,MAAMC,UAAY,KACxB,GAA0B,OAAtBR,EAA4B,CAC9B,MAAMS,EAAcC,YAAYC,MAChCd,EAAWY,EAAcb,EACzB,MAAMgB,GAAmB,EACzB,IACsBZ,EAAkBY,EAAkBH,GAGjDL,EAAKE,YAAY,MADtBN,EAAoB,IAExB,CAAE,MAAO5E,GAEP,MADAgF,EAAKE,YAAY,MACXlF,CACR,CACF,GAEEyF,WAAaA,UAAUC,YAAcD,UAAUC,WAAWC,eAAgB,CAC5E,MAAMD,EAAaD,UAAUC,WAC7BnB,EAAoB,KAClB,MAAMc,EAAcC,YAAYC,MAChC,OAAIF,GAAeZ,MACbiB,EAAWC,kBAGRN,GAAeX,EAEV,CAGlB,MACEH,EAAoB,IAAMe,YAAYC,OAASd,CAEnD,CAeyBmB,GACvB,IAAIC,EAAYP,YAAYC,MAC1BO,EAAUjB,EACRtP,GAAWA,EAAQuQ,UAASA,EAAUvQ,EAAQuQ,SAClD,MAAMC,EAAU,CACdnG,GAAIsE,IACJ7N,KACAwP,YACAG,eAAgBH,EAAYC,GAQ9B,OA9BF,SAAiBzB,EAAW4B,GAW1B5B,EAAU6B,OAVV,WACE,IAAIC,EAAI,EACJC,EAAI/B,EAAUxN,OAAS,EAC3B,KAAOsP,GAAKC,GAAG,CACb,MAAMC,EAAID,EAAID,GAAK,EACbG,EAAML,EAAKD,eAAiB3B,EAAUgC,GAAGL,eAC/C,GAAIM,EAAM,EAAGH,EAAIE,EAAI,MAAO,MAAIC,EAAM,GAAkB,OAAOD,EAAtBD,EAAIC,EAAI,CAAc,CACjE,CACA,OAAOF,CACT,CACiBI,GAAa,EAAGN,EACnC,CAYEO,CAAQnC,EAAW0B,GACd5B,GAAwBC,IAC3BD,GAAsB,EACtBS,EAAoB6B,EACpB9B,KAEKoB,CACT,CACA,SAASvD,EAAeyD,GACtBA,EAAK5P,GAAK,IACZ,CACA,SAASoQ,EAAUjB,EAAkBkB,GACnCvC,GAAsB,EACtBC,GAAmB,EACnB,IACE,OAMJ,SAAkBoB,EAAkBkB,GAClC,IAAIrB,EAAcqB,EAClBpC,EAAcD,EAAU,IAAM,KAC9B,KAAuB,OAAhBC,MACDA,EAAY0B,eAAiBX,IAAiBG,IAAoBjB,MAD3C,CAI3B,MAAMoC,EAAWrC,EAAYjO,GAC7B,GAAiB,OAAbsQ,EAAmB,CACrBrC,EAAYjO,GAAK,KAEjBsQ,EAD+BrC,EAAY0B,gBAAkBX,GAE7DA,EAAcC,YAAYC,MACtBjB,IAAgBD,EAAU,IAC5BA,EAAUpJ,OAEd,MAAOoJ,EAAUpJ,QACjBqJ,EAAcD,EAAU,IAAM,IAChC,CACA,OAAuB,OAAhBC,CACT,CA1BWsC,CAASpB,EAAkBkB,EACpC,SACEpC,EAAc,KACdF,GAAmB,CACrB,CACF,CAuBA,MAAM9K,EAAe,CACnBC,aAASvE,EACT+E,cAAU/E,GAEZ,SAAS6R,EAAkBtN,GACzBD,EAAaC,QAAUA,CACzB,CASA,MAAM4J,EAAU,CAACpO,EAAG8I,IAAM9I,IAAM8I,EAC1BwE,EAASyE,OAAO,eAChBxE,EAASwE,OAAO,eAChB3E,EAAW2E,OAAO,uBAClBC,EAAgB,CACpBC,OAAQ7D,GAEV,IAAI8D,EAAQ,KACRC,EAAaC,GACjB,MAAMC,EAAQ,EACRC,EAAU,EACVC,EAAU,CACdC,MAAO,KACPC,SAAU,KACVjO,QAAS,KACT3D,MAAO,MAEH6R,EAAU,CAAC,EACjB,IAAIC,EAAQ,KACZ,IAAIC,EAAa,KACbC,EAAY,KACZC,EAAwB,KACxBC,EAAW,KACXC,EAAU,KACVC,EAAU,KACVC,EAAY,EAChB,MAAOC,EAAcC,GAAgC7G,GAAa,GAClE,SAAS7L,EAAWY,EAAI+R,GACtB,MAAMC,EAAWP,EACflS,EAAQ8R,EACRY,EAAwB,IAAdjS,EAAGQ,OACb0I,EAAO+I,EAAUhB,EAAU,CACzBC,MAAO,KACPC,SAAU,KACVjO,QAAS,KACT3D,WAAyBZ,IAAlBoT,EAA8BxS,EAAQwS,GAE/CG,EAAWD,EAAUjS,EAAK,IAAMA,GAAG,IAAM3F,GAAQ,IAAM8X,GAAUjJ,OACnEmI,EAAQnI,EACRuI,EAAW,KACX,IACE,OAAOW,GAAWF,GAAU,EAC9B,SACET,EAAWO,EACXX,EAAQ9R,CACV,CACF,CACA,SAAS0L,EAAalK,EAAO7B,GAE3B,MAAMiD,EAAI,CACRpB,QACAsR,UAAW,KACXC,cAAe,KACfC,YALFrT,EAAUA,EAAU3B,OAAOpC,OAAO,CAAC,EAAGuV,EAAexR,GAAWwR,GAK1CC,aAAUhS,GAQhC,MAAO,CAAC6T,GAAWC,KAAKtQ,GANTpB,IACQ,mBAAVA,IAC0DA,EAA/DuQ,GAAcA,EAAWoB,SAAWpB,EAAWqB,QAAQjS,IAAIyB,GAAYpB,EAAMoB,EAAEyQ,QAAqB7R,EAAMoB,EAAEpB,QAE3G8R,GAAY1Q,EAAGpB,IAG1B,CACA,SAASsL,EAAerM,EAAIe,EAAO7B,GACjC,MAAM4T,EAAIC,GAAkB/S,EAAIe,GAAO,EAAMgQ,GACzCQ,GAAaD,GAAcA,EAAWoB,QAAShB,EAAQlN,KAAKsO,GAAQE,GAAkBF,EAC5F,CACA,SAAS7Y,EAAmB+F,EAAIe,EAAO7B,GACrC,MAAM4T,EAAIC,GAAkB/S,EAAIe,GAAO,EAAOgQ,GAC1CQ,GAAaD,GAAcA,EAAWoB,QAAShB,EAAQlN,KAAKsO,GAAQE,GAAkBF,EAC5F,CACA,SAASrI,EAAazK,EAAIe,EAAO7B,GAC/B2R,EAAaoC,GACb,MAAMH,EAAIC,GAAkB/S,EAAIe,GAAO,EAAOgQ,GAC5C5O,EAAI+Q,IAAmBC,GAAO9B,EAAO6B,GAAgB3J,IACnDpH,IAAG2Q,EAAEM,SAAWjR,GACfjD,GAAYA,EAAQ9F,SAAQ0Z,EAAEpI,MAAO,GAC1CiH,EAAUA,EAAQnN,KAAKsO,GAAKE,GAAkBF,EAChD,CACA,SAAStG,EAAe6G,EAAcnU,GACpC,IAAIc,EACJ,MAAM8S,EAAIC,IAAkB,KACxB/S,EAAKA,IAAO3F,EAAQgZ,GACpBrT,OAAKrB,CAAA,QACJA,GAAW,EAAO,GACrBwD,EAAI+Q,IAAmBC,GAAO9B,EAAO6B,GAAgB3J,IAGvD,OAFIpH,IAAG2Q,EAAEM,SAAWjR,GACpB2Q,EAAEpI,MAAO,EACF4I,IACLtT,EAAKsT,EACLN,GAAkBF,EAAA,CAEtB,CACA,SAAS3Y,EAAW6F,EAAIe,EAAO7B,GAC7BA,EAAUA,EAAU3B,OAAOpC,OAAO,CAAC,EAAGuV,EAAexR,GAAWwR,EAChE,MAAMoC,EAAIC,GAAkB/S,EAAIe,GAAO,EAAM,GAQ7C,OAPA+R,EAAET,UAAY,KACdS,EAAER,cAAgB,KAClBQ,EAAEP,WAAarT,EAAQyR,aAAUhS,EAC7B4S,GAAaD,GAAcA,EAAWoB,SACxCI,EAAES,OAASxC,EACXW,EAAQlN,KAAKsO,IACRE,GAAkBF,GAClBN,GAAWC,KAAKK,EACzB,CACA,SAASrG,EAAe+G,EAASC,EAAUC,GACzC,IAAIC,EACAC,EACA1U,EACqB,IAArB2U,UAAUrT,QAAoC,iBAAbiT,GAA8C,IAArBI,UAAUrT,QACtEmT,GAAS,EACTC,EAAUJ,EACVtU,EAAUuU,GAAY,CAAC,IAEvBE,EAASH,EACTI,EAAUH,EACVvU,EAAUwU,GAAY,CAAC,GAEzB,IAAII,EAAK,KACPC,EAAQ3C,EACR7H,EAAK,KACLyK,GAAwB,EACxBC,GAAY,EACZC,EAAY,iBAAkBhV,EAC9ByJ,EAA4B,mBAAXgL,GAAyBxZ,EAAWwZ,GACvD,MAAMQ,EAAW,IAAI7W,KAClByD,EAAOqT,IAAalV,EAAQmV,SAAWpJ,GAAc/L,EAAQoV,eAC7D3K,EAAO4K,GAAYtJ,OAAatM,IAChC6V,EAAOC,GAAWxJ,OAAatM,EAAW,CACzCgS,QAAQ,KAET+D,EAAOC,GAAY1J,EAAaiJ,EAAW,QAAU,cACxD,GAAIjR,EAAaC,QAAS,CAExB,IAAIhB,EADJqH,EAAK,GAAGtG,EAAaC,QAAQqG,KAAKtG,EAAaC,QAAQmB,UAE3B,YAAxBnF,EAAQ0V,YAA2Bb,EAAQ7U,EAAQoV,aAAsBrR,EAAakH,OAASjI,EAAIe,EAAakH,KAAKZ,MAAMwK,EAAQ7R,EAAE,GAC3I,CACA,SAAS2S,EAAQpJ,EAAGvJ,EAAGyH,EAAO9H,GAiB5B,OAhBIiS,IAAOrI,IACTqI,EAAK,KACLI,GAAW,EACNzI,IAAMsI,GAAS7R,IAAM6R,IAAU7U,EAAQ4V,YAAYnQ,gBAAe,IAAMzF,EAAQ4V,WAAWjT,EAAK,CACnGd,MAAOmB,MAET6R,EAAQ3C,EACJE,GAAc7F,GAAKuI,GACrB1C,EAAWyD,SAASjR,OAAO2H,GAC3BuI,GAAwB,EACxB5B,IAAW,KACTd,EAAWoB,SAAU,EACrBsC,EAAa9S,EAAGyH,EAAA,IACf,IACEqL,EAAa9S,EAAGyH,IAElBzH,CACT,CACA,SAAS8S,EAAa9S,EAAGwH,GACvB0I,IAAW,UACGzT,IAAR+K,GAAmB0K,GAAS,IAAMlS,IACtCyS,OAAiBhW,IAAR+K,EAAoB,UAAY,SACzC6K,EAAS7K,GACT,IAAK,MAAMoJ,KAAKqB,EAAStT,OAAQiS,EAAEmC,YACnCd,EAASe,OAAK,IACb,EACL,CACA,SAASC,IACP,MAAMrC,EAAII,IAAmBC,GAAO9B,EAAO6B,GAAgB3J,IACzDrH,EAAInB,IACJ2I,EAAMC,IACR,QAAYhL,IAAR+K,IAAsBoK,EAAI,MAAMpK,EAYpC,OAXI+H,IAAaA,EAAS/G,MAAQoI,GAChCzG,GAAe,KACbmI,IACIV,IACEhB,EAAEoB,UAAY5C,GAAc0C,EAAuB1C,EAAWyD,SAASpU,IAAImT,GAAcK,EAASzT,IAAIoS,KACxGA,EAAEsC,YACFjB,EAASxT,IAAImS,IAEjB,IAGG5Q,CACT,CACA,SAASiI,EAAKkL,GAAa,GACzB,IAAmB,IAAfA,GAAwBpB,EAAW,OACvCA,GAAY,EACZ,MAAMd,EAASxK,EAAUA,IAAYgL,EAErC,GADAK,EAAwB1C,GAAcA,EAAWoB,QACnC,MAAVS,IAA6B,IAAXA,EAEpB,YADA0B,EAAQf,EAAIzZ,EAAQ0G,IAGlBuQ,GAAcwC,GAAIxC,EAAWyD,SAASjR,OAAOgQ,GACjD,MAAMrI,EAAIsI,IAAU3C,EAAU2C,EAAQ1Z,GAAQ,IAAMuZ,EAAQT,EAAQ,CAClEpS,MAAOA,IACPsU,iBAEF,MAAiB,iBAAN5J,GAAoBA,GAAK,SAAUA,GAI9CqI,EAAKrI,EACLwI,GAAY,EACZtP,gBAAe,IAAMsP,GAAY,IACjC7B,IAAW,KACTuC,EAAST,EAAW,aAAe,WACnCO,GAAA,IACC,GACIhJ,EAAE6J,MAAKpT,GAAK2S,EAAQpJ,EAAGvJ,OAAGvD,EAAWwU,KAAS9S,GAAKwU,EAAQpJ,OAAG9M,EAAW4W,GAAUlV,GAAI8S,OAV5F0B,EAAQf,EAAIrI,OAAG9M,EAAWwU,GACnB1H,EAUX,CAwBA,OAvBAlO,OAAOiY,iBAAiBL,EAAM,CAC5BT,MAAO,CACL5R,IAAK,IAAM4R,KAEb/K,MAAO,CACL7G,IAAK,IAAM6G,KAEb8L,QAAS,CACP3S,MACE,MAAMX,EAAIuS,IACV,MAAa,YAANvS,GAAyB,eAANA,CAC5B,GAEFuT,OAAQ,CACN5S,MACE,IAAKoR,EAAU,OAAOiB,IACtB,MAAMzL,EAAMC,IACZ,GAAID,IAAQoK,EAAI,MAAMpK,EACtB,OAAO3I,GACT,KAGA4H,EAAS0D,GAAe,IAAMlC,GAAK,KAAaA,GAAK,GAClD,CAACgL,EAAM,CACZQ,QAASxL,EACTyL,OAAQxB,GAEZ,CACA,SAAS7H,EAAeoH,EAAQzU,GAC9B,IAAIW,EACF4P,EAAUvQ,EAAUA,EAAQ2W,eAAYlX,EAC1C,MAAMiB,EAAOmT,IAAkB,KACxBlT,GAAMA,EAAEG,KAAIH,EAAI2N,GAAgB,IAAMsI,GAAY,IAAMlW,EAAKmB,cAAoBpC,IAAZ8Q,EAAwB,CAChGA,gBACE9Q,IACGgV,WACNhV,GAAW,IACPoX,EAAUD,GAAe7K,EAAarL,EAAKmB,MAAO7B,GAGzD,OAFA8T,GAAkBpT,GAClBkW,GAAY,IAAMlW,EAAKmB,QAChBgV,CACT,CACA,SAASrJ,EAAeiH,EAAQ3T,EAAK8M,EAAS5N,GAC5C,MAAM8W,EAAO,IAAI/N,IACXrI,EAAOmT,IAAkBtH,IAC7B,MAAMvJ,EAAIyR,IACV,IAAK,MAAO9R,EAAKoU,KAAQD,EAAKE,UAAW,GAAIlW,EAAG6B,EAAKK,KAAOlC,EAAG6B,EAAK4J,GAClE,IAAK,MAAMqH,KAAKmD,EAAIE,SAClBrD,EAAE4B,MAAQ3D,EACN+B,EAAEsD,KAAM1E,EAAQlN,KAAKsO,GAAQnB,EAAQnN,KAAKsO,GAGlD,OAAO5Q,CAAA,QACNvD,GAAW,EAAMoS,GAEpB,OADAiC,GAAkBpT,GACXiC,IACL,MAAMmQ,EAAWP,EACjB,GAAIO,EAAU,CACZ,IAAIzR,GACAA,EAAIyV,EAAKlT,IAAIjB,IAAMtB,EAAEI,IAAIqR,GAAegE,EAAK9N,IAAIrG,EAAKtB,EAAI,IAAIjD,IAAI,CAAC0U,KACvE7G,IAAU,KACR5K,EAAEuD,OAAOkO,IACRzR,EAAE8V,MAAQL,EAAKlS,OAAOjC,EAAA,GAE3B,CACA,OAAO7B,EAAG6B,EAAKyP,GAAcA,EAAWoB,SAAWpB,EAAWqB,QAAQjS,IAAId,GAAQA,EAAKgT,OAAShT,EAAKmB,MAAK,CAE9G,CACA,SAAS9H,EAAM+G,GACb,OAAOoS,GAAWpS,GAAI,EACxB,CACA,SAAS3F,EAAQ2F,GACf,GAAiB,OAAbyR,EAAmB,OAAOzR,IAC9B,MAAMgS,EAAWP,EACjBA,EAAW,KACX,IACE,OAAOzR,GACT,SACEyR,EAAWO,CACb,CACF,CACA,SAAS3E,GAAGiJ,EAAMtW,EAAId,GACpB,MAAMoC,EAAUD,MAAMC,QAAQgV,GAC9B,IAAIC,EACAC,EAAQtX,GAAWA,EAAQsX,MAC/B,OAAOC,IACL,IAAIC,EACJ,GAAIpV,EAAS,CACXoV,EAAQrV,MAAMiV,EAAK9V,QACnB,IAAK,IAAIF,EAAI,EAAGA,EAAIgW,EAAK9V,OAAQF,IAAKoW,EAAMpW,GAAKgW,EAAKhW,IACxD,MAAOoW,EAAQJ,IACf,GAAIE,EAEF,YADAA,GAAQ,GAGV,MAAMG,EAAStc,GAAQ,IAAM2F,EAAG0W,EAAOH,EAAWE,KAElD,OADAF,EAAYG,EACLC,CAAA,CAEX,CACA,SAASpJ,GAAQvN,GACfyK,GAAa,IAAMpQ,EAAQ2F,IAC7B,CACA,SAASmL,GAAUnL,GAEjB,OADc,OAAVqR,IAA6C,OAAnBA,EAAMF,SAAmBE,EAAMF,SAAW,CAACnR,GAASqR,EAAMF,SAAS3M,KAAKxE,IAC/FA,CACT,CACA,SAASoM,GAAWpM,EAAImB,GACtByP,IAAUA,EAAQH,OAAO,WACzBY,EAAQ0B,QAAkBpU,OAAWA,GAAW,IAC1CuE,QAAU,CACd0N,CAACA,GAAQ,CAACzP,IAERmQ,GAAcA,EAAWoB,SAASpB,EAAWqB,QAAQhS,IAAI0Q,GAC7D,IACE,OAAOrR,GACT,CAAE,MAAO0J,GACPkN,GAAYlN,EACd,SACE2H,EAAQA,EAAM9R,KAChB,CACF,CACA,SAAS+N,GAAQtN,GACf4Q,IAAUA,EAAQH,OAAO,UACX,OAAVY,IAA4C,OAAlBA,EAAMnO,QAAkBmO,EAAMnO,QAAU,CACpE0N,CAACA,GAAQ,CAAC5Q,IACAqR,EAAMnO,QAAQ0N,GAAyCS,EAAMnO,QAAQ0N,GAAOpM,KAAKxE,GAA3DqR,EAAMnO,QAAQ0N,GAAS,CAAC5Q,GAC5D,CACA,SAASgN,KACP,OAAOyE,CACT,CACA,SAASvX,KACP,OAAOmX,CACT,CACA,SAAS1G,GAAakM,EAAG7W,GACvB,MAAMyB,EAAO4P,EACPyF,EAAerF,EACrBJ,EAAQwF,EACRpF,EAAW,KACX,IACE,OAAOW,GAAWpS,GAAI,EACxB,CAAE,MAAO0J,GACPkN,GAAYlN,EACd,SACE2H,EAAQ5P,EACRgQ,EAAWqF,CACb,CACF,CACA,SAASjK,GAAiBkK,EAAYvJ,GACpC+D,EAAYwF,CACd,CACA,SAASrJ,GAAgB1N,GACvB,GAAIsR,GAAcA,EAAWoB,QAE3B,OADA1S,IACOsR,EAAWlL,KAEpB,MAAM7F,EAAIkR,EACJoF,EAAIxF,EACV,OAAO2F,QAAQC,UAAU3B,MAAK,KAG5B,IAAIzV,EAeJ,OAjBA4R,EAAWlR,EACX8Q,EAAQwF,GAEJtF,GAAa2B,MACfrT,EAAIyR,IAAeA,EAAa,CAC9BqB,QAAS,IAAIrV,IACb4Z,QAAS,GACTnC,SAAU,IAAIzX,IACd6Z,SAAU,IAAI7Z,IACd8Z,MAAO,IAAI9Z,IACXoV,SAAS,IAEX7S,EAAEuG,OAASvG,EAAEuG,KAAO,IAAI4Q,SAAQK,GAAOxX,EAAEoX,QAAUI,KACnDxX,EAAE6S,SAAU,GAEdN,GAAWpS,GAAI,GACfyR,EAAWJ,EAAQ,KACZxR,EAAIA,EAAEuG,UAAOzH,CAAS,GAEjC,CACA,SAASiP,KACP,MAAO,CAACiE,EAAcnE,GACxB,CAKA,SAASpB,GAAcgL,EAAcpY,GACnC,MAAMqK,EAAKkH,OAAO,WAClB,MAAO,CACLlH,KACAgO,SAAUC,GAAejO,GACzB+N,eAEJ,CACA,SAAS3J,GAAWzK,GAClB,IAAIuU,EACJ,YAA6C9Y,KAArC8Y,EAAMtE,GAAO9B,EAAOnO,EAAQqG,KAAqBkO,EAAMvU,EAAQoU,YACzE,CACA,SAAS7U,GAASzC,GAChB,MAAMyC,EAAWtI,EAAW6F,GACtB0X,EAAOvd,GAAW,IAAMwd,GAAgBlV,OAK9C,OAJAiV,EAAKE,QAAU,KACb,MAAM9E,EAAI4E,IACV,OAAOrW,MAAMC,QAAQwR,GAAKA,EAAS,MAALA,EAAY,CAACA,GAAK,EAAE,EAE7C4E,CACT,CACA,IAAIxE,GACJ,SAAS2E,KACP,OAAO3E,KAAoBA,GAAkB5G,GAAc,CAAC,GAC9D,CACA,SAASM,GAAqBkL,GAC5B,GAAItG,EAAuB,CACzB,MAAMuG,EAAavG,EACnBA,EAAwB,CAACxR,EAAIyU,KAC3B,MAAMuD,EAAYD,EAAW/X,EAAIyU,GAC3Bd,EAASmE,GAAQG,GAAKD,EAAUxD,MAAMyD,IAAIxD,GAChD,MAAO,CACLD,MAAOyD,GAAKtE,EAAOa,MAAMyD,GACzB5Y,UACEsU,EAAOtU,UACP2Y,EAAU3Y,SACZ,EACF,CAEJ,MACEmS,EAAwBsG,CAE5B,CACA,SAAStF,KACP,MAAM0F,EAAoB5G,GAAcA,EAAWoB,QACnD,GAAIyF,KAAKxF,UAAYuF,EAAoBC,KAAK5E,OAAS4E,KAAKzD,OAC1D,IAAKwD,EAAoBC,KAAK5E,OAAS4E,KAAKzD,SAAW3D,EAAOiC,GAAkBmF,UAAW,CACzF,MAAMC,EAAU1G,EAChBA,EAAU,KACVU,IAAW,IAAMiG,GAAaF,QAAO,GACrCzG,EAAU0G,CACZ,CAEF,GAAI3G,EAAU,CACZ,MAAM6G,EAAQH,KAAK9F,UAAY8F,KAAK9F,UAAU7R,OAAS,EAClDiR,EAASkB,SAIZlB,EAASkB,QAAQnO,KAAK2T,MACtB1G,EAAS8G,YAAY/T,KAAK8T,KAJ1B7G,EAASkB,QAAU,CAACwF,MACpB1G,EAAS8G,YAAc,CAACD,IAKrBH,KAAK9F,WAIR8F,KAAK9F,UAAU7N,KAAKiN,GACpB0G,KAAK7F,cAAc9N,KAAKiN,EAASkB,QAAQnS,OAAS,KAJlD2X,KAAK9F,UAAY,CAACZ,GAClB0G,KAAK7F,cAAgB,CAACb,EAASkB,QAAQnS,OAAS,GAKpD,CACA,OAAI0X,GAAqB5G,EAAWqB,QAAQjS,IAAIyX,MAAcA,KAAKvF,OAC5DuF,KAAKpX,KACd,CACA,SAAS8R,GAAYjT,EAAMmB,EAAOyX,GAChC,IAAIjV,EAAU+N,GAAcA,EAAWoB,SAAWpB,EAAWqB,QAAQjS,IAAId,GAAQA,EAAKgT,OAAShT,EAAKmB,MACpG,IAAKnB,EAAK2S,aAAe3S,EAAK2S,WAAWhP,EAASxC,GAAQ,CACxD,GAAIuQ,EAAY,CACd,MAAMmH,EAAoBnH,EAAWoB,SACjC+F,IAAsBD,GAAUlH,EAAWqB,QAAQjS,IAAId,MACzD0R,EAAWqB,QAAQhS,IAAIf,GACvBA,EAAKgT,OAAS7R,GAEX0X,IAAmB7Y,EAAKmB,MAAQA,EACvC,MAAOnB,EAAKmB,MAAQA,EAChBnB,EAAKyS,WAAazS,EAAKyS,UAAU7R,QACnC4R,IAAW,KACT,IAAK,IAAI9R,EAAI,EAAGA,EAAIV,EAAKyS,UAAU7R,OAAQF,GAAK,EAAG,CACjD,MAAMuW,EAAIjX,EAAKyS,UAAU/R,GACnBmY,EAAoBnH,GAAcA,EAAWoB,QAC/C+F,GAAqBnH,EAAW6F,SAASzW,IAAImW,MAC7C4B,EAAqB5B,EAAEtD,OAAUsD,EAAEnC,SACjCmC,EAAET,KAAM1E,EAAQlN,KAAKqS,GAAQlF,EAAQnN,KAAKqS,GAC1CA,EAAExE,WAAWqG,GAAe7B,IAE7B4B,EAAwC5B,EAAEtD,OAASxC,EAAhC8F,EAAEnC,MAAQ3D,EACpC,CACA,GAAIW,EAAQlR,OAAS,IAGnB,MAFAkR,EAAU,GAEJ,IAAI9N,KACZ,IACC,EAEP,CACA,OAAO7C,CACT,CACA,SAASiS,GAAkBpT,GACzB,IAAKA,EAAKI,GAAI,OACdmS,GAAUvS,GACV,MAAML,EAAQ8R,EACZW,EAAWP,EACXkH,EAAO/G,EACTH,EAAWJ,EAAQzR,EACnBgZ,GAAehZ,EAAM0R,GAAcA,EAAWoB,SAAWpB,EAAWqB,QAAQjS,IAAId,GAAQA,EAAKgT,OAAShT,EAAKmB,MAAO4X,GAC9GrH,IAAeA,EAAWoB,SAAWpB,EAAWqB,QAAQjS,IAAId,IAC9D+E,gBAAe,KACbyN,IAAW,KACTd,IAAeA,EAAWoB,SAAU,GACpCjB,EAAWJ,EAAQzR,EACnBgZ,GAAehZ,EAAMA,EAAKgT,OAAQ+F,GAClClH,EAAWJ,EAAQ,IAAI,IACtB,EAAK,IAGZI,EAAWO,EACXX,EAAQ9R,CACV,CACA,SAASqZ,GAAehZ,EAAMmB,EAAO4X,GACnC,IAAIE,EACJ,IACEA,EAAYjZ,EAAKI,GAAGe,EACtB,CAAE,MAAO2I,GAaP,OAZI9J,EAAKwW,OACH9E,GAAcA,EAAWoB,SAC3B9S,EAAK2T,OAASxC,EACdnR,EAAKkZ,QAAUlZ,EAAKkZ,OAAOC,QAAQ5G,IACnCvS,EAAKkZ,YAASna,IAEdiB,EAAK8U,MAAQ3D,EACbnR,EAAKsR,OAAStR,EAAKsR,MAAM6H,QAAQ5G,IACjCvS,EAAKsR,MAAQ,OAGjBtR,EAAKoZ,UAAYL,EAAO,EACjB/B,GAAYlN,EACrB,GACK9J,EAAKoZ,WAAapZ,EAAKoZ,WAAaL,KACjB,MAAlB/Y,EAAKoZ,WAAqB,cAAepZ,EAC3CiT,GAAYjT,EAAMiZ,GAAW,GACpBvH,GAAcA,EAAWoB,SAAW9S,EAAKwW,MAClD9E,EAAWqB,QAAQhS,IAAIf,GACvBA,EAAKgT,OAASiG,GACTjZ,EAAKmB,MAAQ8X,EACpBjZ,EAAKoZ,UAAYL,EAErB,CACA,SAAS5F,GAAkB/S,EAAIf,EAAMmX,EAAM1B,EAAQ3D,EAAO7R,GACxD,MAAM4T,EAAI,CACR9S,KACA0U,MAAOA,EACPsE,UAAW,KACX9H,MAAO,KACPyB,QAAS,KACT4F,YAAa,KACbpH,SAAU,KACVpQ,MAAO9B,EACPM,MAAO8R,EACPnO,QAAS,KACTkT,QAaF,GAXI9E,GAAcA,EAAWoB,UAC3BI,EAAE4B,MAAQ,EACV5B,EAAES,OAASmB,GAEC,OAAVrD,GAA0BA,IAAUJ,IAClCK,GAAcA,EAAWoB,SAAWrB,EAAM+E,KACvC/E,EAAMyH,OAAgCzH,EAAMyH,OAAOtU,KAAKsO,GAA1CzB,EAAMyH,OAAS,CAAChG,GAE9BzB,EAAMH,MAA8BG,EAAMH,MAAM1M,KAAKsO,GAAxCzB,EAAMH,MAAQ,CAAC4B,IAGjCtB,EAAuB,CACzB,MAAOgD,EAAOC,GAAWxJ,OAAatM,EAAW,CAC/CgS,QAAQ,IAEJsI,EAAWzH,EAAsBsB,EAAE9S,GAAIyU,GAC7CtJ,IAAU,IAAM8N,EAAS5Z,YACzB,MAAM6Z,EAAsB,IAAMxL,GAAgB+G,GAASa,MAAK,IAAM6D,EAAa9Z,YAC7E8Z,EAAe3H,EAAsBsB,EAAE9S,GAAIkZ,GACjDpG,EAAE9S,GAAKiY,IACLzD,IACOlD,GAAcA,EAAWoB,QAAUyG,EAAa3E,MAAMyD,GAAKgB,EAASzE,MAAMyD,GAErF,CACA,OAAOnF,CACT,CACA,SAASsG,GAAOxZ,GACd,MAAMsY,EAAoB5G,GAAcA,EAAWoB,QACnD,GAAuD,KAAlDwF,EAAoBtY,EAAK2T,OAAS3T,EAAK8U,OAAc,OAC1D,IAAKwD,EAAoBtY,EAAK2T,OAAS3T,EAAK8U,SAAW1D,EAAS,OAAOqH,GAAazY,GACpF,GAAIA,EAAKwT,UAAY/Y,EAAQuF,EAAKwT,SAASiG,YAAa,OAAOzZ,EAAKwT,SAAS8D,QAAQ1S,KAAK5E,GAC1F,MAAM0Z,EAAY,CAAC1Z,GACnB,MAAQA,EAAOA,EAAKL,UAAYK,EAAKoZ,WAAapZ,EAAKoZ,UAAYpH,IAAY,CAC7E,GAAIsG,GAAqB5G,EAAW6F,SAASzW,IAAId,GAAO,QACpDsY,EAAoBtY,EAAK2T,OAAS3T,EAAK8U,QAAO4E,EAAU9U,KAAK5E,EACnE,CACA,IAAK,IAAIU,EAAIgZ,EAAU9Y,OAAS,EAAGF,GAAK,EAAGA,IAAK,CAE9C,GADAV,EAAO0Z,EAAUhZ,GACb4X,EAAmB,CACrB,IAAIqB,EAAM3Z,EACR6B,EAAO6X,EAAUhZ,EAAI,GACvB,MAAQiZ,EAAMA,EAAIha,QAAUga,IAAQ9X,GAClC,GAAI6P,EAAW6F,SAASzW,IAAI6Y,GAAM,MAEtC,CACA,IAAKrB,EAAoBtY,EAAK2T,OAAS3T,EAAK8U,SAAW3D,EACrDiC,GAAkBpT,QACb,IAAKsY,EAAoBtY,EAAK2T,OAAS3T,EAAK8U,SAAW1D,EAAS,CACrE,MAAMoH,EAAU1G,EAChBA,EAAU,KACVU,IAAW,IAAMiG,GAAazY,EAAM0Z,EAAU,MAAK,GACnD5H,EAAU0G,CACZ,CACF,CACF,CACA,SAAShG,GAAWpS,EAAIf,GACtB,GAAIyS,EAAS,OAAO1R,IACpB,IAAIwZ,GAAO,EACNva,IAAMyS,EAAU,IACjBC,EAAS6H,GAAO,EAAU7H,EAAU,GACxCC,IACA,IACE,MAAMyF,EAAMrX,IAEZ,OAOJ,SAAyBwZ,GACnB9H,IACEH,GAAaD,GAAcA,EAAWoB,QA8C9C,SAAuB0E,GACrB,IAAK,IAAI9W,EAAI,EAAGA,EAAI8W,EAAM5W,OAAQF,IAAK,CACrC,MAAMsI,EAAOwO,EAAM9W,GACbmZ,EAAQnI,EAAW8F,MACpBqC,EAAM/Y,IAAIkI,KACb6Q,EAAM9Y,IAAIiI,GACV2I,GAAU,KACRkI,EAAM3V,OAAO8E,GACbwJ,IAAW,KACTd,EAAWoB,SAAU,EACrB0G,GAAOxQ,EAAA,IACN,GACH0I,IAAeA,EAAWoB,SAAU,EAAI,IAG9C,CACF,CA9DuDgH,CAAchI,GAAcZ,GAASY,GACxFA,EAAU,MAEZ,GAAI8H,EAAM,OACV,IAAInC,EACJ,GAAI/F,EACF,GAAKA,EAAWyD,SAASsB,MAAS/E,EAAW8F,MAAMf,MAwB5C,GAAI/E,EAAWoB,QAKpB,OAJApB,EAAWoB,SAAU,EACrBpB,EAAW4F,QAAQ1S,KAAKmV,MAAMrI,EAAW4F,QAASvF,GAClDA,EAAU,UACVG,GAAgB,OA5BuC,CACvD,MAAMa,EAAUrB,EAAWqB,QACrBwE,EAAW7F,EAAW6F,SAC5BxF,EAAQnN,KAAKmV,MAAMhI,EAASL,EAAW4F,SACvCG,EAAM/F,EAAW2F,QACjB,IAAK,MAAM5W,KAAKsR,EACd,WAAYtR,IAAMA,EAAEqU,MAAQrU,EAAEkT,eACvBlT,EAAEkT,OAEXjC,EAAa,KACbc,IAAW,KACT,IAAK,MAAMwH,KAAKzC,EAAUhF,GAAUyH,GACpC,IAAK,MAAM1X,KAAKyQ,EAAS,CAEvB,GADAzQ,EAAEnB,MAAQmB,EAAE0Q,OACR1Q,EAAEgP,MACJ,IAAK,IAAI5Q,EAAI,EAAGsB,EAAMM,EAAEgP,MAAM1Q,OAAQF,EAAIsB,EAAKtB,IAAK6R,GAAUjQ,EAAEgP,MAAM5Q,IAEpE4B,EAAE4W,SAAQ5W,EAAEgP,MAAQhP,EAAE4W,eACnB5W,EAAE0Q,cACF1Q,EAAE4W,OACT5W,EAAEqR,OAAS,CACb,CACAzB,GAAgB,EAAK,IACpB,EACL,CAQF,MAAMzR,EAAIsR,EACVA,EAAU,KACNtR,EAAEG,QAAQ4R,IAAW,IAAMvB,EAAWxQ,KAAI,GAC1CgX,GAAKA,GACX,CApDIwC,CAAgBL,GACTnC,CACT,CAAE,MAAO3N,GACF8P,IAAM7H,EAAU,MACrBD,EAAU,KACVkF,GAAYlN,EACd,CACF,CA8CA,SAASoH,GAASsG,GAChB,IAAK,IAAI9W,EAAI,EAAGA,EAAI8W,EAAM5W,OAAQF,IAAK8Y,GAAOhC,EAAM9W,GACtD,CAkBA,SAAS2S,GAAemE,GACtB,IAAI9W,EACFwZ,EAAa,EACf,IAAKxZ,EAAI,EAAGA,EAAI8W,EAAM5W,OAAQF,IAAK,CACjC,MAAMD,EAAI+W,EAAM9W,GACXD,EAAEqK,KAAqB0M,EAAM0C,KAAgBzZ,EAArC+Y,GAAO/Y,EACtB,CAEA,IADI4C,EAAaC,SAASsN,IACrBlQ,EAAI,EAAGA,EAAIwZ,EAAYxZ,IAAK8Y,GAAOhC,EAAM9W,GAChD,CACA,SAAS+X,GAAazY,EAAMma,GAC1B,MAAM7B,EAAoB5G,GAAcA,EAAWoB,QAC/CwF,EAAmBtY,EAAK2T,OAAS,EAAO3T,EAAK8U,MAAQ,EACzD,IAAK,IAAIpU,EAAI,EAAGA,EAAIV,EAAK+S,QAAQnS,OAAQF,GAAK,EAAG,CAC/C,MAAMqT,EAAS/T,EAAK+S,QAAQrS,GAC5B,GAAIqT,EAAOhB,QAAS,CAClB,MAAM+B,EAAQwD,EAAoBvE,EAAOJ,OAASI,EAAOe,MACrDA,IAAU3D,EACR4C,IAAWoG,KAAYpG,EAAOqF,WAAarF,EAAOqF,UAAYpH,IAAYwH,GAAOzF,GAC5Ee,IAAU1D,GAASqH,GAAa1E,EAAQoG,EACrD,CACF,CACF,CACA,SAASrB,GAAe9Y,GACtB,MAAMsY,EAAoB5G,GAAcA,EAAWoB,QACnD,IAAK,IAAIpS,EAAI,EAAGA,EAAIV,EAAKyS,UAAU7R,OAAQF,GAAK,EAAG,CACjD,MAAMuW,EAAIjX,EAAKyS,UAAU/R,IACrB4X,EAAqBrB,EAAEtD,OAAUsD,EAAEnC,SACjCwD,EAAmBrB,EAAEtD,OAASvC,EAAa6F,EAAEnC,MAAQ1D,EACrD6F,EAAET,KAAM1E,EAAQlN,KAAKqS,GAAQlF,EAAQnN,KAAKqS,GAC9CA,EAAExE,WAAaqG,GAAe7B,GAElC,CACF,CACA,SAAS1E,GAAUvS,GACjB,IAAIU,EACJ,GAAIV,EAAK+S,QACP,KAAO/S,EAAK+S,QAAQnS,QAAQ,CAC1B,MAAMmT,EAAS/T,EAAK+S,QAAQqH,MAC1B7R,EAAQvI,EAAK2Y,YAAYyB,MACzBC,EAAMtG,EAAOtB,UACf,GAAI4H,GAAOA,EAAIzZ,OAAQ,CACrB,MAAMuP,EAAIkK,EAAID,MACZ7X,EAAIwR,EAAOrB,cAAc0H,MACvB7R,EAAQ8R,EAAIzZ,SACduP,EAAEwI,YAAYpW,GAAKgG,EACnB8R,EAAI9R,GAAS4H,EACb4D,EAAOrB,cAAcnK,GAAShG,EAElC,CACF,CAEF,GAAImP,GAAcA,EAAWoB,SAAW9S,EAAKwW,KAAM,CACjD,GAAIxW,EAAKkZ,OAAQ,CACf,IAAKxY,EAAIV,EAAKkZ,OAAOtY,OAAS,EAAGF,GAAK,EAAGA,IAAK6R,GAAUvS,EAAKkZ,OAAOxY,WAC7DV,EAAKkZ,MACd,CACAoB,GAAMta,GAAM,EACd,MAAO,GAAIA,EAAKsR,MAAO,CACrB,IAAK5Q,EAAIV,EAAKsR,MAAM1Q,OAAS,EAAGF,GAAK,EAAGA,IAAK6R,GAAUvS,EAAKsR,MAAM5Q,IAClEV,EAAKsR,MAAQ,IACf,CACA,GAAItR,EAAKuR,SAAU,CACjB,IAAK7Q,EAAIV,EAAKuR,SAAS3Q,OAAS,EAAGF,GAAK,EAAGA,IAAKV,EAAKuR,SAAS7Q,KAC9DV,EAAKuR,SAAW,IAClB,CACIG,GAAcA,EAAWoB,QAAS9S,EAAK2T,OAAS,EAAO3T,EAAK8U,MAAQ,EACxE9U,EAAKsD,QAAU,IACjB,CACA,SAASgX,GAAMta,EAAM2Z,GAKnB,GAJKA,IACH3Z,EAAK2T,OAAS,EACdjC,EAAW6F,SAASxW,IAAIf,IAEtBA,EAAKsR,MACP,IAAK,IAAI5Q,EAAI,EAAGA,EAAIV,EAAKsR,MAAM1Q,OAAQF,IAAK4Z,GAAMta,EAAKsR,MAAM5Q,GAEjE,CACA,SAASiV,GAAU7L,GACjB,OAAIA,aAAe9F,MAAc8F,EAC1B,IAAI9F,MAAqB,iBAAR8F,EAAmBA,EAAM,gBAAiB,CAChEyQ,MAAOzQ,GAEX,CACA,SAAS0Q,GAAUC,EAAK3Q,GACtB,IAAK,MAAM4Q,KAAKD,EAAKC,EAAE5Q,EACzB,CACA,SAASkN,GAAYlN,GACnB,MAAM2Q,EAAMzJ,GAASuC,GAAO9B,EAAOT,GACnC,IAAKyJ,EAAK,MAAM3Q,EAChB,MAAMC,EAAQ4L,GAAU7L,GACpBiI,EAASA,EAAQnN,KAAK,CACxBxE,KACEoa,GAAUC,EAAK1Q,EACjB,EACA+K,MAAO3D,IACDqJ,GAAUC,EAAK1Q,EACzB,CACA,SAASwJ,GAAO5T,EAAOsC,GACrB,OAAOtC,EAAQA,EAAM2D,cAAkCvE,IAAvBY,EAAM2D,QAAQrB,GAAqBtC,EAAM2D,QAAQrB,GAAOsR,GAAO5T,EAAMA,MAAOsC,QAAOlD,CACrH,CACA,SAASgZ,GAAgBlV,GACvB,GAAwB,mBAAbA,IAA4BA,EAASjC,OAAQ,OAAOmX,GAAgBlV,KAC/E,GAAIpB,MAAMC,QAAQmB,GAAW,CAC3B,MAAM8X,EAAU,GAChB,IAAK,IAAIja,EAAI,EAAGA,EAAImC,EAASjC,OAAQF,IAAK,CACxC,MAAMqW,EAASgB,GAAgBlV,EAASnC,IACxCe,MAAMC,QAAQqV,GAAU4D,EAAQ/V,KAAKmV,MAAMY,EAAS5D,GAAU4D,EAAQ/V,KAAKmS,EAC7E,CACA,OAAO4D,CACT,CACA,OAAO9X,CACT,CACA,SAAS+U,GAAejO,EAAIrK,GAC1B,OAAO,SAAkBoD,GACvB,IAAI+U,EAOJ,OANApd,GAAmB,IAAMod,EAAMhd,GAAQ,KACrCgX,EAAMnO,QAAU,CACdqG,CAACA,GAAKjH,EAAMvB,OAEP0B,IAAS,IAAMH,EAAMG,oBAC1B9D,GACG0Y,CACT,CACF,CAEA,SAASjK,GAAWsJ,GAClB,MAAO,CACL8D,UAAUC,GACR,KAAMA,aAAoBld,SAAuB,MAAZkd,EACnC,MAAM,IAAIC,UAAU,0CAEtB,MAAMvZ,EAA8B,mBAAbsZ,EAA0BA,EAAWA,EAASE,MAAQF,EAASE,KAAKlI,KAAKgI,GAChG,IAAKtZ,EACH,MAAO,CACLyZ,cAAe,GAGnB,MAAMvb,EAAUD,GAAWD,IACzBsL,GAAa,KACX,MAAMvI,EAAIwU,IACVrc,GAAQ,IAAM8G,EAAQe,IAAA,IAEjB/C,KAGT,OADIjF,MAAYiR,GAAU9L,GACnB,CACLub,cACEvb,GACF,EAEJ,EACA,CAACoR,OAAOrD,YAAc,kBACpB,OAAO+K,IACT,EAEJ,CACA,SAASpL,GAAK8N,GACZ,MAAO1Y,EAAG+F,GAAO+C,OAAatM,EAAW,CACvCgS,QAAQ,IAEV,GAAI,cAAekK,EAAU,CAC3B,MAAMC,EAAQD,EAASL,WAAUtY,GAAKgG,GAAI,IAAMhG,MAChDiJ,IAAU,IAAM,gBAAiB2P,EAAQA,EAAMF,cAAgBE,KACjE,KAAO,CAEL3P,GADc0P,EAAS3S,GAEzB,CACA,OAAO/F,CACT,CAEA,MAAM4Y,GAAWtK,OAAO,YACxB,SAASpR,GAAQua,GACf,IAAK,IAAItZ,EAAI,EAAGA,EAAIsZ,EAAEpZ,OAAQF,IAAKsZ,EAAEtZ,IACvC,CACA,SAAS6M,GAAS6N,EAAMC,EAAO/b,EAAU,CAAC,GACxC,IAAIgc,EAAQ,GACVC,EAAS,GACTC,EAAY,GACZxZ,EAAM,EACNyZ,EAAUJ,EAAMza,OAAS,EAAI,GAAK,KAEpC,OADA2K,IAAU,IAAM9L,GAAQ+b,KACjB,KACL,IACE9a,EACAgb,EAFEC,EAAWP,KAAU,GAIzB,OADAO,EAAStP,GACF5R,GAAQ,KACb,IACEmhB,EACAC,EACAC,EACAC,EACAC,EACAzX,EACAC,EACAyX,EACAjT,EATEkT,EAASP,EAAS/a,OAUtB,GAAe,IAAXsb,EACU,IAARla,IACFvC,GAAQ+b,GACRA,EAAY,GACZF,EAAQ,GACRC,EAAS,GACTvZ,EAAM,EACNyZ,IAAYA,EAAU,KAEpBnc,EAAQ6c,WACVb,EAAQ,CAACH,IACTI,EAAO,GAAK/b,GAAWD,IACrBic,EAAU,GAAKjc,EACRD,EAAQ6c,cAEjBna,EAAM,QAGL,GAAY,IAARA,EAAW,CAElB,IADAuZ,EAAS,IAAI9Z,MAAMya,GACdR,EAAI,EAAGA,EAAIQ,EAAQR,IACtBJ,EAAMI,GAAKC,EAASD,GACpBH,EAAOG,GAAKlc,EAAW4c,GAEzBpa,EAAMka,CACR,KAAO,CAIL,IAHAJ,EAAO,IAAIra,MAAMya,GACjBH,EAAgB,IAAIta,MAAMya,GAC1BT,IAAYO,EAAc,IAAIva,MAAMya,IAC/B3X,EAAQ,EAAGC,EAAM6X,KAAKC,IAAIta,EAAKka,GAAS3X,EAAQC,GAAO8W,EAAM/W,KAAWoX,EAASpX,GAAQA,KAC9F,IAAKC,EAAMxC,EAAM,EAAGia,EAASC,EAAS,EAAG1X,GAAOD,GAAS0X,GAAU1X,GAAS+W,EAAM9W,KAASmX,EAASM,GAASzX,IAAOyX,IAClHH,EAAKG,GAAUV,EAAO/W,GACtBuX,EAAcE,GAAUT,EAAUhX,GAClCiX,IAAYO,EAAYC,GAAUR,EAAQjX,IAI5C,IAFAoX,EAAa,IAAIvT,IACjBwT,EAAiB,IAAIpa,MAAMwa,EAAS,GAC/BP,EAAIO,EAAQP,GAAKnX,EAAOmX,IAC3B1S,EAAO2S,EAASD,GAChBhb,EAAIkb,EAAW1Y,IAAI8F,GACnB6S,EAAeH,QAAW3c,IAAN2B,GAAkB,EAAKA,EAC3Ckb,EAAWtT,IAAIU,EAAM0S,GAEvB,IAAKhb,EAAI6D,EAAO7D,GAAK8D,EAAK9D,IACxBsI,EAAOsS,EAAM5a,GACbgb,EAAIE,EAAW1Y,IAAI8F,QACTjK,IAAN2c,IAAyB,IAANA,GACrBI,EAAKJ,GAAKH,EAAO7a,GACjBqb,EAAcL,GAAKF,EAAU9a,GAC7B+a,IAAYO,EAAYN,GAAKD,EAAQ/a,IACrCgb,EAAIG,EAAeH,GACnBE,EAAWtT,IAAIU,EAAM0S,IAChBF,EAAU9a,KAEnB,IAAKgb,EAAInX,EAAOmX,EAAIQ,EAAQR,IACtBA,KAAKI,GACPP,EAAOG,GAAKI,EAAKJ,GACjBF,EAAUE,GAAKK,EAAcL,GACzBD,IACFA,EAAQC,GAAKM,EAAYN,GACzBD,EAAQC,GAAGA,KAERH,EAAOG,GAAKlc,EAAW4c,GAEhCb,EAASA,EAAO7V,MAAM,EAAG1D,EAAMka,GAC/BZ,EAAQK,EAASjW,MAAM,EACzB,CACA,OAAO6V,CAAA,IAET,SAASa,EAAO7c,GAEd,GADAic,EAAUE,GAAKnc,EACXkc,EAAS,CACX,MAAOlZ,EAAG+F,GAAO+C,EAAaqQ,GAE9B,OADAD,EAAQC,GAAKpT,EACN+S,EAAMM,EAASD,GAAInZ,EAC5B,CACA,OAAO8Y,EAAMM,EAASD,GACxB,EAEJ,CACA,SAASrO,GAAW+N,EAAMC,EAAO/b,EAAU,CAAC,GAC1C,IAKEoB,EALE4a,EAAQ,GACVC,EAAS,GACTC,EAAY,GACZe,EAAU,GACVva,EAAM,EAGR,OADAuJ,IAAU,IAAM9L,GAAQ+b,KACjB,KACL,MAAMG,EAAWP,KAAU,GAE3B,OADAO,EAAStP,GACF5R,GAAQ,KACb,GAAwB,IAApBkhB,EAAS/a,OAiBX,OAhBY,IAARoB,IACFvC,GAAQ+b,GACRA,EAAY,GACZF,EAAQ,GACRC,EAAS,GACTvZ,EAAM,EACNua,EAAU,IAERjd,EAAQ6c,WACVb,EAAQ,CAACH,IACTI,EAAO,GAAK/b,GAAWD,IACrBic,EAAU,GAAKjc,EACRD,EAAQ6c,cAEjBna,EAAM,GAEDuZ,EAST,IAPID,EAAM,KAAOH,KACfK,EAAU,KACVA,EAAY,GACZF,EAAQ,GACRC,EAAS,GACTvZ,EAAM,GAEHtB,EAAI,EAAGA,EAAIib,EAAS/a,OAAQF,IAC3BA,EAAI4a,EAAM1a,QAAU0a,EAAM5a,KAAOib,EAASjb,GAC5C6b,EAAQ7b,IAAG,IAAMib,EAASjb,KACjBA,GAAK4a,EAAM1a,SACpB2a,EAAO7a,GAAKlB,EAAW4c,IAG3B,KAAO1b,EAAI4a,EAAM1a,OAAQF,IACvB8a,EAAU9a,KAIZ,OAFAsB,EAAMua,EAAQ3b,OAAS4a,EAAU5a,OAAS+a,EAAS/a,OACnD0a,EAAQK,EAASjW,MAAM,GAChB6V,EAASA,EAAO7V,MAAM,EAAG1D,EAAA,IAElC,SAASoa,EAAO7c,GACdic,EAAU9a,GAAKnB,EACf,MAAOgD,EAAG+F,GAAO+C,EAAasQ,EAASjb,IAEvC,OADA6b,EAAQ7b,GAAK4H,EACN+S,EAAM9Y,EAAG7B,EAClB,EAEJ,CAEA,IAAI8b,IAAmB,EACvB,SAASnS,KACPmS,IAAmB,CACrB,CACA,SAASpiB,GAAgBqiB,EAAM/Z,GAC7B,GAAI8Z,IACEnZ,EAAaC,QAAS,CACxB,MAAM4P,EAAI7P,EAAaC,QACvBsN,EAhiCG,IACFvN,EAAaC,QAChBqG,GAAI,GAAGtG,EAAaC,QAAQqG,KAAKtG,EAAaC,QAAQmB,WACtDA,MAAO,IA8hCL,MAAMiY,EAAIjiB,GAAQ,IAAMgiB,EAAK/Z,GAAS,CAAC,KAEvC,OADAkO,EAAkBsC,GACXwJ,CACT,CAEF,OAAOjiB,GAAQ,IAAMgiB,EAAK/Z,GAAS,CAAC,IACtC,CACA,SAASia,KACP,OAAO,CACT,CACA,MAAMC,GAAY,CAChB1Z,IAAA,CAAI6C,EAAG8W,EAAUC,IACXD,IAAazQ,EAAe0Q,EACzB/W,EAAE7C,IAAI2Z,GAEf/b,IAAA,CAAIiF,EAAG8W,IACDA,IAAazQ,GACVrG,EAAEjF,IAAI+b,GAEfvU,IAAKqU,GACLI,eAAgBJ,GAChBK,yBAAA,CAAyBjX,EAAG8W,KACnB,CACLtW,cAAc,EACdpD,YAAY,EACZD,IAAA,IACS6C,EAAE7C,IAAI2Z,GAEfvU,IAAKqU,GACLI,eAAgBJ,KAGpBM,QAAQlX,GACCA,EAAE9E,QAGb,SAASic,GAAc3a,GACrB,OAASA,EAAiB,mBAANA,EAAmBA,IAAMA,GAAUA,EAAL,CAAC,CACrD,CACA,SAAS/H,MAAcuY,GACrB,IAAIoK,GAAQ,EACZ,IAAK,IAAIzc,EAAI,EAAGA,EAAIqS,EAAQnS,OAAQF,IAAK,CACvC,MAAM6B,EAAIwQ,EAAQrS,GAClByc,EAAQA,KAAW5a,GAAK6J,KAAU7J,EAClCwQ,EAAQrS,GAAkB,mBAAN6B,GAAoB4a,GAAQ,EAAM5iB,EAAWgI,IAAMA,CACzE,CACA,GAAI4a,EACF,OAAO,IAAIC,MAAM,CACfla,IAAI2Z,GACF,IAAK,IAAInc,EAAIqS,EAAQnS,OAAS,EAAGF,GAAK,EAAGA,IAAK,CAC5C,MAAM4B,EAAI4a,GAAcnK,EAAQrS,IAAImc,GACpC,QAAU9d,IAANuD,EAAiB,OAAOA,CAC9B,CACF,EACAxB,IAAI+b,GACF,IAAK,IAAInc,EAAIqS,EAAQnS,OAAS,EAAGF,GAAK,EAAGA,IACvC,GAAImc,KAAYK,GAAcnK,EAAQrS,IAAK,OAAO,EAEpD,OAAO,CACT,EACAO,OACE,MAAMA,EAAO,GACb,IAAK,IAAIP,EAAI,EAAGA,EAAIqS,EAAQnS,OAAQF,IAAKO,EAAK2D,QAAQjH,OAAOsD,KAAKic,GAAcnK,EAAQrS,MACxF,MAAO,IAAI,IAAIhD,IAAIuD,GACrB,GACC2b,IAEL,MAAMtW,EAAS,CAAC,EAChB,IAAK,IAAI5F,EAAIqS,EAAQnS,OAAS,EAAGF,GAAK,EAAGA,IACvC,GAAIqS,EAAQrS,GAAI,CACd,MAAM2c,EAAc1f,OAAO2f,0BAA0BvK,EAAQrS,IAC7D,IAAK,MAAMuB,KAAOob,EACZpb,KAAOqE,GACX3I,OAAOsF,eAAeqD,EAAQrE,EAAK,CACjCkB,YAAY,EACZD,MACE,IAAK,IAAIxC,EAAIqS,EAAQnS,OAAS,EAAGF,GAAK,EAAGA,IAAK,CAC5C,MAAM4B,GAAKyQ,EAAQrS,IAAM,CAAC,GAAGuB,GAC7B,QAAUlD,IAANuD,EAAiB,OAAOA,CAC9B,CACF,GAGN,CAEF,OAAOgE,CACT,CACA,SAASyF,GAAWrJ,KAAUzB,GAC5B,MAAMsc,EAAU,IAAI7f,IAAIuD,EAAKuc,QAC7B,GAAIpR,KAAU1J,EAAO,CACnB,MAAM+U,EAAMxW,EAAKkH,KAAIiI,GACZ,IAAIgN,MAAM,CACfla,IAAI2Z,GACKzM,EAAEvK,SAASgX,GAAYna,EAAMma,QAAY9d,EAElD+B,IAAI+b,GACKzM,EAAEvK,SAASgX,IAAaA,KAAYna,EAE7CzB,KAAA,IACSmP,EAAEqN,QAAOZ,GAAYA,KAAYna,KAEzCka,MAaL,OAXAnF,EAAI7S,KAAK,IAAIwY,MAAM,CACjBla,IAAI2Z,GACKU,EAAQzc,IAAI+b,QAAY9d,EAAY2D,EAAMma,GAEnD/b,IAAI+b,IACKU,EAAQzc,IAAI+b,IAAoBA,KAAYna,EAErDzB,KAAA,IACStD,OAAOsD,KAAKyB,GAAO+a,QAAOrN,IAAMmN,EAAQzc,IAAIsP,MAEpDwM,KACInF,CACT,CACA,MAAM4F,EAAc1f,OAAO2f,0BAA0B5a,GAErD,OADAzB,EAAK2D,KAAKjH,OAAOsD,KAAKoc,GAAaI,QAAOrN,IAAMmN,EAAQzc,IAAIsP,MACrDnP,EAAKkH,KAAIiI,IACd,MAAMsN,EAAQ,CAAC,EACf,IAAK,IAAIhd,EAAI,EAAGA,EAAI0P,EAAExP,OAAQF,IAAK,CACjC,MAAMuB,EAAMmO,EAAE1P,GACRuB,KAAOS,GACb/E,OAAOsF,eAAeya,EAAOzb,EAAKob,EAAYpb,GAAOob,EAAYpb,GAAO,CACtEiB,IAAA,IACSR,EAAMT,GAEfqG,IAAA,KACS,EAETnF,YAAY,GAEhB,CACA,OAAOua,CAAA,GAEX,CACA,SAASpQ,GAAKlN,GACZ,IAAIud,EACA9R,EACJ,MAAM+R,EAAOlb,IACX,MAAMmV,EAAMxU,EAAaC,QACzB,GAAIuU,EAAK,CACP,MAAOtV,EAAG+F,GAAO+C,KAChBQ,IAAMA,EAAIzL,MAAOsV,MAAKmI,IACrBjN,EAAkBiH,GAClBvP,GAAI,IAAMuV,EAAIC,UACdlN,GAAA,IAEF+M,EAAOpb,CACT,MAAO,IAAKob,EAAM,CAChB,MAAOpb,GAAKsK,GAAe,KAAOhB,IAAMA,EAAIzL,MAAOsV,MAAKmI,GAAOA,EAAIC,YACnEH,EAAOpb,CACT,CACA,IAAIka,EACJ,OAAOliB,GAAW,KAAOkiB,EAAOkB,MAAWljB,GAAQ,KAEjD,IAAKod,EAAK,OAAO4E,EAAK/Z,GACtB,MAAMwQ,EAAI7P,EAAaC,QACvBsN,EAAkBiH,GAClB,MAAM6E,EAAID,EAAK/Z,GAEf,OADAkO,EAAkBsC,GACXwJ,CAAA,KACT,EAGF,OADAkB,EAAKG,QAAU,IAAMlS,KAAOA,EAAIzL,KAAMsV,MAAKmI,GAAOF,EAAO,IAAME,EAAIC,UAAUjS,GACtE+R,CACT,CACA,IAAII,GAAU,EACd,SAASjR,KACP,MAAM8K,EAAMxU,EAAaC,QACzB,OAAOuU,EAAM,GAAGA,EAAIlO,KAAKkO,EAAIpT,UAAY,MAAMuZ,IACjD,CAEA,MAAMC,GAAgBpd,GAAQ,oBAAoBA,MAClD,SAAShH,GAAI6I,GACX,MAAMyZ,EAAW,aAAczZ,GAAS,CACtCyZ,SAAU,IAAMzZ,EAAMyZ,UAExB,OAAO5hB,EAAWgT,IAAS,IAAM7K,EAAMwb,MAAMxb,EAAMG,SAAUsZ,QAAYpd,GAC3E,CACA,SAASjF,GAAM4I,GACb,MAAMyZ,EAAW,aAAczZ,GAAS,CACtCyZ,SAAU,IAAMzZ,EAAMyZ,UAExB,OAAO5hB,EAAW8S,IAAW,IAAM3K,EAAMwb,MAAMxb,EAAMG,SAAUsZ,QAAYpd,GAC7E,CACA,SAAS/E,GAAK0I,GACZ,MAAMyb,EAAQzb,EAAMyb,MACdC,EAAY7jB,GAAW,IAAMmI,EAAM2b,WAAMtf,EAAW,CACxDgS,OAAQ,CAACjS,EAAG8I,IAAMuW,EAAQrf,IAAM8I,GAAK9I,IAAO8I,IAE9C,OAAOrN,GAAW,KAChB,MAAM2Y,EAAIkL,IACV,GAAIlL,EAAG,CACL,MAAMoL,EAAQ5b,EAAMG,SAEpB,MAD4B,mBAAVyb,GAAwBA,EAAM1d,OAAS,EAC7CnG,GAAQ,IAAM6jB,EAAMH,EAAQjL,EAAI,KAC1C,IAAKzY,EAAQ2jB,GAAY,MAAMH,GAAc,QAC7C,OAAOvb,EAAM2b,IAAI,KACbC,CACR,CACA,OAAO5b,EAAMyZ,QAAQ,QACpBpd,OAAWA,EAChB,CACA,SAAS5E,GAAOuI,GACd,IAAIyb,GAAQ,EACZ,MACMI,EAAa1b,IAAS,IAAMH,EAAMG,WACtC2b,EAAiBjkB,GAAW,KAC1B,IAAIkkB,EAAQF,IACP9c,MAAMC,QAAQ+c,KAAQA,EAAQ,CAACA,IACpC,IAAK,IAAI/d,EAAI,EAAGA,EAAI+d,EAAM7d,OAAQF,IAAK,CACrC,MAAMwS,EAAIuL,EAAM/d,GAAG2d,KACnB,GAAInL,EAEF,OADAiL,IAAUM,EAAM/d,GAAGyd,MACZ,CAACzd,EAAGwS,EAAGuL,EAAM/d,GAExB,CACA,MAAO,EAAC,EAAG,QACV3B,EAAW,CACZgS,OAdW,CAACjS,EAAG8I,IAAM9I,EAAE,KAAO8I,EAAE,KAAOuW,EAAQrf,EAAE,KAAO8I,EAAE,IAAM9I,EAAE,KAAQ8I,EAAE,KAAO9I,EAAE,KAAO8I,EAAE,KAgBlG,OAAOrN,GAAW,KAChB,MAAOgO,EAAO8V,EAAMK,GAAQF,IAC5B,GAAIjW,EAAQ,EAAG,OAAO7F,EAAMyZ,SAC5B,MAAMjJ,EAAIwL,EAAK7b,SAEf,MADwB,mBAANqQ,GAAoBA,EAAEtS,OAAS,EACrCnG,GAAQ,IAAMyY,EAAEiL,EAAQE,EAAO,KACzC,GAAI5jB,EAAQ+jB,GAAgB,KAAOjW,EAAO,MAAM0V,GAAc,SAC9D,OAAOS,EAAKL,IAAI,KACZnL,CAAC,QACNnU,OAAWA,EAChB,CACA,SAAShF,GAAM2I,GACb,OAAOA,CACT,CACA,IAAIic,GACJ,SAAS9Q,KACP8Q,IAAU,IAAIA,IAAQxF,SAAQ/Y,GAAMA,KACtC,CACA,SAASxG,GAAc8I,GACrB,IAAIoH,EACAxH,EACAe,EAAaC,SAAWD,EAAakH,OAASjI,EAAIe,EAAakH,KAAKlH,EAAaC,QAAQqG,GAAKtG,EAAaC,QAAQmB,UAASqF,EAAMxH,EAAE,IACxI,MAAOsc,EAASC,GAAcxT,EAAavB,OAAK/K,GAIhD,OAHA4f,KAAWA,GAAS,IAAIjhB,KACxBihB,GAAO5d,IAAI8d,GACXtT,IAAU,IAAMoT,GAAOza,OAAO2a,KACvBtkB,GAAW,KAChB,IAAIkG,EACJ,GAAIA,EAAIme,IAAW,CACjB,MAAMlE,EAAIhY,EAAMyZ,SAChB,MAAoB,mBAANzB,GAAoBA,EAAE9Z,OAASnG,GAAQ,IAAMigB,EAAEja,GAAG,IAAMoe,QAAiBnE,CACzF,CACA,OAAOlO,IAAW,IAAM9J,EAAMG,UAAUgc,EAAA,QACvC9f,OAAWA,EAChB,CAEA,MAAM+f,GAAqB,CAAChgB,EAAG8I,IAAM9I,EAAEigB,cAAgBnX,EAAEmX,aAAejgB,EAAEkgB,eAAiBpX,EAAEoX,aACvFC,GAAsBvS,KAC5B,SAASxS,GAAawI,GACpB,IAGEwc,GAHGC,EAASC,GAAc/T,GAAa,KAAO,CAC5CoO,YAAY,MAGhB,MAAM4F,EAActR,GAAWkR,KACxBnb,EAAUwb,GAAejU,EAAa,IACzCgU,IACFH,EAAOG,EAAYE,SAAShlB,GAAW,IAAM4kB,MAAY1F,eAE3D,MAAMnF,EAAW/Z,GAAWsH,IAC1B,MAAM2d,EAAS9c,EAAM+c,YACnBC,EAAOhd,EAAMgd,MACbX,YACEA,GAAc,EAAIC,aAClBA,GAAe,GACbE,EAAOA,IAAS,CAAC,EACrBS,EAAM7b,IACN8b,EAAqB,cAAXJ,EACZ,GAAe,aAAXA,EAAuB,CACzB,MAAMK,EAAMF,EAAIG,OAAMrG,IAAeA,MAC/BhC,EAAMkI,EAAIxX,KAAI,KAAO,CACzB4W,YAAac,GAAOd,EACpBC,mBAGF,OADAvH,EAAIgC,YAAcoG,EACXpI,CACT,CACA,IAAIsI,GAAO,EACPtG,EAAa5X,EAAK4X,WACtB,MAAMhC,EAAM,GACZ,IAAK,IAAI/W,EAAI,EAAGsB,EAAM2d,EAAI/e,OAAQF,EAAIsB,EAAKtB,IAAK,CAC9C,MAAMyP,EAAIyP,EAAU5d,EAAMtB,EAAI,EAAIA,EAChC6B,EAAIod,EAAIxP,KACV,GAAK4P,GAASxd,EAKP,CACL,MAAMwY,GAAQgF,EACVhF,IAAMtB,GAAa,GACvBhC,EAAItH,GAAK,CACP4O,YAAahE,EACbiE,eAAeU,KAAQ3E,GAAiB,cAAT2E,KAAuBV,GAExDe,GAAO,CACT,MAZEtI,EAAItH,GAAK,CACP4O,cACAC,eAWN,CAGA,OAFKe,IAAMtG,GAAa,GACxBhC,EAAIgC,WAAaA,EACVhC,CAAA,GACN,CACDgC,YAAY,IAGd,OADA2F,GAAW,IAAM9K,IACVla,GAAgB6kB,GAAoBtH,SAAU,CACnDxW,MAAO,CACLoe,SAAU9F,IACR,IAAIlR,EAKJ,OAJA+W,GAAYxb,IACVyE,EAAQzE,EAASlD,OACV,IAAIkD,EAAU2V,MAEhBlf,GAAW,IAAM+Z,IAAW/L,SAAQxJ,EAAW,CACpDgS,OAAQ+N,IACV,GAGAjc,eACF,OAAOH,EAAMG,QACf,GAEJ,CACA,SAAS5I,GAASyI,GAChB,IACEwc,EACArH,EACAhM,EACAmU,EACAjW,EALEiU,EAAU,EAMd,MAAOvE,EAAYwG,GAAe5U,GAAa,GAC7CiI,EAAkB2E,KAClBiI,EAAQ,CACN1K,UAAW,KACS,KAAZwI,GAAeiC,GAAY,EAAI,EAEvC5K,UAAW,KACS,KAAZ2I,GAAeiC,GAAY,EAAK,EAExCxG,aACAnC,QAAS,GACThD,UAAU,GAEZ3U,EAAQrF,KACV,GAAI+I,EAAaC,SAAWD,EAAakH,KAAM,CAC7C,MAAMtI,EAAMoB,EAAaC,QAAQqG,GAAKtG,EAAaC,QAAQmB,MAC3D,IAAI1B,EAAMM,EAAakH,KAAKtI,GAC5B,GAAIc,IAAQ8I,EAAI9I,EAAI,KAAa,QAAN8I,EAAa,CACrB,iBAANA,GAAoB,SAAUA,IAAIA,EAAIuL,QAAQC,QAAQxL,IACjE,MAAOtJ,EAAG+F,GAAO+C,OAAatM,EAAW,CACvCgS,QAAQ,IAEViP,EAAUzd,EACVsJ,EAAE6J,MAAK5L,IACL,GAAIA,GAAOzG,EAAamD,KAEtB,OADAsD,IAAQC,EAAQD,GACTxB,IAETjF,EAAamH,OAAOvI,GACpB2O,EAAkBiH,GAClBvP,IACAsI,GAAA,GAEJ,CACF,CACA,MAAMyO,EAActR,GAAWkR,IAE/B,IAAIxf,EAEJ,OAHI4f,IAAaH,EAAOG,EAAYE,SAASW,EAAMzG,aAEnDlO,IAAU,IAAM9L,GAAWA,MACpBrF,GAAgBkZ,EAAgBqE,SAAU,CAC/CxW,MAAO+e,EACHrd,eACF,OAAOtI,GAAW,KAChB,GAAIwP,EAAO,MAAMA,EAEjB,GADA8N,EAAMxU,EAAaC,QACf0c,EAEF,OADAA,IACOA,OAAUjhB,EAEf8Y,GAAa,QAANhM,GAAa+E,IACxB,MAAMuP,EAAW5lB,GAAW,IAAMmI,EAAMG,WACxC,OAAOtI,GAAWsH,IAChB,MAAM4X,EAAayG,EAAMzG,cACvBsF,YACEA,GAAc,EAAIC,aAClBA,GAAe,GACbE,EAAOA,IAAS,CAAC,EACvB,QAAMzF,GAAc5N,GAAW,QAANA,IAAgBkT,GACvCmB,EAAM5L,UAAW,EACjB7U,GAAWA,IACXA,EAAUoY,EAAMhM,OAAI9M,EAniCT0B,EAoiCGyf,EAAM5I,QAniC9BvF,EAAQnN,KAAKmV,MAAMhI,EAAStR,GAC5BA,EAAEG,OAAS,EAmiCMuf,KAEJnB,EACDvf,EAAgBoC,EACbrC,GAAWD,IAChBE,EAAUF,EACNsY,IACFjH,EAAkB,CAChBjH,GAAIkO,EAAIlO,GAAK,IACblF,MAAO,IAEToT,OAAM9Y,GAED2D,EAAMyZ,WACZxc,QAZH,EAviCV,IAAuBc,CAmjCV,GACL,GAEJ,GAEJ,CAEA,MAAM6L,QAAMvN,C,qFCrkDZpF,EAAQymB,eAAiB,SAAUthB,GACjC,OAAOA,GAAKA,EAAEuhB,WAAavhB,EAAI,CAACgf,QAAShf,EAC3C,EAEAnF,EAAQ2mB,kBAAoB,SAAUxhB,GACpCnB,OAAOsF,eAAenE,EAAG,aAAc,CAACqC,OAAO,GACjD,EAEAxH,EAAQ4mB,UAAY,SAAUxM,EAAQyM,GAcpC,OAbA7iB,OAAOsD,KAAK8S,GAAQoF,SAAQ,SAAUlX,GACxB,YAARA,GAA6B,eAARA,GAAwBue,EAAKC,eAAexe,IAIrEtE,OAAOsF,eAAeud,EAAMve,EAAK,CAC/BkB,YAAY,EACZD,IAAK,WACH,OAAO6Q,EAAO9R,EAChB,GAEJ,IAEOue,CACT,EAEA7mB,EAAQD,OAAS,SAAU8mB,EAAME,EAAUxd,GACzCvF,OAAOsF,eAAeud,EAAME,EAAU,CACpCvd,YAAY,EACZD,IAAKA,GAET,C,8GCzBAzJ,EAAAC,OAAAC,EAAA,mBAAgB5B,I,wBAJhB4oB,GADA3pB,EAAA,YACAA,EAAA,YACAC,EAAAD,EAAA,sBACA4pB,EAAA5pB,EAAA,0BAEO,SAASe,IACd,MAAM8oB,EAAQC,kBAAgBljB,OAAO,CACnCmjB,KAAM5nB,OAAK6nB,sBAEPC,EAAa,IAAIC,sBAavB,MAAO,CACLvpB,UAXF,SAAmB+K,GACjB,OAAA3J,qBACGnB,iBADH,CAEM2B,WAAI,OAAEmJ,EAAMnJ,IAAI,EAChBwnB,WAAI,OAAEF,EAAME,IAAI,EAChBE,WAAYA,GAGpB,EAIEppB,WAdiB,IAAIspB,qBAAgBN,EAAOI,GAgBhD,C,gSCrBAxnB,EAAAC,OAAAC,EAAA,sBAAgB/B,I,wBAJhBwpB,EAAApqB,EAAA,uB,sBACAC,EAAAD,EAAA,sB,+CAGO,SAASY,EAAe8K,GAK7B,IAAI2e,EACJ,kBAAAC,EAAAC,IAAAC,EAAAF,EAAA5hB,WAAA+hB,EAAAD,EAAA9hB,WAAAgiB,EAAAD,EAAA/hB,WAAAiiB,EAaeN,EACwB,MADZ,mBAAAM,GAAAC,SAAAD,EAAAF,GAAZJ,EAAYI,GAAAI,sBAAAJ,EAAA,gBADA/e,EAAMue,WAAWa,4BAA4B,OAAQT,KAAaU,YAAAL,GAAA3oB,qBAGlF2J,EAAMnJ,KAH4EwoB,MAGxEC,aAAAC,IAAA,MAAAC,EAdPC,UAAO3W,UAAS4W,EACV,CACd,CAACD,UAAOE,QAAQ,GACjBC,EAEgB,CACT,CAACH,UAAOtB,QAAQ,EAChB,CAACsB,UAAOI,QAAS7f,EAAMqe,OAAS5nB,OAAKG,OACrC,CAAC6oB,UAAOK,SAAU9f,EAAMqe,OAAS5nB,OAAKC,QACtC,CAAC+oB,UAAOM,qBAAsB/f,EAAMqe,OAAS5nB,OAAK6nB,qBACnD0B,EAGSP,UAAO,aAAY,OAAAD,IAAAD,EAAAC,MAAAS,eAAArB,EAAAW,EAAAC,OAAAD,EAAAG,MAAAQ,eAAApB,EAAAY,EAAAH,EAAAG,MAAAH,EAAAK,MAAAM,eAAAnB,EAAAa,EAAAL,EAAAK,MAAAI,IAAAT,EAAAS,OAAAC,eAAAjB,EAAAO,EAAAS,QAAAT,IAAA,CAAAC,SAAAnjB,EAAAqjB,UAAArjB,EAAAujB,UAAAvjB,EAAA2jB,UAAA3jB,IAAAuiB,CAAA,EAdvC,EAqBF,C,yKChCAuB,EAAOlpB,QAAQ,WAAgB,oBAC/BkpB,EAAOlpB,QAAQ,YAAiB,oBAChCkpB,EAAOlpB,QAAQ,UAAe,MAC9BkpB,EAAOlpB,QAAQ,WAAgB,MAC/BkpB,EAAOlpB,QAAQ,UAAe,MAC9BkpB,EAAOlpB,QAAQ,WAAgB,MAC/BkpB,EAAOlpB,QAAQ,UAAe,mBAC9BkpB,EAAOlpB,QAAQ,MAAW,eAC1BkpB,EAAOlpB,QAAQ,MAAW,eAC1BkpB,EAAOlpB,QAAQ,QAAa,iBAC5BkpB,EAAOlpB,QAAQ,oBAAyB,6BACxCkpB,EAAOlpB,QAAQ,OAAY,gBAC3BkpB,EAAOlpB,QAAQ,aAAe,kB,+BCZ9B,IAAAF,EAAAzC,EAAA,kD,oFAiBa8pB,IAObrnB,EAAAC,OAAAC,EAAA,uBAAawnB,IArBb,IAAA2B,EAAA9rB,EAAA,6BACA+rB,EAAA/rB,EAAA,2B,IAGOmC,G,SAAWA,OAChBC,QAAU,GAAVA,UADgBD,IAEhB6nB,oBAAsB,GAAtBA,sBAFgB7nB,IAGhBG,OAAS,GAATA,Q,EAHgBH,WAQlB,MAAM6pB,EAAiB,IAAIC,2BAEdnC,GAAkBoC,4BAAuB,CACpDnC,KAAMiC,IAMD,MAAM7B,EAEXgC,YACmBtC,EACAI,G,WADAJ,E,gBACAI,CAEnB,CAEAhoB,cAAc8nB,GACZ,GAAIxI,KAAKsI,MAAME,OAASA,EAEtB,OADAxI,KAAKsI,MAAME,KAAOA,EACXxI,KAAK0I,WAAWmC,yBAAyB,OAEpD,E,6JCrCF,IAAA3pB,EAAAzC,EAAA,kD,uBAGAyC,EAAAC,OAAAC,EAAA,6BAAaspB,I,mCAkBAI,I,mCAEAC,I,oCAEAC,I,sCAEAC,IAxBN,MAAMP,EAEXE,cAAgB,CAMhBvlB,OAAO2E,GACL,OAAOA,CACT,CAEAkhB,SAASvT,GACP,OAAOA,CACT,EAIK,MAAMmT,EAAmB,IAAIJ,EAEvBK,EAAmB,IAAIL,EAEvBM,EAAoB,IAAIN,EAExBO,EAAsB,IAAIP,C,uFC3BvC,IAAAxpB,EAAAzC,EAAA,kD,uBA0CAyC,EAAAC,OAAAC,EAAA,6BAAgB+pB,IA2DhBjqB,EAAAC,OAAAC,EAAA,8BAAgBupB,IArGhB,IAAA/rB,EAAAH,EAAA,YAWA,MAAM2sB,EAEJR,YAA6BS,G,oBAAAA,CAA4C,CAMzEhmB,OAAO2E,GACL,MAAMshB,EAAmD,CAAC,EAC1D,IAAK,IAAI5hB,KAAOsW,KAAKqL,eAAgB,CACnC,MAAME,EAAgBvL,KAAKqL,eAAe3hB,GACpCd,EAAQoB,EAAEN,GACV8hB,EAAeD,EAAclmB,OAAOuD,GAC1C0iB,EAAQ5hB,GAAO8hB,CACjB,CACA,OAAOF,CACT,CAEAJ,SAASvT,GACP,MAAMuT,EAAkD,CAAC,EACzD,IAAK,IAAIxhB,KAAOsW,KAAKqL,eAAgB,CACnC,MAAME,EAAgBvL,KAAKqL,eAAe3hB,GACpCd,EAAQ+O,EAAEjO,GACV8hB,EAAeD,EAAcL,SAAStiB,GAC5CsiB,EAASxhB,GAAO8hB,CAClB,CACA,OAAON,CACT,EAGK,SAASC,EACdE,GAEA,OAAO,IAAID,EAA0BC,EACvC,CAMA,MAAMI,EAEJb,cAEA,CAEAjgB,IAAIoD,EAAsDuF,GACxD,OAAOvF,EAAOuF,KAAK,MACrB,CAEAvD,IAAIhC,EAAsDuF,EAAWoY,GACnE,MAAMC,EAAS5d,EAAOuF,KAAK,GAE3B,OADAqY,IAASD,GACQ,MAAVC,CACT,EAGF,MAAMC,EAEJhB,YAA6BS,G,oBAAAA,CAA4C,CAMzEhmB,OAAO2E,GAEL,MAAM+D,EAAuD,CAAC,EAC9D,IAAK,IAAIrE,KAAOsW,KAAKqL,eAAgB,CACnC,MAAME,EAAgBvL,KAAKqL,eAAe3hB,GACpCd,EAAQoB,EAAEN,GACV8hB,EAAeD,EAAclmB,OAAOuD,GAC1CmF,EAAOrE,IAAOoJ,kBAAa0Y,EAC7B,CACA,OAAO,IAAI3G,MAAM9W,EAAQ,IAAI0d,EAC/B,CAEAP,SAASvT,GACP,MAAMuT,EAAkD,CAAC,EACzD,IAAK,IAAIxhB,KAAOsW,KAAKqL,eAAgB,CACnC,MAAME,EAAgBvL,KAAKqL,eAAe3hB,GACpCd,EAAQ+O,EAAEjO,GACV8hB,EAAeD,EAAcL,SAAStiB,GAC5CsiB,EAASxhB,GAAO8hB,CAClB,CACA,OAAON,CACT,EAGK,SAASP,EACdU,GAEA,OAAO,IAAIO,EAA2BP,EACxC,C,wGCzGA,IAAAnqB,EAAAzC,EAAA,kD,uBAGAyC,EAAAC,OAAAC,EAAA,8BAAayqB,IAIb3qB,EAAAC,OAAAC,EAAA,wBAAaunB,IAPb,IAAAmD,EAAArtB,EAAA,WACAstB,EAAAttB,EAAA,uBAEO,MAAMotB,UAA+BpgB,OAIrC,MAAMkd,EACHD,WAA6C,IAAI5Y,IAEzD8a,cAEA,CAEAC,yBAAyBnjB,EAAMskB,GAC7BhM,KAAKiM,qBAAqBvkB,GAC1B,MAAMwkB,GAAYC,8BAElB,OADAnM,KAAK0I,WAAW3Y,IAAIrI,EAAGwkB,GACC,MAAjBF,EACDnN,QAAQuN,KAAK,CAACF,EAAUG,SAASC,WAAMN,KACvCE,EAAUG,OAClB,CAEAJ,qBAAqBvkB,GACnB,MAAM6kB,EAAmBvM,KAAK0I,WAAW/d,IAAIjD,GACzC6kB,IACFA,EAAiBC,OAAO,IAAIX,GAC5B7L,KAAK0I,WAAW/c,OAAOjE,GAE3B,CAEA+kB,uBAAuB/kB,GACrB,MAAM6kB,EAAmBvM,KAAK0I,WAAW/d,IAAIjD,GACzC6kB,IACFA,EAAiBzN,UACjBkB,KAAK0I,WAAW/c,OAAOjE,GAE3B,CAEAglB,2BACIhlB,EACA8C,EACAmiB,GAEF,OAAQzkB,IACK,MAAPsC,GAAetC,EAAE6F,SAAWvD,GAAyB,MAAjBmiB,GAAyBzkB,EAAEykB,gBAAkBA,GACnF3M,KAAKyM,uBAAuB/kB,GAGlC,CAEA6hB,4BACI7hB,EACA8C,GAEF,OAAQtC,IACK,MAAPsC,GAAetC,EAAE6F,SAAWvD,GAC9BwV,KAAKyM,uBAAuB/kB,GAGlC,E,qIC5DF,IAAAxG,EAAAzC,EAAA,kD,uBAEAyC,EAAAC,OAAAC,EAAA,aAAgBkrB,IAFhB,IAAAP,EAAAttB,EAAA,uBAEO,SAAS6tB,EAAMM,GACpB,MAAMP,QAAEA,EAAOvN,QAAEA,IAAYqN,8BAE7B,OADAU,WAAW/N,EAAS8N,GACbP,CACT,C,qHCNA,IAAAnrB,EAAAzC,EAAA,kDAMO,SAAS0tB,IACd,IAAIW,EACAC,EAKJ,MAAO,CACLV,QALc,IAAIxN,SAAW,CAACC,EAAS0N,KACvCM,EAAWhO,EACXiO,EAAUP,KAIV1N,QAAUpX,GAASolB,EAASplB,GAC5B8kB,OAAStkB,GAAe6kB,EAAQ7kB,GAEpC,C,uBAZAhH,EAAAC,OAAAC,EAAA,8BAAgB+qB,G,sKCHhBjrB,EAAAC,OAAAC,EAAA,kBAAgBzB,I,wBAHhBqtB,EAAAvuB,EAAA,UACAwuB,EAAAxuB,EAAA,qBAEO,SAASkB,IACd,MAAMutB,EAAOC,iBAAe9nB,OAAO,CACjC+nB,QAAQ,EACRC,WAAO7mB,IAOT,MAAO,CACLpH,UAJiB+K,IAAmC3J,qBACnDQ,OADkD,CAC7CosB,aAAM,OAAEF,EAAKE,MAAM,EAAEC,YAAK,OAAEH,EAAKG,KAAK,EAAE5sB,mBAAY,OAAE0J,EAAM1J,YAAY,IAI9EnB,WAPiB,IAAIguB,oBAAeJ,GASxC,C,0OCXAhsB,EAAAC,OAAAC,EAAA,YAAgBmsB,IAiBhBrsB,EAAAC,OAAAC,EAAA,YAAgBJ,I,wBAvBhBpC,EAAAH,EAAA,YACA+uB,EAAA/uB,EAAA,sB,iIAGMgvB,EAAkB,IAEjB,SAASF,EAAKpjB,GAOnB,kBAAA4e,EAAAC,IAIG,OAJHM,sBAAAP,EAAA,QACoC5e,EAAMujB,SAD1CpE,IACiDE,YAAAT,GAAA,IAI5C5e,EAAMG,YAAQmf,aAAAC,IAAA,MAAAC,EAJLC,UAAO+D,KAAI9D,EAAiC,CACtD+D,UAAY,cAAazjB,EAAM0jB,UAC5B1jB,EAAMnF,OACV,OAAA2kB,IAAAD,EAAAC,MAAAS,eAAArB,EAAAW,EAAAC,OAAAD,EAAAG,MAAAiE,WAAA/E,EAAAc,EAAAH,EAAAG,MAAAH,IAAA,CAAAC,SAAAnjB,EAAAqjB,UAAArjB,IAAAuiB,CAAA,EAJH,EAQF,CAEO,SAAS/nB,EAAKmJ,GAMnB,kBAAA8e,EAAA8E,IAAA7E,EAAAD,EAAA9hB,WAAAgiB,EAAAD,EAAA/hB,WAqBO,OArBPqiB,YAAAN,GAAA1oB,qBAIO+sB,EAJP/D,CAIYqE,GAAG,GAAOJ,EAAkB,EAAGzoB,MAAO,CAC1CgpB,WAAY,WACb7E,IAAAK,YAAAN,GAAA1oB,qBAEAe,QAFAioB,CAEM7D,WAAI,MAAE,IAAIzc,MAAMukB,EAAkB,GAAG/kB,OAAO,EAAA4B,SAAIqjB,IACrDntB,qBACC+sB,EADD/sB,CACMqtB,QAAC,OAAE,KAAQJ,EAAkB,EAAI,EAAIE,IAAO,MAAIxE,IAAAK,YAAAN,GAAA1oB,qBAIvD+sB,EAJuD/D,CAIlDqE,GAAG,GAAIvjB,eAAA,OACV2jB,WAAA,MAAA9jB,EAAMkjB,OAANY,KAAWztB,qBAAK2J,EAAMkjB,MAAMptB,MAAK,GAAG,IAAAkpB,IAAAK,YAAAL,GAAA3oB,qBAQpC+sB,EARoC/D,CAQ/BqE,EAAG,GAAGvjB,eAAA,MAAA4jB,EAAAlF,IAG4B,OAH5BkF,EAAAlpB,MAAAkF,YAAAgkB,gCAAA1E,YAAA0E,EAAA1E,MAAA,MAAA2E,GAAAF,WAAA,MAGP9jB,EAAMkjB,QAAK,UAAXc,MAAA3tB,qBAAgB2J,EAAMkjB,MAAMttB,KAAI,GAAG,EAH5BypB,IAG4B0E,CAAA,WAAA1E,YAAAL,GAAA3oB,qBAKvCe,QALuCioB,CAKjC7D,WAAI,MAAE,IAAIzc,MAAMukB,EAAkB,GAAG/kB,OAAO,EAAA4B,SAAGA,CAACqjB,EAAMngB,KAAChN,qBAC3D+sB,EADgDjjB,CAC3CujB,QAAC,OAAE,IAAMF,GAAM,MAAI,OAAAnE,YAAAL,GAAA3oB,qBAG1B+sB,EAH0B/D,CAGrBqE,EAAG,GAAMJ,EAAkB,EAAGC,cAAO,OAAEvjB,EAAM1J,YAAY,EAAEuE,MAAO,CACtEgpB,WAAY,QACZ,aAAc,SACdI,MAAO,SACR9jB,eAAA,OAAA+jB,GAAA,WAAA5E,aAAAC,IAAA,MAAAK,EAtCKH,UAAO3W,UAASkX,EACdP,UAAOsD,KAAIoB,EAgBL,CACd,CAAC1E,UAAO2E,QAAQ,EAChB,CAAC3E,UAAO4E,MAAOrkB,EAAMijB,QACtB,OAAArD,IAAAL,EAAAK,OAAAK,eAAAnB,EAAAS,EAAAK,QAAAI,IAAAT,EAAAS,OAAAC,eAAAlB,EAAAQ,EAAAS,QAAAT,EAAA4E,MAAAjE,eAAAlB,EAAAmF,EAAA5E,EAAA4E,MAAA5E,IAAA,CAAAK,UAAAvjB,EAAA2jB,UAAA3jB,EAAA8nB,UAAA9nB,IAAAyiB,CAAA,EArBP,EA8CF,EAACwF,8B,4JC3EDnE,EAAOlpB,QAAQ,UAAgB,mBAC/BkpB,EAAOlpB,QAAQ,KAAW,cAC1BkpB,EAAOlpB,QAAQ,KACfkpB,EAAOlpB,QAAQ,KAAW,cAC1BkpB,EAAOlpB,QAAQ,KAAW,cAC1BkpB,EAAOlpB,QAAQ,MAAY,c,6BCJ3B,IAAAF,EAAAzC,EAAA,kD,wDAYa0uB,IAQbjsB,EAAAC,OAAAC,EAAA,sBAAaksB,IApBb,IAAA/C,EAAA9rB,EAAA,6BACAiwB,EAAAjwB,EAAA,2BAWO,MAAM0uB,GAAiBxC,EAV9BlsB,EAAA,2BAU8BksB,wBAAuB,CACnDyC,OAAQpC,oBACRqC,OAAOsB,wBAAmB,IAAIjE,8BAMzB,MAAM4C,EACX1C,YAA6BsC,G,UAAAA,CAAc,CAE3CsB,OACExO,KAAKkN,KAAKE,QAAS,CACrB,CAEAwB,QACE5O,KAAKkN,KAAKE,QAAS,CACrB,CAEA/sB,UAAUgtB,GACHrN,KAAKkN,KAAKE,QACbpN,KAAKwO,OAEPxO,KAAKkN,KAAKG,MAAQA,CACpB,E,6LCrCF,IAAAnsB,EAAAzC,EAAA,kD,uBAyBAyC,EAAAC,OAAAC,EAAA,0BAAgButB,IAjBhB,MAAME,EAEJjE,YAA6BkE,G,6BAAAA,CAAoD,CAMjFzpB,OAAO2E,GACL,OAAY,MAALA,EAAYgW,KAAK8O,wBAAwBzpB,OAAO2E,QAAKxD,CAC9D,CAEA0kB,SAASvT,GACP,OAAY,MAALA,EAAYqI,KAAK8O,wBAAwB5D,SAASvT,QAAKnR,CAChE,EAGK,SAASmoB,EACdG,GAEA,OAAO,IAAID,EAAuBC,EACpC,C,sKC3BA5tB,EAAAC,OAAAC,EAAA,sBAAgBvB,I,wBAFhBkvB,EAAAtwB,EAAA,eAEO,SAASoB,IAGd,MAAO,CACLT,UAHiB+K,IAAgC3J,qBAChDD,WAD+C,CACtCL,gBAAS,OAAEiK,EAAMjK,SAAS,IAIxC,C,mNCLAgB,EAAAC,OAAAC,EAAA,gBAAgBb,I,wBAHhByuB,EAAAvwB,EAAA,0BACAwwB,EAAAxwB,EAAA,2B,0IAEO,SAAS8B,EAAS4J,GAGvB,kBAAA4e,EAAAgF,IACyB,OADzBvE,YAAAT,GAAAvoB,qBAEK0uB,SAFL1F,CAEWlf,eAAA,OAAA0e,GAAA,WAAAQ,YAAAT,GAAAvoB,qBACN0uB,SADM1F,CACAlf,eAAA,MAAA4e,EAAAmF,IAAiC,OAAjC/E,sBAAAJ,EAAA,QAAkB/e,EAAMjK,WAAxBopB,GAAiCJ,CAAA,WAAAO,aAAA,KAAAW,eAAArB,EAF9Ba,UAAOuF,QAAIpG,CAAA,EADzB,EAMF,EAAC0F,8B,gQCRDvtB,EAAAC,OAAAC,EAAA,cAAgB8tB,I,wBAHhBE,EAAA3wB,EAAA,wB,sDAGO,SAASywB,EAAO/kB,GACrB,kBAAA4e,EAAAC,IAAoD,OAApDQ,YAAAT,GAAA,IACG5e,EAAMG,YAAQmf,aAAAC,IAAA,MAAAC,EADEC,UAAOyF,OAAMxF,EAAS1f,EAAMnF,MAAK,OAAA2kB,IAAAD,EAAAC,MAAAS,eAAArB,EAAAW,EAAAC,OAAAD,EAAAG,MAAAiE,WAAA/E,EAAAc,EAAAH,EAAAG,MAAAH,IAAA,CAAAC,SAAAnjB,EAAAqjB,UAAArjB,IAAAuiB,CAAA,EAApD,EAGF,C,6ICRAuB,EAAOlpB,QAAQ,OAAa,gBAC5BkpB,EAAOlpB,QAAQ,MAAY,eAC3BkpB,EAAOlpB,QAAQ,K,+BCFfkpB,EAAOlpB,QAAQ,KAAW,a,8GCgB1BF,EAAAC,OAAAC,EAAA,gBAAgBpB,I,wBAhBhBgvB,EAAAvwB,EAAA,0BACA6wB,EAAA7wB,EAAA,2B,sDAEA,SAAS8wB,IACP,MACE,YAAAxG,EAAAC,IAE0E,OAF1EQ,YAAAT,GAAAvoB,qBAIG0uB,SAJH1F,CAISlf,eAAA,MAAA2e,EAAAD,IACsG,OADtGS,aAAAC,IAAA,MAAAC,EACOC,UAAO4F,WAAU3F,EAAwB,IAAG/F,KAAK2L,MAAsB,SAAhB3L,KAAK4L,UAAqB5gB,SAAS,MAAK,OAAA6a,IAAAD,EAAAC,MAAAS,eAAAnB,EAAAS,EAAAC,OAAAE,IAAAH,EAAAG,OAAA,OAAAH,EAAAG,QAAAZ,EAAAjkB,MAAAkF,YAAA,aAAA2f,GAAAZ,EAAAjkB,MAAAiF,eAAA4f,eAAAH,IAAA,CAAAC,SAAAnjB,EAAAqjB,UAAArjB,IAAAyiB,CAAA,MAAAQ,aAAA,IAHrCV,EAAA/jB,MAAAkF,YAAA,YAA5D,aAA4B,IAAhB4Z,KAAK4L,cAAoC,IAAhB5L,KAAK4L,gBAAkB3G,CAAA,EAF1E,EASJ,CAEO,SAAS/oB,IACd,kBAAAkpB,EAAAF,IAKuE,OALvEE,EAAAlkB,MAAAkF,YAAAgf,yBAAAlkB,MAAAkF,YAAAgf,kBAAAlkB,MAAAkF,YAAAgf,kBAAAM,YAAAN,GAAA1oB,qBAOK+uB,EAPL/F,WAOeA,YAAAN,GAAA1oB,qBACV+uB,EADU/F,WACAA,YAAAN,GAAA1oB,qBACV+uB,EADU/F,WACAA,YAAAN,GAAA1oB,qBACV+uB,EADU/F,WACAC,aAAA,KALE3F,KAAQ2L,MAAsB,SAAhB3L,KAAK4L,UAAqB5gB,SAAS,IAAKoa,EAAAlkB,MAAAkF,YAAA,aAAtD,IAAG4Z,KAAK2L,MAAsB,SAAhB3L,KAAK4L,UAAqB5gB,SAAS,UAAKoa,CAAA,EALvE,EAaF,C,+KC9BAoB,EAAOlpB,QAAQ,WAAiB,mB","sources":["src/index.tsx","node_modules/solid-js/web/dist/web.js","node_modules/solid-js/dist/solid.js","node_modules/@parcel/transformer-js/src/esmodule-helpers.js","src/components/table/create.tsx","src/components/table/table.tsx","src/components/table/table.module.scss","src/components/table/table_controller.ts","src/model/descriptor/literals.ts","src/model/descriptor/record.ts","src/base/animation_manager.ts","src/base/delay.ts","src/base/flattened_promise.ts","src/components/book/create.tsx","src/components/book/book.tsx","src/components/book/book.module.scss","src/components/book/book_controller.ts","src/model/descriptor/option.ts","src/components/main_menu/create.tsx","src/components/main_menu/main_menu.tsx","src/components/book/cutout.tsx","src/components/book/cutout.module.scss","src/components/main_menu/main_menu.module.scss","src/components/test_page/test_page.tsx","src/components/test_page/test_page.module.scss"],"sourcesContent":["import { render } from \"solid-js/web\";\nimport { createTable } from \"components/table/create\";\nimport { View } from \"components/table/table_controller\";\nimport { createBook } from \"components/book/create\";\nimport { batch } from \"solid-js\";\nimport { createMainMenu } from \"components/main_menu/create\";\nimport { PagePair } from \"components/book/book_controller\";\nimport { TestPage } from \"components/test_page/test_page\";\n\nwindow.onload = function () {\n  const app = document.getElementById('app')!;\n\n  const {\n    Component: TableComponent,\n    controller: tableController,\n  } = createTable();\n\n  const {\n    Component: BookImpl,\n    controller: bookController,\n  } = createBook();\n\n  const {\n    Component: MainMenuImpl,\n  } = createMainMenu();\n\n  // TODO: a lot of the following code should probably live inside a game controller or something\n  const testPages: PagePair = {\n    Left: TestPage,\n    Right: TestPage,\n  }\n  const startGame = () => {\n    console.log('start game');\n    bookController.showPages(testPages)\n  }\n  const MainMenu = () => <MainMenuImpl startGame={startGame} />\n\n  const mainMenuPages: PagePair = {\n    Left: MainMenu,\n    Right: TestPage,\n  }\n  const onClickCover = async () => {\n    await tableController.setView(View.TopDown);\n    batch(() => {\n      bookController.showPages(mainMenuPages);\n      tableController.setView(View.Tilted);\n    });\n\n    console.log('show main menu');\n  }\n\n  const Book = () =>\n    <BookImpl onClickCover={onClickCover} />\n\n  render(() => <TableComponent Book={Book} />, app);\n\n};\n","import { createRoot, createRenderEffect, sharedConfig, untrack, enableHydration, getOwner, createEffect, runWithOwner, createSignal, onCleanup, splitProps, createMemo, $DEVCOMP } from 'solid-js';\nexport { ErrorBoundary, For, Index, Match, Show, Suspense, SuspenseList, Switch, createComponent, createRenderEffect as effect, getOwner, createMemo as memo, mergeProps, untrack } from 'solid-js';\n\nconst booleans = [\"allowfullscreen\", \"async\", \"autofocus\", \"autoplay\", \"checked\", \"controls\", \"default\", \"disabled\", \"formnovalidate\", \"hidden\", \"indeterminate\", \"ismap\", \"loop\", \"multiple\", \"muted\", \"nomodule\", \"novalidate\", \"open\", \"playsinline\", \"readonly\", \"required\", \"reversed\", \"seamless\", \"selected\"];\nconst Properties = /*#__PURE__*/new Set([\"className\", \"value\", \"readOnly\", \"formNoValidate\", \"isMap\", \"noModule\", \"playsInline\", ...booleans]);\nconst ChildProperties = /*#__PURE__*/new Set([\"innerHTML\", \"textContent\", \"innerText\", \"children\"]);\nconst Aliases = /*#__PURE__*/Object.assign(Object.create(null), {\n  className: \"class\",\n  htmlFor: \"for\"\n});\nconst PropAliases = /*#__PURE__*/Object.assign(Object.create(null), {\n  class: \"className\",\n  formnovalidate: {\n    $: \"formNoValidate\",\n    BUTTON: 1,\n    INPUT: 1\n  },\n  ismap: {\n    $: \"isMap\",\n    IMG: 1\n  },\n  nomodule: {\n    $: \"noModule\",\n    SCRIPT: 1\n  },\n  playsinline: {\n    $: \"playsInline\",\n    VIDEO: 1\n  },\n  readonly: {\n    $: \"readOnly\",\n    INPUT: 1,\n    TEXTAREA: 1\n  }\n});\nfunction getPropAlias(prop, tagName) {\n  const a = PropAliases[prop];\n  return typeof a === \"object\" ? a[tagName] ? a[\"$\"] : undefined : a;\n}\nconst DelegatedEvents = /*#__PURE__*/new Set([\"beforeinput\", \"click\", \"dblclick\", \"contextmenu\", \"focusin\", \"focusout\", \"input\", \"keydown\", \"keyup\", \"mousedown\", \"mousemove\", \"mouseout\", \"mouseover\", \"mouseup\", \"pointerdown\", \"pointermove\", \"pointerout\", \"pointerover\", \"pointerup\", \"touchend\", \"touchmove\", \"touchstart\"]);\nconst SVGElements = /*#__PURE__*/new Set([\n\"altGlyph\", \"altGlyphDef\", \"altGlyphItem\", \"animate\", \"animateColor\", \"animateMotion\", \"animateTransform\", \"circle\", \"clipPath\", \"color-profile\", \"cursor\", \"defs\", \"desc\", \"ellipse\", \"feBlend\", \"feColorMatrix\", \"feComponentTransfer\", \"feComposite\", \"feConvolveMatrix\", \"feDiffuseLighting\", \"feDisplacementMap\", \"feDistantLight\", \"feFlood\", \"feFuncA\", \"feFuncB\", \"feFuncG\", \"feFuncR\", \"feGaussianBlur\", \"feImage\", \"feMerge\", \"feMergeNode\", \"feMorphology\", \"feOffset\", \"fePointLight\", \"feSpecularLighting\", \"feSpotLight\", \"feTile\", \"feTurbulence\", \"filter\", \"font\", \"font-face\", \"font-face-format\", \"font-face-name\", \"font-face-src\", \"font-face-uri\", \"foreignObject\", \"g\", \"glyph\", \"glyphRef\", \"hkern\", \"image\", \"line\", \"linearGradient\", \"marker\", \"mask\", \"metadata\", \"missing-glyph\", \"mpath\", \"path\", \"pattern\", \"polygon\", \"polyline\", \"radialGradient\", \"rect\",\n\"set\", \"stop\",\n\"svg\", \"switch\", \"symbol\", \"text\", \"textPath\",\n\"tref\", \"tspan\", \"use\", \"view\", \"vkern\"]);\nconst SVGNamespace = {\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\"\n};\nconst DOMElements = /*#__PURE__*/new Set([\"html\", \"base\", \"head\", \"link\", \"meta\", \"style\", \"title\", \"body\", \"address\", \"article\", \"aside\", \"footer\", \"header\", \"main\", \"nav\", \"section\", \"body\", \"blockquote\", \"dd\", \"div\", \"dl\", \"dt\", \"figcaption\", \"figure\", \"hr\", \"li\", \"ol\", \"p\", \"pre\", \"ul\", \"a\", \"abbr\", \"b\", \"bdi\", \"bdo\", \"br\", \"cite\", \"code\", \"data\", \"dfn\", \"em\", \"i\", \"kbd\", \"mark\", \"q\", \"rp\", \"rt\", \"ruby\", \"s\", \"samp\", \"small\", \"span\", \"strong\", \"sub\", \"sup\", \"time\", \"u\", \"var\", \"wbr\", \"area\", \"audio\", \"img\", \"map\", \"track\", \"video\", \"embed\", \"iframe\", \"object\", \"param\", \"picture\", \"portal\", \"source\", \"svg\", \"math\", \"canvas\", \"noscript\", \"script\", \"del\", \"ins\", \"caption\", \"col\", \"colgroup\", \"table\", \"tbody\", \"td\", \"tfoot\", \"th\", \"thead\", \"tr\", \"button\", \"datalist\", \"fieldset\", \"form\", \"input\", \"label\", \"legend\", \"meter\", \"optgroup\", \"option\", \"output\", \"progress\", \"select\", \"textarea\", \"details\", \"dialog\", \"menu\", \"summary\", \"details\", \"slot\", \"template\", \"acronym\", \"applet\", \"basefont\", \"bgsound\", \"big\", \"blink\", \"center\", \"content\", \"dir\", \"font\", \"frame\", \"frameset\", \"hgroup\", \"image\", \"keygen\", \"marquee\", \"menuitem\", \"nobr\", \"noembed\", \"noframes\", \"plaintext\", \"rb\", \"rtc\", \"shadow\", \"spacer\", \"strike\", \"tt\", \"xmp\", \"a\", \"abbr\", \"acronym\", \"address\", \"applet\", \"area\", \"article\", \"aside\", \"audio\", \"b\", \"base\", \"basefont\", \"bdi\", \"bdo\", \"bgsound\", \"big\", \"blink\", \"blockquote\", \"body\", \"br\", \"button\", \"canvas\", \"caption\", \"center\", \"cite\", \"code\", \"col\", \"colgroup\", \"content\", \"data\", \"datalist\", \"dd\", \"del\", \"details\", \"dfn\", \"dialog\", \"dir\", \"div\", \"dl\", \"dt\", \"em\", \"embed\", \"fieldset\", \"figcaption\", \"figure\", \"font\", \"footer\", \"form\", \"frame\", \"frameset\", \"head\", \"header\", \"hgroup\", \"hr\", \"html\", \"i\", \"iframe\", \"image\", \"img\", \"input\", \"ins\", \"kbd\", \"keygen\", \"label\", \"legend\", \"li\", \"link\", \"main\", \"map\", \"mark\", \"marquee\", \"menu\", \"menuitem\", \"meta\", \"meter\", \"nav\", \"nobr\", \"noembed\", \"noframes\", \"noscript\", \"object\", \"ol\", \"optgroup\", \"option\", \"output\", \"p\", \"param\", \"picture\", \"plaintext\", \"portal\", \"pre\", \"progress\", \"q\", \"rb\", \"rp\", \"rt\", \"rtc\", \"ruby\", \"s\", \"samp\", \"script\", \"section\", \"select\", \"shadow\", \"slot\", \"small\", \"source\", \"spacer\", \"span\", \"strike\", \"strong\", \"style\", \"sub\", \"summary\", \"sup\", \"table\", \"tbody\", \"td\", \"template\", \"textarea\", \"tfoot\", \"th\", \"thead\", \"time\", \"title\", \"tr\", \"track\", \"tt\", \"u\", \"ul\", \"var\", \"video\", \"wbr\", \"xmp\", \"input\"]);\n\nfunction reconcileArrays(parentNode, a, b) {\n  let bLength = b.length,\n    aEnd = a.length,\n    bEnd = bLength,\n    aStart = 0,\n    bStart = 0,\n    after = a[aEnd - 1].nextSibling,\n    map = null;\n  while (aStart < aEnd || bStart < bEnd) {\n    if (a[aStart] === b[bStart]) {\n      aStart++;\n      bStart++;\n      continue;\n    }\n    while (a[aEnd - 1] === b[bEnd - 1]) {\n      aEnd--;\n      bEnd--;\n    }\n    if (aEnd === aStart) {\n      const node = bEnd < bLength ? bStart ? b[bStart - 1].nextSibling : b[bEnd - bStart] : after;\n      while (bStart < bEnd) parentNode.insertBefore(b[bStart++], node);\n    } else if (bEnd === bStart) {\n      while (aStart < aEnd) {\n        if (!map || !map.has(a[aStart])) a[aStart].remove();\n        aStart++;\n      }\n    } else if (a[aStart] === b[bEnd - 1] && b[bStart] === a[aEnd - 1]) {\n      const node = a[--aEnd].nextSibling;\n      parentNode.insertBefore(b[bStart++], a[aStart++].nextSibling);\n      parentNode.insertBefore(b[--bEnd], node);\n      a[aEnd] = b[bEnd];\n    } else {\n      if (!map) {\n        map = new Map();\n        let i = bStart;\n        while (i < bEnd) map.set(b[i], i++);\n      }\n      const index = map.get(a[aStart]);\n      if (index != null) {\n        if (bStart < index && index < bEnd) {\n          let i = aStart,\n            sequence = 1,\n            t;\n          while (++i < aEnd && i < bEnd) {\n            if ((t = map.get(a[i])) == null || t !== index + sequence) break;\n            sequence++;\n          }\n          if (sequence > index - bStart) {\n            const node = a[aStart];\n            while (bStart < index) parentNode.insertBefore(b[bStart++], node);\n          } else parentNode.replaceChild(b[bStart++], a[aStart++]);\n        } else aStart++;\n      } else a[aStart++].remove();\n    }\n  }\n}\n\nconst $$EVENTS = \"_$DX_DELEGATE\";\nfunction render(code, element, init, options = {}) {\n  let disposer;\n  createRoot(dispose => {\n    disposer = dispose;\n    element === document ? code() : insert(element, code(), element.firstChild ? null : undefined, init);\n  }, options.owner);\n  return () => {\n    disposer();\n    element.textContent = \"\";\n  };\n}\nfunction template(html, isCE, isSVG) {\n  let node;\n  const create = () => {\n    const t = document.createElement(\"template\");\n    t.innerHTML = html;\n    return isSVG ? t.content.firstChild.firstChild : t.content.firstChild;\n  };\n  const fn = isCE ? () => (node || (node = create())).cloneNode(true) : () => untrack(() => document.importNode(node || (node = create()), true));\n  fn.cloneNode = fn;\n  return fn;\n}\nfunction delegateEvents(eventNames, document = window.document) {\n  const e = document[$$EVENTS] || (document[$$EVENTS] = new Set());\n  for (let i = 0, l = eventNames.length; i < l; i++) {\n    const name = eventNames[i];\n    if (!e.has(name)) {\n      e.add(name);\n      document.addEventListener(name, eventHandler);\n    }\n  }\n}\nfunction clearDelegatedEvents(document = window.document) {\n  if (document[$$EVENTS]) {\n    for (let name of document[$$EVENTS].keys()) document.removeEventListener(name, eventHandler);\n    delete document[$$EVENTS];\n  }\n}\nfunction setAttribute(node, name, value) {\n  if (value == null) node.removeAttribute(name);else node.setAttribute(name, value);\n}\nfunction setAttributeNS(node, namespace, name, value) {\n  if (value == null) node.removeAttributeNS(namespace, name);else node.setAttributeNS(namespace, name, value);\n}\nfunction className(node, value) {\n  if (value == null) node.removeAttribute(\"class\");else node.className = value;\n}\nfunction addEventListener(node, name, handler, delegate) {\n  if (delegate) {\n    if (Array.isArray(handler)) {\n      node[`$$${name}`] = handler[0];\n      node[`$$${name}Data`] = handler[1];\n    } else node[`$$${name}`] = handler;\n  } else if (Array.isArray(handler)) {\n    const handlerFn = handler[0];\n    node.addEventListener(name, handler[0] = e => handlerFn.call(node, handler[1], e));\n  } else node.addEventListener(name, handler);\n}\nfunction classList(node, value, prev = {}) {\n  const classKeys = Object.keys(value || {}),\n    prevKeys = Object.keys(prev);\n  let i, len;\n  for (i = 0, len = prevKeys.length; i < len; i++) {\n    const key = prevKeys[i];\n    if (!key || key === \"undefined\" || value[key]) continue;\n    toggleClassKey(node, key, false);\n    delete prev[key];\n  }\n  for (i = 0, len = classKeys.length; i < len; i++) {\n    const key = classKeys[i],\n      classValue = !!value[key];\n    if (!key || key === \"undefined\" || prev[key] === classValue || !classValue) continue;\n    toggleClassKey(node, key, true);\n    prev[key] = classValue;\n  }\n  return prev;\n}\nfunction style(node, value, prev) {\n  if (!value) return prev ? setAttribute(node, \"style\") : value;\n  const nodeStyle = node.style;\n  if (typeof value === \"string\") return nodeStyle.cssText = value;\n  typeof prev === \"string\" && (nodeStyle.cssText = prev = undefined);\n  prev || (prev = {});\n  value || (value = {});\n  let v, s;\n  for (s in prev) {\n    value[s] == null && nodeStyle.removeProperty(s);\n    delete prev[s];\n  }\n  for (s in value) {\n    v = value[s];\n    if (v !== prev[s]) {\n      nodeStyle.setProperty(s, v);\n      prev[s] = v;\n    }\n  }\n  return prev;\n}\nfunction spread(node, props = {}, isSVG, skipChildren) {\n  const prevProps = {};\n  if (!skipChildren) {\n    createRenderEffect(() => prevProps.children = insertExpression(node, props.children, prevProps.children));\n  }\n  createRenderEffect(() => props.ref && props.ref(node));\n  createRenderEffect(() => assign(node, props, isSVG, true, prevProps, true));\n  return prevProps;\n}\nfunction dynamicProperty(props, key) {\n  const src = props[key];\n  Object.defineProperty(props, key, {\n    get() {\n      return src();\n    },\n    enumerable: true\n  });\n  return props;\n}\nfunction innerHTML(parent, content) {\n  !sharedConfig.context && (parent.innerHTML = content);\n}\nfunction use(fn, element, arg) {\n  return untrack(() => fn(element, arg));\n}\nfunction insert(parent, accessor, marker, initial) {\n  if (marker !== undefined && !initial) initial = [];\n  if (typeof accessor !== \"function\") return insertExpression(parent, accessor, initial, marker);\n  createRenderEffect(current => insertExpression(parent, accessor(), current, marker), initial);\n}\nfunction assign(node, props, isSVG, skipChildren, prevProps = {}, skipRef = false) {\n  props || (props = {});\n  for (const prop in prevProps) {\n    if (!(prop in props)) {\n      if (prop === \"children\") continue;\n      prevProps[prop] = assignProp(node, prop, null, prevProps[prop], isSVG, skipRef);\n    }\n  }\n  for (const prop in props) {\n    if (prop === \"children\") {\n      if (!skipChildren) insertExpression(node, props.children);\n      continue;\n    }\n    const value = props[prop];\n    prevProps[prop] = assignProp(node, prop, value, prevProps[prop], isSVG, skipRef);\n  }\n}\nfunction hydrate$1(code, element, options = {}) {\n  sharedConfig.completed = globalThis._$HY.completed;\n  sharedConfig.events = globalThis._$HY.events;\n  sharedConfig.load = globalThis._$HY.load;\n  sharedConfig.gather = root => gatherHydratable(element, root);\n  sharedConfig.registry = new Map();\n  sharedConfig.context = {\n    id: options.renderId || \"\",\n    count: 0\n  };\n  gatherHydratable(element, options.renderId);\n  const dispose = render(code, element, [...element.childNodes], options);\n  sharedConfig.context = null;\n  return dispose;\n}\nfunction getNextElement(template) {\n  let node, key;\n  if (!sharedConfig.context || !(node = sharedConfig.registry.get(key = getHydrationKey()))) {\n    if (sharedConfig.context) console.warn(\"Unable to find DOM nodes for hydration key:\", key);\n    if (!template) throw new Error(\"Unrecoverable Hydration Mismatch. No template for key: \" + key);\n    return template();\n  }\n  if (sharedConfig.completed) sharedConfig.completed.add(node);\n  sharedConfig.registry.delete(key);\n  return node;\n}\nfunction getNextMatch(el, nodeName) {\n  while (el && el.localName !== nodeName) el = el.nextSibling;\n  return el;\n}\nfunction getNextMarker(start) {\n  let end = start,\n    count = 0,\n    current = [];\n  if (sharedConfig.context) {\n    while (end) {\n      if (end.nodeType === 8) {\n        const v = end.nodeValue;\n        if (v === \"#\") count++;else if (v === \"/\") {\n          if (count === 0) return [end, current];\n          count--;\n        }\n      }\n      current.push(end);\n      end = end.nextSibling;\n    }\n  }\n  return [end, current];\n}\nfunction runHydrationEvents() {\n  if (sharedConfig.events && !sharedConfig.events.queued) {\n    queueMicrotask(() => {\n      const {\n        completed,\n        events\n      } = sharedConfig;\n      events.queued = false;\n      while (events.length) {\n        const [el, e] = events[0];\n        if (!completed.has(el)) return;\n        eventHandler(e);\n        events.shift();\n      }\n    });\n    sharedConfig.events.queued = true;\n  }\n}\nfunction toPropertyName(name) {\n  return name.toLowerCase().replace(/-([a-z])/g, (_, w) => w.toUpperCase());\n}\nfunction toggleClassKey(node, key, value) {\n  const classNames = key.trim().split(/\\s+/);\n  for (let i = 0, nameLen = classNames.length; i < nameLen; i++) node.classList.toggle(classNames[i], value);\n}\nfunction assignProp(node, prop, value, prev, isSVG, skipRef) {\n  let isCE, isProp, isChildProp, propAlias, forceProp;\n  if (prop === \"style\") return style(node, value, prev);\n  if (prop === \"classList\") return classList(node, value, prev);\n  if (value === prev) return prev;\n  if (prop === \"ref\") {\n    if (!skipRef) value(node);\n  } else if (prop.slice(0, 3) === \"on:\") {\n    const e = prop.slice(3);\n    prev && node.removeEventListener(e, prev);\n    value && node.addEventListener(e, value);\n  } else if (prop.slice(0, 10) === \"oncapture:\") {\n    const e = prop.slice(10);\n    prev && node.removeEventListener(e, prev, true);\n    value && node.addEventListener(e, value, true);\n  } else if (prop.slice(0, 2) === \"on\") {\n    const name = prop.slice(2).toLowerCase();\n    const delegate = DelegatedEvents.has(name);\n    if (!delegate && prev) {\n      const h = Array.isArray(prev) ? prev[0] : prev;\n      node.removeEventListener(name, h);\n    }\n    if (delegate || value) {\n      addEventListener(node, name, value, delegate);\n      delegate && delegateEvents([name]);\n    }\n  } else if (prop.slice(0, 5) === \"attr:\") {\n    setAttribute(node, prop.slice(5), value);\n  } else if ((forceProp = prop.slice(0, 5) === \"prop:\") || (isChildProp = ChildProperties.has(prop)) || !isSVG && ((propAlias = getPropAlias(prop, node.tagName)) || (isProp = Properties.has(prop))) || (isCE = node.nodeName.includes(\"-\"))) {\n    if (forceProp) {\n      prop = prop.slice(5);\n      isProp = true;\n    }\n    if (prop === \"class\" || prop === \"className\") className(node, value);else if (isCE && !isProp && !isChildProp) node[toPropertyName(prop)] = value;else node[propAlias || prop] = value;\n  } else {\n    const ns = isSVG && prop.indexOf(\":\") > -1 && SVGNamespace[prop.split(\":\")[0]];\n    if (ns) setAttributeNS(node, ns, prop, value);else setAttribute(node, Aliases[prop] || prop, value);\n  }\n  return value;\n}\nfunction eventHandler(e) {\n  const key = `$$${e.type}`;\n  let node = e.composedPath && e.composedPath()[0] || e.target;\n  if (e.target !== node) {\n    Object.defineProperty(e, \"target\", {\n      configurable: true,\n      value: node\n    });\n  }\n  Object.defineProperty(e, \"currentTarget\", {\n    configurable: true,\n    get() {\n      return node || document;\n    }\n  });\n  if (sharedConfig.registry && !sharedConfig.done) sharedConfig.done = _$HY.done = true;\n  while (node) {\n    const handler = node[key];\n    if (handler && !node.disabled) {\n      const data = node[`${key}Data`];\n      data !== undefined ? handler.call(node, data, e) : handler.call(node, e);\n      if (e.cancelBubble) return;\n    }\n    node = node._$host || node.parentNode || node.host;\n  }\n}\nfunction insertExpression(parent, value, current, marker, unwrapArray) {\n  if (sharedConfig.context) {\n    !current && (current = [...parent.childNodes]);\n    let cleaned = [];\n    for (let i = 0; i < current.length; i++) {\n      const node = current[i];\n      if (node.nodeType === 8 && node.data.slice(0, 2) === \"!$\") node.remove();else cleaned.push(node);\n    }\n    current = cleaned;\n  }\n  while (typeof current === \"function\") current = current();\n  if (value === current) return current;\n  const t = typeof value,\n    multi = marker !== undefined;\n  parent = multi && current[0] && current[0].parentNode || parent;\n  if (t === \"string\" || t === \"number\") {\n    if (sharedConfig.context) return current;\n    if (t === \"number\") value = value.toString();\n    if (multi) {\n      let node = current[0];\n      if (node && node.nodeType === 3) {\n        node.data = value;\n      } else node = document.createTextNode(value);\n      current = cleanChildren(parent, current, marker, node);\n    } else {\n      if (current !== \"\" && typeof current === \"string\") {\n        current = parent.firstChild.data = value;\n      } else current = parent.textContent = value;\n    }\n  } else if (value == null || t === \"boolean\") {\n    if (sharedConfig.context) return current;\n    current = cleanChildren(parent, current, marker);\n  } else if (t === \"function\") {\n    createRenderEffect(() => {\n      let v = value();\n      while (typeof v === \"function\") v = v();\n      current = insertExpression(parent, v, current, marker);\n    });\n    return () => current;\n  } else if (Array.isArray(value)) {\n    const array = [];\n    const currentArray = current && Array.isArray(current);\n    if (normalizeIncomingArray(array, value, current, unwrapArray)) {\n      createRenderEffect(() => current = insertExpression(parent, array, current, marker, true));\n      return () => current;\n    }\n    if (sharedConfig.context) {\n      if (!array.length) return current;\n      for (let i = 0; i < array.length; i++) {\n        if (array[i].parentNode) return current = array;\n      }\n    }\n    if (array.length === 0) {\n      current = cleanChildren(parent, current, marker);\n      if (multi) return current;\n    } else if (currentArray) {\n      if (current.length === 0) {\n        appendNodes(parent, array, marker);\n      } else reconcileArrays(parent, current, array);\n    } else {\n      current && cleanChildren(parent);\n      appendNodes(parent, array);\n    }\n    current = array;\n  } else if (value instanceof Node) {\n    if (sharedConfig.context && value.parentNode) return current = multi ? [value] : value;\n    if (Array.isArray(current)) {\n      if (multi) return current = cleanChildren(parent, current, marker, value);\n      cleanChildren(parent, current, null, value);\n    } else if (current == null || current === \"\" || !parent.firstChild) {\n      parent.appendChild(value);\n    } else parent.replaceChild(value, parent.firstChild);\n    current = value;\n  } else console.warn(`Unrecognized value. Skipped inserting`, value);\n  return current;\n}\nfunction normalizeIncomingArray(normalized, array, current, unwrap) {\n  let dynamic = false;\n  for (let i = 0, len = array.length; i < len; i++) {\n    let item = array[i],\n      prev = current && current[i];\n    if (item instanceof Node) {\n      normalized.push(item);\n    } else if (item == null || item === true || item === false) ; else if (Array.isArray(item)) {\n      dynamic = normalizeIncomingArray(normalized, item, prev) || dynamic;\n    } else if ((typeof item) === \"function\") {\n      if (unwrap) {\n        while (typeof item === \"function\") item = item();\n        dynamic = normalizeIncomingArray(normalized, Array.isArray(item) ? item : [item], Array.isArray(prev) ? prev : [prev]) || dynamic;\n      } else {\n        normalized.push(item);\n        dynamic = true;\n      }\n    } else {\n      const value = String(item);\n      if (prev && prev.nodeType === 3) {\n        prev.data = value;\n        normalized.push(prev);\n      } else normalized.push(document.createTextNode(value));\n    }\n  }\n  return dynamic;\n}\nfunction appendNodes(parent, array, marker = null) {\n  for (let i = 0, len = array.length; i < len; i++) parent.insertBefore(array[i], marker);\n}\nfunction cleanChildren(parent, current, marker, replacement) {\n  if (marker === undefined) return parent.textContent = \"\";\n  const node = replacement || document.createTextNode(\"\");\n  if (current.length) {\n    let inserted = false;\n    for (let i = current.length - 1; i >= 0; i--) {\n      const el = current[i];\n      if (node !== el) {\n        const isParent = el.parentNode === parent;\n        if (!inserted && !i) isParent ? parent.replaceChild(node, el) : parent.insertBefore(node, marker);else isParent && el.remove();\n      } else inserted = true;\n    }\n  } else parent.insertBefore(node, marker);\n  return [node];\n}\nfunction gatherHydratable(element, root) {\n  const templates = element.querySelectorAll(`*[data-hk]`);\n  for (let i = 0; i < templates.length; i++) {\n    const node = templates[i];\n    const key = node.getAttribute(\"data-hk\");\n    if ((!root || key.startsWith(root)) && !sharedConfig.registry.has(key)) sharedConfig.registry.set(key, node);\n  }\n}\nfunction getHydrationKey() {\n  const hydrate = sharedConfig.context;\n  return `${hydrate.id}${hydrate.count++}`;\n}\nfunction NoHydration(props) {\n  return sharedConfig.context ? undefined : props.children;\n}\nfunction Hydration(props) {\n  return props.children;\n}\nfunction voidFn() {}\n\nfunction throwInBrowser(func) {\n  const err = new Error(`${func.name} is not supported in the browser, returning undefined`);\n  console.error(err);\n}\nfunction renderToString(fn, options) {\n  throwInBrowser(renderToString);\n}\nfunction renderToStringAsync(fn, options) {\n  throwInBrowser(renderToStringAsync);\n}\nfunction renderToStream(fn, options) {\n  throwInBrowser(renderToStream);\n}\nfunction ssr(template, ...nodes) {}\nfunction ssrElement(name, props, children, needsId) {}\nfunction ssrClassList(value) {}\nfunction ssrStyle(value) {}\nfunction ssrAttribute(key, value) {}\nfunction ssrHydrationKey() {}\nfunction resolveSSRNode(node) {}\nfunction escape(html) {}\nfunction ssrSpread(props, isSVG, skipChildren) {}\n\nconst isServer = false;\nconst isDev = false;\nconst SVG_NAMESPACE = \"http://www.w3.org/2000/svg\";\nfunction createElement(tagName, isSVG = false) {\n  return isSVG ? document.createElementNS(SVG_NAMESPACE, tagName) : document.createElement(tagName);\n}\nconst hydrate = (...args) => {\n  enableHydration();\n  return hydrate$1(...args);\n};\nfunction Portal(props) {\n  const {\n      useShadow\n    } = props,\n    marker = document.createTextNode(\"\"),\n    mount = () => props.mount || document.body,\n    owner = getOwner();\n  let content;\n  let hydrating = !!sharedConfig.context;\n  createEffect(() => {\n    if (hydrating) getOwner().user = hydrating = false;\n    content || (content = runWithOwner(owner, () => props.children));\n    const el = mount();\n    if (el instanceof HTMLHeadElement) {\n      const [clean, setClean] = createSignal(false);\n      const cleanup = () => setClean(true);\n      createRoot(dispose => insert(el, () => !clean() ? content : dispose(), null));\n      onCleanup(cleanup);\n    } else {\n      const container = createElement(props.isSVG ? \"g\" : \"div\", props.isSVG),\n        renderRoot = useShadow && container.attachShadow ? container.attachShadow({\n          mode: \"open\"\n        }) : container;\n      Object.defineProperty(container, \"_$host\", {\n        get() {\n          return marker.parentNode;\n        },\n        configurable: true\n      });\n      insert(renderRoot, content);\n      el.appendChild(container);\n      props.ref && props.ref(container);\n      onCleanup(() => el.removeChild(container));\n    }\n  }, undefined, {\n    render: !hydrating\n  });\n  return marker;\n}\nfunction Dynamic(props) {\n  const [p, others] = splitProps(props, [\"component\"]);\n  const cached = createMemo(() => p.component);\n  return createMemo(() => {\n    const component = cached();\n    switch (typeof component) {\n      case \"function\":\n        Object.assign(component, {\n          [$DEVCOMP]: true\n        });\n        return untrack(() => component(others));\n      case \"string\":\n        const isSvg = SVGElements.has(component);\n        const el = sharedConfig.context ? getNextElement() : createElement(component, isSvg);\n        spread(el, others, isSvg);\n        return el;\n    }\n  });\n}\n\nexport { Aliases, voidFn as Assets, ChildProperties, DOMElements, DelegatedEvents, Dynamic, Hydration, voidFn as HydrationScript, NoHydration, Portal, Properties, SVGElements, SVGNamespace, addEventListener, assign, classList, className, clearDelegatedEvents, delegateEvents, dynamicProperty, escape, voidFn as generateHydrationScript, voidFn as getAssets, getHydrationKey, getNextElement, getNextMarker, getNextMatch, getPropAlias, hydrate, innerHTML, insert, isDev, isServer, render, renderToStream, renderToString, renderToStringAsync, resolveSSRNode, runHydrationEvents, setAttribute, setAttributeNS, spread, ssr, ssrAttribute, ssrClassList, ssrElement, ssrHydrationKey, ssrSpread, ssrStyle, style, template, use, voidFn as useAssets };\n","let taskIdCounter = 1,\n  isCallbackScheduled = false,\n  isPerformingWork = false,\n  taskQueue = [],\n  currentTask = null,\n  shouldYieldToHost = null,\n  yieldInterval = 5,\n  deadline = 0,\n  maxYieldInterval = 300,\n  scheduleCallback = null,\n  scheduledCallback = null;\nconst maxSigned31BitInt = 1073741823;\nfunction setupScheduler() {\n  const channel = new MessageChannel(),\n    port = channel.port2;\n  scheduleCallback = () => port.postMessage(null);\n  channel.port1.onmessage = () => {\n    if (scheduledCallback !== null) {\n      const currentTime = performance.now();\n      deadline = currentTime + yieldInterval;\n      const hasTimeRemaining = true;\n      try {\n        const hasMoreWork = scheduledCallback(hasTimeRemaining, currentTime);\n        if (!hasMoreWork) {\n          scheduledCallback = null;\n        } else port.postMessage(null);\n      } catch (error) {\n        port.postMessage(null);\n        throw error;\n      }\n    }\n  };\n  if (navigator && navigator.scheduling && navigator.scheduling.isInputPending) {\n    const scheduling = navigator.scheduling;\n    shouldYieldToHost = () => {\n      const currentTime = performance.now();\n      if (currentTime >= deadline) {\n        if (scheduling.isInputPending()) {\n          return true;\n        }\n        return currentTime >= maxYieldInterval;\n      } else {\n        return false;\n      }\n    };\n  } else {\n    shouldYieldToHost = () => performance.now() >= deadline;\n  }\n}\nfunction enqueue(taskQueue, task) {\n  function findIndex() {\n    let m = 0;\n    let n = taskQueue.length - 1;\n    while (m <= n) {\n      const k = n + m >> 1;\n      const cmp = task.expirationTime - taskQueue[k].expirationTime;\n      if (cmp > 0) m = k + 1;else if (cmp < 0) n = k - 1;else return k;\n    }\n    return m;\n  }\n  taskQueue.splice(findIndex(), 0, task);\n}\nfunction requestCallback(fn, options) {\n  if (!scheduleCallback) setupScheduler();\n  let startTime = performance.now(),\n    timeout = maxSigned31BitInt;\n  if (options && options.timeout) timeout = options.timeout;\n  const newTask = {\n    id: taskIdCounter++,\n    fn,\n    startTime,\n    expirationTime: startTime + timeout\n  };\n  enqueue(taskQueue, newTask);\n  if (!isCallbackScheduled && !isPerformingWork) {\n    isCallbackScheduled = true;\n    scheduledCallback = flushWork;\n    scheduleCallback();\n  }\n  return newTask;\n}\nfunction cancelCallback(task) {\n  task.fn = null;\n}\nfunction flushWork(hasTimeRemaining, initialTime) {\n  isCallbackScheduled = false;\n  isPerformingWork = true;\n  try {\n    return workLoop(hasTimeRemaining, initialTime);\n  } finally {\n    currentTask = null;\n    isPerformingWork = false;\n  }\n}\nfunction workLoop(hasTimeRemaining, initialTime) {\n  let currentTime = initialTime;\n  currentTask = taskQueue[0] || null;\n  while (currentTask !== null) {\n    if (currentTask.expirationTime > currentTime && (!hasTimeRemaining || shouldYieldToHost())) {\n      break;\n    }\n    const callback = currentTask.fn;\n    if (callback !== null) {\n      currentTask.fn = null;\n      const didUserCallbackTimeout = currentTask.expirationTime <= currentTime;\n      callback(didUserCallbackTimeout);\n      currentTime = performance.now();\n      if (currentTask === taskQueue[0]) {\n        taskQueue.shift();\n      }\n    } else taskQueue.shift();\n    currentTask = taskQueue[0] || null;\n  }\n  return currentTask !== null;\n}\n\nconst sharedConfig = {\n  context: undefined,\n  registry: undefined\n};\nfunction setHydrateContext(context) {\n  sharedConfig.context = context;\n}\nfunction nextHydrateContext() {\n  return {\n    ...sharedConfig.context,\n    id: `${sharedConfig.context.id}${sharedConfig.context.count++}-`,\n    count: 0\n  };\n}\n\nconst equalFn = (a, b) => a === b;\nconst $PROXY = Symbol(\"solid-proxy\");\nconst $TRACK = Symbol(\"solid-track\");\nconst $DEVCOMP = Symbol(\"solid-dev-component\");\nconst signalOptions = {\n  equals: equalFn\n};\nlet ERROR = null;\nlet runEffects = runQueue;\nconst STALE = 1;\nconst PENDING = 2;\nconst UNOWNED = {\n  owned: null,\n  cleanups: null,\n  context: null,\n  owner: null\n};\nconst NO_INIT = {};\nvar Owner = null;\nlet Transition = null;\nlet Scheduler = null;\nlet ExternalSourceFactory = null;\nlet Listener = null;\nlet Updates = null;\nlet Effects = null;\nlet ExecCount = 0;\nconst [transPending, setTransPending] = /*@__PURE__*/createSignal(false);\nfunction createRoot(fn, detachedOwner) {\n  const listener = Listener,\n    owner = Owner,\n    unowned = fn.length === 0,\n    root = unowned ? UNOWNED : {\n      owned: null,\n      cleanups: null,\n      context: null,\n      owner: detachedOwner === undefined ? owner : detachedOwner\n    },\n    updateFn = unowned ? fn : () => fn(() => untrack(() => cleanNode(root)));\n  Owner = root;\n  Listener = null;\n  try {\n    return runUpdates(updateFn, true);\n  } finally {\n    Listener = listener;\n    Owner = owner;\n  }\n}\nfunction createSignal(value, options) {\n  options = options ? Object.assign({}, signalOptions, options) : signalOptions;\n  const s = {\n    value,\n    observers: null,\n    observerSlots: null,\n    comparator: options.equals || undefined\n  };\n  const setter = value => {\n    if (typeof value === \"function\") {\n      if (Transition && Transition.running && Transition.sources.has(s)) value = value(s.tValue);else value = value(s.value);\n    }\n    return writeSignal(s, value);\n  };\n  return [readSignal.bind(s), setter];\n}\nfunction createComputed(fn, value, options) {\n  const c = createComputation(fn, value, true, STALE);\n  if (Scheduler && Transition && Transition.running) Updates.push(c);else updateComputation(c);\n}\nfunction createRenderEffect(fn, value, options) {\n  const c = createComputation(fn, value, false, STALE);\n  if (Scheduler && Transition && Transition.running) Updates.push(c);else updateComputation(c);\n}\nfunction createEffect(fn, value, options) {\n  runEffects = runUserEffects;\n  const c = createComputation(fn, value, false, STALE),\n    s = SuspenseContext && lookup(Owner, SuspenseContext.id);\n  if (s) c.suspense = s;\n  if (!options || !options.render) c.user = true;\n  Effects ? Effects.push(c) : updateComputation(c);\n}\nfunction createReaction(onInvalidate, options) {\n  let fn;\n  const c = createComputation(() => {\n      fn ? fn() : untrack(onInvalidate);\n      fn = undefined;\n    }, undefined, false, 0),\n    s = SuspenseContext && lookup(Owner, SuspenseContext.id);\n  if (s) c.suspense = s;\n  c.user = true;\n  return tracking => {\n    fn = tracking;\n    updateComputation(c);\n  };\n}\nfunction createMemo(fn, value, options) {\n  options = options ? Object.assign({}, signalOptions, options) : signalOptions;\n  const c = createComputation(fn, value, true, 0);\n  c.observers = null;\n  c.observerSlots = null;\n  c.comparator = options.equals || undefined;\n  if (Scheduler && Transition && Transition.running) {\n    c.tState = STALE;\n    Updates.push(c);\n  } else updateComputation(c);\n  return readSignal.bind(c);\n}\nfunction createResource(pSource, pFetcher, pOptions) {\n  let source;\n  let fetcher;\n  let options;\n  if (arguments.length === 2 && typeof pFetcher === \"object\" || arguments.length === 1) {\n    source = true;\n    fetcher = pSource;\n    options = pFetcher || {};\n  } else {\n    source = pSource;\n    fetcher = pFetcher;\n    options = pOptions || {};\n  }\n  let pr = null,\n    initP = NO_INIT,\n    id = null,\n    loadedUnderTransition = false,\n    scheduled = false,\n    resolved = (\"initialValue\" in options),\n    dynamic = typeof source === \"function\" && createMemo(source);\n  const contexts = new Set(),\n    [value, setValue] = (options.storage || createSignal)(options.initialValue),\n    [error, setError] = createSignal(undefined),\n    [track, trigger] = createSignal(undefined, {\n      equals: false\n    }),\n    [state, setState] = createSignal(resolved ? \"ready\" : \"unresolved\");\n  if (sharedConfig.context) {\n    id = `${sharedConfig.context.id}${sharedConfig.context.count++}`;\n    let v;\n    if (options.ssrLoadFrom === \"initial\") initP = options.initialValue;else if (sharedConfig.load && (v = sharedConfig.load(id))) initP = v[0];\n  }\n  function loadEnd(p, v, error, key) {\n    if (pr === p) {\n      pr = null;\n      resolved = true;\n      if ((p === initP || v === initP) && options.onHydrated) queueMicrotask(() => options.onHydrated(key, {\n        value: v\n      }));\n      initP = NO_INIT;\n      if (Transition && p && loadedUnderTransition) {\n        Transition.promises.delete(p);\n        loadedUnderTransition = false;\n        runUpdates(() => {\n          Transition.running = true;\n          completeLoad(v, error);\n        }, false);\n      } else completeLoad(v, error);\n    }\n    return v;\n  }\n  function completeLoad(v, err) {\n    runUpdates(() => {\n      if (err === undefined) setValue(() => v);\n      setState(err !== undefined ? \"errored\" : \"ready\");\n      setError(err);\n      for (const c of contexts.keys()) c.decrement();\n      contexts.clear();\n    }, false);\n  }\n  function read() {\n    const c = SuspenseContext && lookup(Owner, SuspenseContext.id),\n      v = value(),\n      err = error();\n    if (err !== undefined && !pr) throw err;\n    if (Listener && !Listener.user && c) {\n      createComputed(() => {\n        track();\n        if (pr) {\n          if (c.resolved && Transition && loadedUnderTransition) Transition.promises.add(pr);else if (!contexts.has(c)) {\n            c.increment();\n            contexts.add(c);\n          }\n        }\n      });\n    }\n    return v;\n  }\n  function load(refetching = true) {\n    if (refetching !== false && scheduled) return;\n    scheduled = false;\n    const lookup = dynamic ? dynamic() : source;\n    loadedUnderTransition = Transition && Transition.running;\n    if (lookup == null || lookup === false) {\n      loadEnd(pr, untrack(value));\n      return;\n    }\n    if (Transition && pr) Transition.promises.delete(pr);\n    const p = initP !== NO_INIT ? initP : untrack(() => fetcher(lookup, {\n      value: value(),\n      refetching\n    }));\n    if (typeof p !== \"object\" || !(p && \"then\" in p)) {\n      loadEnd(pr, p, undefined, lookup);\n      return p;\n    }\n    pr = p;\n    scheduled = true;\n    queueMicrotask(() => scheduled = false);\n    runUpdates(() => {\n      setState(resolved ? \"refreshing\" : \"pending\");\n      trigger();\n    }, false);\n    return p.then(v => loadEnd(p, v, undefined, lookup), e => loadEnd(p, undefined, castError(e), lookup));\n  }\n  Object.defineProperties(read, {\n    state: {\n      get: () => state()\n    },\n    error: {\n      get: () => error()\n    },\n    loading: {\n      get() {\n        const s = state();\n        return s === \"pending\" || s === \"refreshing\";\n      }\n    },\n    latest: {\n      get() {\n        if (!resolved) return read();\n        const err = error();\n        if (err && !pr) throw err;\n        return value();\n      }\n    }\n  });\n  if (dynamic) createComputed(() => load(false));else load(false);\n  return [read, {\n    refetch: load,\n    mutate: setValue\n  }];\n}\nfunction createDeferred(source, options) {\n  let t,\n    timeout = options ? options.timeoutMs : undefined;\n  const node = createComputation(() => {\n    if (!t || !t.fn) t = requestCallback(() => setDeferred(() => node.value), timeout !== undefined ? {\n      timeout\n    } : undefined);\n    return source();\n  }, undefined, true);\n  const [deferred, setDeferred] = createSignal(node.value, options);\n  updateComputation(node);\n  setDeferred(() => node.value);\n  return deferred;\n}\nfunction createSelector(source, fn = equalFn, options) {\n  const subs = new Map();\n  const node = createComputation(p => {\n    const v = source();\n    for (const [key, val] of subs.entries()) if (fn(key, v) !== fn(key, p)) {\n      for (const c of val.values()) {\n        c.state = STALE;\n        if (c.pure) Updates.push(c);else Effects.push(c);\n      }\n    }\n    return v;\n  }, undefined, true, STALE);\n  updateComputation(node);\n  return key => {\n    const listener = Listener;\n    if (listener) {\n      let l;\n      if (l = subs.get(key)) l.add(listener);else subs.set(key, l = new Set([listener]));\n      onCleanup(() => {\n        l.delete(listener);\n        !l.size && subs.delete(key);\n      });\n    }\n    return fn(key, Transition && Transition.running && Transition.sources.has(node) ? node.tValue : node.value);\n  };\n}\nfunction batch(fn) {\n  return runUpdates(fn, false);\n}\nfunction untrack(fn) {\n  if (Listener === null) return fn();\n  const listener = Listener;\n  Listener = null;\n  try {\n    return fn();\n  } finally {\n    Listener = listener;\n  }\n}\nfunction on(deps, fn, options) {\n  const isArray = Array.isArray(deps);\n  let prevInput;\n  let defer = options && options.defer;\n  return prevValue => {\n    let input;\n    if (isArray) {\n      input = Array(deps.length);\n      for (let i = 0; i < deps.length; i++) input[i] = deps[i]();\n    } else input = deps();\n    if (defer) {\n      defer = false;\n      return undefined;\n    }\n    const result = untrack(() => fn(input, prevInput, prevValue));\n    prevInput = input;\n    return result;\n  };\n}\nfunction onMount(fn) {\n  createEffect(() => untrack(fn));\n}\nfunction onCleanup(fn) {\n  if (Owner === null) ;else if (Owner.cleanups === null) Owner.cleanups = [fn];else Owner.cleanups.push(fn);\n  return fn;\n}\nfunction catchError(fn, handler) {\n  ERROR || (ERROR = Symbol(\"error\"));\n  Owner = createComputation(undefined, undefined, true);\n  Owner.context = {\n    [ERROR]: [handler]\n  };\n  if (Transition && Transition.running) Transition.sources.add(Owner);\n  try {\n    return fn();\n  } catch (err) {\n    handleError(err);\n  } finally {\n    Owner = Owner.owner;\n  }\n}\nfunction onError(fn) {\n  ERROR || (ERROR = Symbol(\"error\"));\n  if (Owner === null) ;else if (Owner.context === null) Owner.context = {\n    [ERROR]: [fn]\n  };else if (!Owner.context[ERROR]) Owner.context[ERROR] = [fn];else Owner.context[ERROR].push(fn);\n}\nfunction getListener() {\n  return Listener;\n}\nfunction getOwner() {\n  return Owner;\n}\nfunction runWithOwner(o, fn) {\n  const prev = Owner;\n  const prevListener = Listener;\n  Owner = o;\n  Listener = null;\n  try {\n    return runUpdates(fn, true);\n  } catch (err) {\n    handleError(err);\n  } finally {\n    Owner = prev;\n    Listener = prevListener;\n  }\n}\nfunction enableScheduling(scheduler = requestCallback) {\n  Scheduler = scheduler;\n}\nfunction startTransition(fn) {\n  if (Transition && Transition.running) {\n    fn();\n    return Transition.done;\n  }\n  const l = Listener;\n  const o = Owner;\n  return Promise.resolve().then(() => {\n    Listener = l;\n    Owner = o;\n    let t;\n    if (Scheduler || SuspenseContext) {\n      t = Transition || (Transition = {\n        sources: new Set(),\n        effects: [],\n        promises: new Set(),\n        disposed: new Set(),\n        queue: new Set(),\n        running: true\n      });\n      t.done || (t.done = new Promise(res => t.resolve = res));\n      t.running = true;\n    }\n    runUpdates(fn, false);\n    Listener = Owner = null;\n    return t ? t.done : undefined;\n  });\n}\nfunction useTransition() {\n  return [transPending, startTransition];\n}\nfunction resumeEffects(e) {\n  Effects.push.apply(Effects, e);\n  e.length = 0;\n}\nfunction createContext(defaultValue, options) {\n  const id = Symbol(\"context\");\n  return {\n    id,\n    Provider: createProvider(id),\n    defaultValue\n  };\n}\nfunction useContext(context) {\n  let ctx;\n  return (ctx = lookup(Owner, context.id)) !== undefined ? ctx : context.defaultValue;\n}\nfunction children(fn) {\n  const children = createMemo(fn);\n  const memo = createMemo(() => resolveChildren(children()));\n  memo.toArray = () => {\n    const c = memo();\n    return Array.isArray(c) ? c : c != null ? [c] : [];\n  };\n  return memo;\n}\nlet SuspenseContext;\nfunction getSuspenseContext() {\n  return SuspenseContext || (SuspenseContext = createContext({}));\n}\nfunction enableExternalSource(factory) {\n  if (ExternalSourceFactory) {\n    const oldFactory = ExternalSourceFactory;\n    ExternalSourceFactory = (fn, trigger) => {\n      const oldSource = oldFactory(fn, trigger);\n      const source = factory(x => oldSource.track(x), trigger);\n      return {\n        track: x => source.track(x),\n        dispose() {\n          source.dispose();\n          oldSource.dispose();\n        }\n      };\n    };\n  } else {\n    ExternalSourceFactory = factory;\n  }\n}\nfunction readSignal() {\n  const runningTransition = Transition && Transition.running;\n  if (this.sources && (runningTransition ? this.tState : this.state)) {\n    if ((runningTransition ? this.tState : this.state) === STALE) updateComputation(this);else {\n      const updates = Updates;\n      Updates = null;\n      runUpdates(() => lookUpstream(this), false);\n      Updates = updates;\n    }\n  }\n  if (Listener) {\n    const sSlot = this.observers ? this.observers.length : 0;\n    if (!Listener.sources) {\n      Listener.sources = [this];\n      Listener.sourceSlots = [sSlot];\n    } else {\n      Listener.sources.push(this);\n      Listener.sourceSlots.push(sSlot);\n    }\n    if (!this.observers) {\n      this.observers = [Listener];\n      this.observerSlots = [Listener.sources.length - 1];\n    } else {\n      this.observers.push(Listener);\n      this.observerSlots.push(Listener.sources.length - 1);\n    }\n  }\n  if (runningTransition && Transition.sources.has(this)) return this.tValue;\n  return this.value;\n}\nfunction writeSignal(node, value, isComp) {\n  let current = Transition && Transition.running && Transition.sources.has(node) ? node.tValue : node.value;\n  if (!node.comparator || !node.comparator(current, value)) {\n    if (Transition) {\n      const TransitionRunning = Transition.running;\n      if (TransitionRunning || !isComp && Transition.sources.has(node)) {\n        Transition.sources.add(node);\n        node.tValue = value;\n      }\n      if (!TransitionRunning) node.value = value;\n    } else node.value = value;\n    if (node.observers && node.observers.length) {\n      runUpdates(() => {\n        for (let i = 0; i < node.observers.length; i += 1) {\n          const o = node.observers[i];\n          const TransitionRunning = Transition && Transition.running;\n          if (TransitionRunning && Transition.disposed.has(o)) continue;\n          if (TransitionRunning ? !o.tState : !o.state) {\n            if (o.pure) Updates.push(o);else Effects.push(o);\n            if (o.observers) markDownstream(o);\n          }\n          if (!TransitionRunning) o.state = STALE;else o.tState = STALE;\n        }\n        if (Updates.length > 10e5) {\n          Updates = [];\n          if (false) ;\n          throw new Error();\n        }\n      }, false);\n    }\n  }\n  return value;\n}\nfunction updateComputation(node) {\n  if (!node.fn) return;\n  cleanNode(node);\n  const owner = Owner,\n    listener = Listener,\n    time = ExecCount;\n  Listener = Owner = node;\n  runComputation(node, Transition && Transition.running && Transition.sources.has(node) ? node.tValue : node.value, time);\n  if (Transition && !Transition.running && Transition.sources.has(node)) {\n    queueMicrotask(() => {\n      runUpdates(() => {\n        Transition && (Transition.running = true);\n        Listener = Owner = node;\n        runComputation(node, node.tValue, time);\n        Listener = Owner = null;\n      }, false);\n    });\n  }\n  Listener = listener;\n  Owner = owner;\n}\nfunction runComputation(node, value, time) {\n  let nextValue;\n  try {\n    nextValue = node.fn(value);\n  } catch (err) {\n    if (node.pure) {\n      if (Transition && Transition.running) {\n        node.tState = STALE;\n        node.tOwned && node.tOwned.forEach(cleanNode);\n        node.tOwned = undefined;\n      } else {\n        node.state = STALE;\n        node.owned && node.owned.forEach(cleanNode);\n        node.owned = null;\n      }\n    }\n    node.updatedAt = time + 1;\n    return handleError(err);\n  }\n  if (!node.updatedAt || node.updatedAt <= time) {\n    if (node.updatedAt != null && \"observers\" in node) {\n      writeSignal(node, nextValue, true);\n    } else if (Transition && Transition.running && node.pure) {\n      Transition.sources.add(node);\n      node.tValue = nextValue;\n    } else node.value = nextValue;\n    node.updatedAt = time;\n  }\n}\nfunction createComputation(fn, init, pure, state = STALE, options) {\n  const c = {\n    fn,\n    state: state,\n    updatedAt: null,\n    owned: null,\n    sources: null,\n    sourceSlots: null,\n    cleanups: null,\n    value: init,\n    owner: Owner,\n    context: null,\n    pure\n  };\n  if (Transition && Transition.running) {\n    c.state = 0;\n    c.tState = state;\n  }\n  if (Owner === null) ;else if (Owner !== UNOWNED) {\n    if (Transition && Transition.running && Owner.pure) {\n      if (!Owner.tOwned) Owner.tOwned = [c];else Owner.tOwned.push(c);\n    } else {\n      if (!Owner.owned) Owner.owned = [c];else Owner.owned.push(c);\n    }\n  }\n  if (ExternalSourceFactory) {\n    const [track, trigger] = createSignal(undefined, {\n      equals: false\n    });\n    const ordinary = ExternalSourceFactory(c.fn, trigger);\n    onCleanup(() => ordinary.dispose());\n    const triggerInTransition = () => startTransition(trigger).then(() => inTransition.dispose());\n    const inTransition = ExternalSourceFactory(c.fn, triggerInTransition);\n    c.fn = x => {\n      track();\n      return Transition && Transition.running ? inTransition.track(x) : ordinary.track(x);\n    };\n  }\n  return c;\n}\nfunction runTop(node) {\n  const runningTransition = Transition && Transition.running;\n  if ((runningTransition ? node.tState : node.state) === 0) return;\n  if ((runningTransition ? node.tState : node.state) === PENDING) return lookUpstream(node);\n  if (node.suspense && untrack(node.suspense.inFallback)) return node.suspense.effects.push(node);\n  const ancestors = [node];\n  while ((node = node.owner) && (!node.updatedAt || node.updatedAt < ExecCount)) {\n    if (runningTransition && Transition.disposed.has(node)) return;\n    if (runningTransition ? node.tState : node.state) ancestors.push(node);\n  }\n  for (let i = ancestors.length - 1; i >= 0; i--) {\n    node = ancestors[i];\n    if (runningTransition) {\n      let top = node,\n        prev = ancestors[i + 1];\n      while ((top = top.owner) && top !== prev) {\n        if (Transition.disposed.has(top)) return;\n      }\n    }\n    if ((runningTransition ? node.tState : node.state) === STALE) {\n      updateComputation(node);\n    } else if ((runningTransition ? node.tState : node.state) === PENDING) {\n      const updates = Updates;\n      Updates = null;\n      runUpdates(() => lookUpstream(node, ancestors[0]), false);\n      Updates = updates;\n    }\n  }\n}\nfunction runUpdates(fn, init) {\n  if (Updates) return fn();\n  let wait = false;\n  if (!init) Updates = [];\n  if (Effects) wait = true;else Effects = [];\n  ExecCount++;\n  try {\n    const res = fn();\n    completeUpdates(wait);\n    return res;\n  } catch (err) {\n    if (!wait) Effects = null;\n    Updates = null;\n    handleError(err);\n  }\n}\nfunction completeUpdates(wait) {\n  if (Updates) {\n    if (Scheduler && Transition && Transition.running) scheduleQueue(Updates);else runQueue(Updates);\n    Updates = null;\n  }\n  if (wait) return;\n  let res;\n  if (Transition) {\n    if (!Transition.promises.size && !Transition.queue.size) {\n      const sources = Transition.sources;\n      const disposed = Transition.disposed;\n      Effects.push.apply(Effects, Transition.effects);\n      res = Transition.resolve;\n      for (const e of Effects) {\n        \"tState\" in e && (e.state = e.tState);\n        delete e.tState;\n      }\n      Transition = null;\n      runUpdates(() => {\n        for (const d of disposed) cleanNode(d);\n        for (const v of sources) {\n          v.value = v.tValue;\n          if (v.owned) {\n            for (let i = 0, len = v.owned.length; i < len; i++) cleanNode(v.owned[i]);\n          }\n          if (v.tOwned) v.owned = v.tOwned;\n          delete v.tValue;\n          delete v.tOwned;\n          v.tState = 0;\n        }\n        setTransPending(false);\n      }, false);\n    } else if (Transition.running) {\n      Transition.running = false;\n      Transition.effects.push.apply(Transition.effects, Effects);\n      Effects = null;\n      setTransPending(true);\n      return;\n    }\n  }\n  const e = Effects;\n  Effects = null;\n  if (e.length) runUpdates(() => runEffects(e), false);\n  if (res) res();\n}\nfunction runQueue(queue) {\n  for (let i = 0; i < queue.length; i++) runTop(queue[i]);\n}\nfunction scheduleQueue(queue) {\n  for (let i = 0; i < queue.length; i++) {\n    const item = queue[i];\n    const tasks = Transition.queue;\n    if (!tasks.has(item)) {\n      tasks.add(item);\n      Scheduler(() => {\n        tasks.delete(item);\n        runUpdates(() => {\n          Transition.running = true;\n          runTop(item);\n        }, false);\n        Transition && (Transition.running = false);\n      });\n    }\n  }\n}\nfunction runUserEffects(queue) {\n  let i,\n    userLength = 0;\n  for (i = 0; i < queue.length; i++) {\n    const e = queue[i];\n    if (!e.user) runTop(e);else queue[userLength++] = e;\n  }\n  if (sharedConfig.context) setHydrateContext();\n  for (i = 0; i < userLength; i++) runTop(queue[i]);\n}\nfunction lookUpstream(node, ignore) {\n  const runningTransition = Transition && Transition.running;\n  if (runningTransition) node.tState = 0;else node.state = 0;\n  for (let i = 0; i < node.sources.length; i += 1) {\n    const source = node.sources[i];\n    if (source.sources) {\n      const state = runningTransition ? source.tState : source.state;\n      if (state === STALE) {\n        if (source !== ignore && (!source.updatedAt || source.updatedAt < ExecCount)) runTop(source);\n      } else if (state === PENDING) lookUpstream(source, ignore);\n    }\n  }\n}\nfunction markDownstream(node) {\n  const runningTransition = Transition && Transition.running;\n  for (let i = 0; i < node.observers.length; i += 1) {\n    const o = node.observers[i];\n    if (runningTransition ? !o.tState : !o.state) {\n      if (runningTransition) o.tState = PENDING;else o.state = PENDING;\n      if (o.pure) Updates.push(o);else Effects.push(o);\n      o.observers && markDownstream(o);\n    }\n  }\n}\nfunction cleanNode(node) {\n  let i;\n  if (node.sources) {\n    while (node.sources.length) {\n      const source = node.sources.pop(),\n        index = node.sourceSlots.pop(),\n        obs = source.observers;\n      if (obs && obs.length) {\n        const n = obs.pop(),\n          s = source.observerSlots.pop();\n        if (index < obs.length) {\n          n.sourceSlots[s] = index;\n          obs[index] = n;\n          source.observerSlots[index] = s;\n        }\n      }\n    }\n  }\n  if (Transition && Transition.running && node.pure) {\n    if (node.tOwned) {\n      for (i = node.tOwned.length - 1; i >= 0; i--) cleanNode(node.tOwned[i]);\n      delete node.tOwned;\n    }\n    reset(node, true);\n  } else if (node.owned) {\n    for (i = node.owned.length - 1; i >= 0; i--) cleanNode(node.owned[i]);\n    node.owned = null;\n  }\n  if (node.cleanups) {\n    for (i = node.cleanups.length - 1; i >= 0; i--) node.cleanups[i]();\n    node.cleanups = null;\n  }\n  if (Transition && Transition.running) node.tState = 0;else node.state = 0;\n  node.context = null;\n}\nfunction reset(node, top) {\n  if (!top) {\n    node.tState = 0;\n    Transition.disposed.add(node);\n  }\n  if (node.owned) {\n    for (let i = 0; i < node.owned.length; i++) reset(node.owned[i]);\n  }\n}\nfunction castError(err) {\n  if (err instanceof Error) return err;\n  return new Error(typeof err === \"string\" ? err : \"Unknown error\", {\n    cause: err\n  });\n}\nfunction runErrors(fns, err) {\n  for (const f of fns) f(err);\n}\nfunction handleError(err) {\n  const fns = ERROR && lookup(Owner, ERROR);\n  if (!fns) throw err;\n  const error = castError(err);\n  if (Effects) Effects.push({\n    fn() {\n      runErrors(fns, error);\n    },\n    state: STALE\n  });else runErrors(fns, error);\n}\nfunction lookup(owner, key) {\n  return owner ? owner.context && owner.context[key] !== undefined ? owner.context[key] : lookup(owner.owner, key) : undefined;\n}\nfunction resolveChildren(children) {\n  if (typeof children === \"function\" && !children.length) return resolveChildren(children());\n  if (Array.isArray(children)) {\n    const results = [];\n    for (let i = 0; i < children.length; i++) {\n      const result = resolveChildren(children[i]);\n      Array.isArray(result) ? results.push.apply(results, result) : results.push(result);\n    }\n    return results;\n  }\n  return children;\n}\nfunction createProvider(id, options) {\n  return function provider(props) {\n    let res;\n    createRenderEffect(() => res = untrack(() => {\n      Owner.context = {\n        [id]: props.value\n      };\n      return children(() => props.children);\n    }), undefined);\n    return res;\n  };\n}\n\nfunction observable(input) {\n  return {\n    subscribe(observer) {\n      if (!(observer instanceof Object) || observer == null) {\n        throw new TypeError(\"Expected the observer to be an object.\");\n      }\n      const handler = typeof observer === \"function\" ? observer : observer.next && observer.next.bind(observer);\n      if (!handler) {\n        return {\n          unsubscribe() {}\n        };\n      }\n      const dispose = createRoot(disposer => {\n        createEffect(() => {\n          const v = input();\n          untrack(() => handler(v));\n        });\n        return disposer;\n      });\n      if (getOwner()) onCleanup(dispose);\n      return {\n        unsubscribe() {\n          dispose();\n        }\n      };\n    },\n    [Symbol.observable || \"@@observable\"]() {\n      return this;\n    }\n  };\n}\nfunction from(producer) {\n  const [s, set] = createSignal(undefined, {\n    equals: false\n  });\n  if (\"subscribe\" in producer) {\n    const unsub = producer.subscribe(v => set(() => v));\n    onCleanup(() => \"unsubscribe\" in unsub ? unsub.unsubscribe() : unsub());\n  } else {\n    const clean = producer(set);\n    onCleanup(clean);\n  }\n  return s;\n}\n\nconst FALLBACK = Symbol(\"fallback\");\nfunction dispose(d) {\n  for (let i = 0; i < d.length; i++) d[i]();\n}\nfunction mapArray(list, mapFn, options = {}) {\n  let items = [],\n    mapped = [],\n    disposers = [],\n    len = 0,\n    indexes = mapFn.length > 1 ? [] : null;\n  onCleanup(() => dispose(disposers));\n  return () => {\n    let newItems = list() || [],\n      i,\n      j;\n    newItems[$TRACK];\n    return untrack(() => {\n      let newLen = newItems.length,\n        newIndices,\n        newIndicesNext,\n        temp,\n        tempdisposers,\n        tempIndexes,\n        start,\n        end,\n        newEnd,\n        item;\n      if (newLen === 0) {\n        if (len !== 0) {\n          dispose(disposers);\n          disposers = [];\n          items = [];\n          mapped = [];\n          len = 0;\n          indexes && (indexes = []);\n        }\n        if (options.fallback) {\n          items = [FALLBACK];\n          mapped[0] = createRoot(disposer => {\n            disposers[0] = disposer;\n            return options.fallback();\n          });\n          len = 1;\n        }\n      }\n      else if (len === 0) {\n        mapped = new Array(newLen);\n        for (j = 0; j < newLen; j++) {\n          items[j] = newItems[j];\n          mapped[j] = createRoot(mapper);\n        }\n        len = newLen;\n      } else {\n        temp = new Array(newLen);\n        tempdisposers = new Array(newLen);\n        indexes && (tempIndexes = new Array(newLen));\n        for (start = 0, end = Math.min(len, newLen); start < end && items[start] === newItems[start]; start++);\n        for (end = len - 1, newEnd = newLen - 1; end >= start && newEnd >= start && items[end] === newItems[newEnd]; end--, newEnd--) {\n          temp[newEnd] = mapped[end];\n          tempdisposers[newEnd] = disposers[end];\n          indexes && (tempIndexes[newEnd] = indexes[end]);\n        }\n        newIndices = new Map();\n        newIndicesNext = new Array(newEnd + 1);\n        for (j = newEnd; j >= start; j--) {\n          item = newItems[j];\n          i = newIndices.get(item);\n          newIndicesNext[j] = i === undefined ? -1 : i;\n          newIndices.set(item, j);\n        }\n        for (i = start; i <= end; i++) {\n          item = items[i];\n          j = newIndices.get(item);\n          if (j !== undefined && j !== -1) {\n            temp[j] = mapped[i];\n            tempdisposers[j] = disposers[i];\n            indexes && (tempIndexes[j] = indexes[i]);\n            j = newIndicesNext[j];\n            newIndices.set(item, j);\n          } else disposers[i]();\n        }\n        for (j = start; j < newLen; j++) {\n          if (j in temp) {\n            mapped[j] = temp[j];\n            disposers[j] = tempdisposers[j];\n            if (indexes) {\n              indexes[j] = tempIndexes[j];\n              indexes[j](j);\n            }\n          } else mapped[j] = createRoot(mapper);\n        }\n        mapped = mapped.slice(0, len = newLen);\n        items = newItems.slice(0);\n      }\n      return mapped;\n    });\n    function mapper(disposer) {\n      disposers[j] = disposer;\n      if (indexes) {\n        const [s, set] = createSignal(j);\n        indexes[j] = set;\n        return mapFn(newItems[j], s);\n      }\n      return mapFn(newItems[j]);\n    }\n  };\n}\nfunction indexArray(list, mapFn, options = {}) {\n  let items = [],\n    mapped = [],\n    disposers = [],\n    signals = [],\n    len = 0,\n    i;\n  onCleanup(() => dispose(disposers));\n  return () => {\n    const newItems = list() || [];\n    newItems[$TRACK];\n    return untrack(() => {\n      if (newItems.length === 0) {\n        if (len !== 0) {\n          dispose(disposers);\n          disposers = [];\n          items = [];\n          mapped = [];\n          len = 0;\n          signals = [];\n        }\n        if (options.fallback) {\n          items = [FALLBACK];\n          mapped[0] = createRoot(disposer => {\n            disposers[0] = disposer;\n            return options.fallback();\n          });\n          len = 1;\n        }\n        return mapped;\n      }\n      if (items[0] === FALLBACK) {\n        disposers[0]();\n        disposers = [];\n        items = [];\n        mapped = [];\n        len = 0;\n      }\n      for (i = 0; i < newItems.length; i++) {\n        if (i < items.length && items[i] !== newItems[i]) {\n          signals[i](() => newItems[i]);\n        } else if (i >= items.length) {\n          mapped[i] = createRoot(mapper);\n        }\n      }\n      for (; i < items.length; i++) {\n        disposers[i]();\n      }\n      len = signals.length = disposers.length = newItems.length;\n      items = newItems.slice(0);\n      return mapped = mapped.slice(0, len);\n    });\n    function mapper(disposer) {\n      disposers[i] = disposer;\n      const [s, set] = createSignal(newItems[i]);\n      signals[i] = set;\n      return mapFn(s, i);\n    }\n  };\n}\n\nlet hydrationEnabled = false;\nfunction enableHydration() {\n  hydrationEnabled = true;\n}\nfunction createComponent(Comp, props) {\n  if (hydrationEnabled) {\n    if (sharedConfig.context) {\n      const c = sharedConfig.context;\n      setHydrateContext(nextHydrateContext());\n      const r = untrack(() => Comp(props || {}));\n      setHydrateContext(c);\n      return r;\n    }\n  }\n  return untrack(() => Comp(props || {}));\n}\nfunction trueFn() {\n  return true;\n}\nconst propTraps = {\n  get(_, property, receiver) {\n    if (property === $PROXY) return receiver;\n    return _.get(property);\n  },\n  has(_, property) {\n    if (property === $PROXY) return true;\n    return _.has(property);\n  },\n  set: trueFn,\n  deleteProperty: trueFn,\n  getOwnPropertyDescriptor(_, property) {\n    return {\n      configurable: true,\n      enumerable: true,\n      get() {\n        return _.get(property);\n      },\n      set: trueFn,\n      deleteProperty: trueFn\n    };\n  },\n  ownKeys(_) {\n    return _.keys();\n  }\n};\nfunction resolveSource(s) {\n  return !(s = typeof s === \"function\" ? s() : s) ? {} : s;\n}\nfunction mergeProps(...sources) {\n  let proxy = false;\n  for (let i = 0; i < sources.length; i++) {\n    const s = sources[i];\n    proxy = proxy || !!s && $PROXY in s;\n    sources[i] = typeof s === \"function\" ? (proxy = true, createMemo(s)) : s;\n  }\n  if (proxy) {\n    return new Proxy({\n      get(property) {\n        for (let i = sources.length - 1; i >= 0; i--) {\n          const v = resolveSource(sources[i])[property];\n          if (v !== undefined) return v;\n        }\n      },\n      has(property) {\n        for (let i = sources.length - 1; i >= 0; i--) {\n          if (property in resolveSource(sources[i])) return true;\n        }\n        return false;\n      },\n      keys() {\n        const keys = [];\n        for (let i = 0; i < sources.length; i++) keys.push(...Object.keys(resolveSource(sources[i])));\n        return [...new Set(keys)];\n      }\n    }, propTraps);\n  }\n  const target = {};\n  for (let i = sources.length - 1; i >= 0; i--) {\n    if (sources[i]) {\n      const descriptors = Object.getOwnPropertyDescriptors(sources[i]);\n      for (const key in descriptors) {\n        if (key in target) continue;\n        Object.defineProperty(target, key, {\n          enumerable: true,\n          get() {\n            for (let i = sources.length - 1; i >= 0; i--) {\n              const v = (sources[i] || {})[key];\n              if (v !== undefined) return v;\n            }\n          }\n        });\n      }\n    }\n  }\n  return target;\n}\nfunction splitProps(props, ...keys) {\n  const blocked = new Set(keys.flat());\n  if ($PROXY in props) {\n    const res = keys.map(k => {\n      return new Proxy({\n        get(property) {\n          return k.includes(property) ? props[property] : undefined;\n        },\n        has(property) {\n          return k.includes(property) && property in props;\n        },\n        keys() {\n          return k.filter(property => property in props);\n        }\n      }, propTraps);\n    });\n    res.push(new Proxy({\n      get(property) {\n        return blocked.has(property) ? undefined : props[property];\n      },\n      has(property) {\n        return blocked.has(property) ? false : property in props;\n      },\n      keys() {\n        return Object.keys(props).filter(k => !blocked.has(k));\n      }\n    }, propTraps));\n    return res;\n  }\n  const descriptors = Object.getOwnPropertyDescriptors(props);\n  keys.push(Object.keys(descriptors).filter(k => !blocked.has(k)));\n  return keys.map(k => {\n    const clone = {};\n    for (let i = 0; i < k.length; i++) {\n      const key = k[i];\n      if (!(key in props)) continue;\n      Object.defineProperty(clone, key, descriptors[key] ? descriptors[key] : {\n        get() {\n          return props[key];\n        },\n        set() {\n          return true;\n        },\n        enumerable: true\n      });\n    }\n    return clone;\n  });\n}\nfunction lazy(fn) {\n  let comp;\n  let p;\n  const wrap = props => {\n    const ctx = sharedConfig.context;\n    if (ctx) {\n      const [s, set] = createSignal();\n      (p || (p = fn())).then(mod => {\n        setHydrateContext(ctx);\n        set(() => mod.default);\n        setHydrateContext();\n      });\n      comp = s;\n    } else if (!comp) {\n      const [s] = createResource(() => (p || (p = fn())).then(mod => mod.default));\n      comp = s;\n    }\n    let Comp;\n    return createMemo(() => (Comp = comp()) && untrack(() => {\n      if (false) ;\n      if (!ctx) return Comp(props);\n      const c = sharedConfig.context;\n      setHydrateContext(ctx);\n      const r = Comp(props);\n      setHydrateContext(c);\n      return r;\n    }));\n  };\n  wrap.preload = () => p || ((p = fn()).then(mod => comp = () => mod.default), p);\n  return wrap;\n}\nlet counter = 0;\nfunction createUniqueId() {\n  const ctx = sharedConfig.context;\n  return ctx ? `${ctx.id}${ctx.count++}` : `cl-${counter++}`;\n}\n\nconst narrowedError = name => `Stale read from <${name}>.`;\nfunction For(props) {\n  const fallback = \"fallback\" in props && {\n    fallback: () => props.fallback\n  };\n  return createMemo(mapArray(() => props.each, props.children, fallback || undefined));\n}\nfunction Index(props) {\n  const fallback = \"fallback\" in props && {\n    fallback: () => props.fallback\n  };\n  return createMemo(indexArray(() => props.each, props.children, fallback || undefined));\n}\nfunction Show(props) {\n  const keyed = props.keyed;\n  const condition = createMemo(() => props.when, undefined, {\n    equals: (a, b) => keyed ? a === b : !a === !b\n  });\n  return createMemo(() => {\n    const c = condition();\n    if (c) {\n      const child = props.children;\n      const fn = typeof child === \"function\" && child.length > 0;\n      return fn ? untrack(() => child(keyed ? c : () => {\n        if (!untrack(condition)) throw narrowedError(\"Show\");\n        return props.when;\n      })) : child;\n    }\n    return props.fallback;\n  }, undefined, undefined);\n}\nfunction Switch(props) {\n  let keyed = false;\n  const equals = (a, b) => a[0] === b[0] && (keyed ? a[1] === b[1] : !a[1] === !b[1]) && a[2] === b[2];\n  const conditions = children(() => props.children),\n    evalConditions = createMemo(() => {\n      let conds = conditions();\n      if (!Array.isArray(conds)) conds = [conds];\n      for (let i = 0; i < conds.length; i++) {\n        const c = conds[i].when;\n        if (c) {\n          keyed = !!conds[i].keyed;\n          return [i, c, conds[i]];\n        }\n      }\n      return [-1];\n    }, undefined, {\n      equals\n    });\n  return createMemo(() => {\n    const [index, when, cond] = evalConditions();\n    if (index < 0) return props.fallback;\n    const c = cond.children;\n    const fn = typeof c === \"function\" && c.length > 0;\n    return fn ? untrack(() => c(keyed ? when : () => {\n      if (untrack(evalConditions)[0] !== index) throw narrowedError(\"Match\");\n      return cond.when;\n    })) : c;\n  }, undefined, undefined);\n}\nfunction Match(props) {\n  return props;\n}\nlet Errors;\nfunction resetErrorBoundaries() {\n  Errors && [...Errors].forEach(fn => fn());\n}\nfunction ErrorBoundary(props) {\n  let err;\n  let v;\n  if (sharedConfig.context && sharedConfig.load && (v = sharedConfig.load(sharedConfig.context.id + sharedConfig.context.count))) err = v[0];\n  const [errored, setErrored] = createSignal(err, undefined);\n  Errors || (Errors = new Set());\n  Errors.add(setErrored);\n  onCleanup(() => Errors.delete(setErrored));\n  return createMemo(() => {\n    let e;\n    if (e = errored()) {\n      const f = props.fallback;\n      return typeof f === \"function\" && f.length ? untrack(() => f(e, () => setErrored())) : f;\n    }\n    return catchError(() => props.children, setErrored);\n  }, undefined, undefined);\n}\n\nconst suspenseListEquals = (a, b) => a.showContent === b.showContent && a.showFallback === b.showFallback;\nconst SuspenseListContext = createContext();\nfunction SuspenseList(props) {\n  let [wrapper, setWrapper] = createSignal(() => ({\n      inFallback: false\n    })),\n    show;\n  const listContext = useContext(SuspenseListContext);\n  const [registry, setRegistry] = createSignal([]);\n  if (listContext) {\n    show = listContext.register(createMemo(() => wrapper()().inFallback));\n  }\n  const resolved = createMemo(prev => {\n    const reveal = props.revealOrder,\n      tail = props.tail,\n      {\n        showContent = true,\n        showFallback = true\n      } = show ? show() : {},\n      reg = registry(),\n      reverse = reveal === \"backwards\";\n    if (reveal === \"together\") {\n      const all = reg.every(inFallback => !inFallback());\n      const res = reg.map(() => ({\n        showContent: all && showContent,\n        showFallback\n      }));\n      res.inFallback = !all;\n      return res;\n    }\n    let stop = false;\n    let inFallback = prev.inFallback;\n    const res = [];\n    for (let i = 0, len = reg.length; i < len; i++) {\n      const n = reverse ? len - i - 1 : i,\n        s = reg[n]();\n      if (!stop && !s) {\n        res[n] = {\n          showContent,\n          showFallback\n        };\n      } else {\n        const next = !stop;\n        if (next) inFallback = true;\n        res[n] = {\n          showContent: next,\n          showFallback: !tail || next && tail === \"collapsed\" ? showFallback : false\n        };\n        stop = true;\n      }\n    }\n    if (!stop) inFallback = false;\n    res.inFallback = inFallback;\n    return res;\n  }, {\n    inFallback: false\n  });\n  setWrapper(() => resolved);\n  return createComponent(SuspenseListContext.Provider, {\n    value: {\n      register: inFallback => {\n        let index;\n        setRegistry(registry => {\n          index = registry.length;\n          return [...registry, inFallback];\n        });\n        return createMemo(() => resolved()[index], undefined, {\n          equals: suspenseListEquals\n        });\n      }\n    },\n    get children() {\n      return props.children;\n    }\n  });\n}\nfunction Suspense(props) {\n  let counter = 0,\n    show,\n    ctx,\n    p,\n    flicker,\n    error;\n  const [inFallback, setFallback] = createSignal(false),\n    SuspenseContext = getSuspenseContext(),\n    store = {\n      increment: () => {\n        if (++counter === 1) setFallback(true);\n      },\n      decrement: () => {\n        if (--counter === 0) setFallback(false);\n      },\n      inFallback,\n      effects: [],\n      resolved: false\n    },\n    owner = getOwner();\n  if (sharedConfig.context && sharedConfig.load) {\n    const key = sharedConfig.context.id + sharedConfig.context.count;\n    let ref = sharedConfig.load(key);\n    if (ref && (p = ref[0]) && p !== \"$$f\") {\n      if (typeof p !== \"object\" || !(\"then\" in p)) p = Promise.resolve(p);\n      const [s, set] = createSignal(undefined, {\n        equals: false\n      });\n      flicker = s;\n      p.then(err => {\n        if (err || sharedConfig.done) {\n          err && (error = err);\n          return set();\n        }\n        sharedConfig.gather(key);\n        setHydrateContext(ctx);\n        set();\n        setHydrateContext();\n      });\n    }\n  }\n  const listContext = useContext(SuspenseListContext);\n  if (listContext) show = listContext.register(store.inFallback);\n  let dispose;\n  onCleanup(() => dispose && dispose());\n  return createComponent(SuspenseContext.Provider, {\n    value: store,\n    get children() {\n      return createMemo(() => {\n        if (error) throw error;\n        ctx = sharedConfig.context;\n        if (flicker) {\n          flicker();\n          return flicker = undefined;\n        }\n        if (ctx && p === \"$$f\") setHydrateContext();\n        const rendered = createMemo(() => props.children);\n        return createMemo(prev => {\n          const inFallback = store.inFallback(),\n            {\n              showContent = true,\n              showFallback = true\n            } = show ? show() : {};\n          if ((!inFallback || p && p !== \"$$f\") && showContent) {\n            store.resolved = true;\n            dispose && dispose();\n            dispose = ctx = p = undefined;\n            resumeEffects(store.effects);\n            return rendered();\n          }\n          if (!showFallback) return;\n          if (dispose) return prev;\n          return createRoot(disposer => {\n            dispose = disposer;\n            if (ctx) {\n              setHydrateContext({\n                id: ctx.id + \"f\",\n                count: 0\n              });\n              ctx = undefined;\n            }\n            return props.fallback;\n          }, owner);\n        });\n      });\n    }\n  });\n}\n\nconst DEV = undefined;\n\nexport { $DEVCOMP, $PROXY, $TRACK, DEV, ErrorBoundary, For, Index, Match, Show, Suspense, SuspenseList, Switch, batch, cancelCallback, catchError, children, createComponent, createComputed, createContext, createDeferred, createEffect, createMemo, createReaction, createRenderEffect, createResource, createRoot, createSelector, createSignal, createUniqueId, enableExternalSource, enableHydration, enableScheduling, equalFn, from, getListener, getOwner, indexArray, lazy, mapArray, mergeProps, observable, on, onCleanup, onError, onMount, requestCallback, resetErrorBoundaries, runWithOwner, sharedConfig, splitProps, startTransition, untrack, useContext, useTransition };\n","exports.interopDefault = function (a) {\n  return a && a.__esModule ? a : {default: a};\n};\n\nexports.defineInteropFlag = function (a) {\n  Object.defineProperty(a, '__esModule', {value: true});\n};\n\nexports.exportAll = function (source, dest) {\n  Object.keys(source).forEach(function (key) {\n    if (key === 'default' || key === '__esModule' || dest.hasOwnProperty(key)) {\n      return;\n    }\n\n    Object.defineProperty(dest, key, {\n      enumerable: true,\n      get: function () {\n        return source[key];\n      },\n    });\n  });\n\n  return dest;\n};\n\nexports.export = function (dest, destName, get) {\n  Object.defineProperty(dest, destName, {\n    enumerable: true,\n    get: get,\n  });\n};\n","import { Component } from \"solid-js\";\nimport { TableComponent } from \"./table\";\nimport { Animations, TableController, View, tableDescriptor } from \"./table_controller\";\nimport { AnimationManager } from \"base/animation_manager\";\n\nexport function createTable() {\n  const table = tableDescriptor.create({\n    view: View.TopDownBookCentered,\n  })\n  const animations = new AnimationManager<Animations>(); \n  const controller = new TableController(table, animations);\n\n  function Component(props: { Book: Component }) {\n    return (\n      <TableComponent\n          Book={props.Book}\n          view={table.view} \n          animations={animations}\n      />\n    );\n  }\n\n  return {\n    Component,\n    controller,\n  };\n}","import { Component, Ref } from \"solid-js\";\nimport styles from './table.module.scss';\nimport { Animations, View } from \"./table_controller\";\nimport { AnimationManager } from \"base/animation_manager\";\n\nexport function TableComponent(props: {\n  Book: Component,\n  view: View,\n  animations: AnimationManager<Animations>,\n}) {\n  let tableElement: HTMLDivElement | undefined;\n  return (\n    <div class={styles.container}>\n      <div classList={{\n        [styles.board]: true,\n      }}>\n        <div\n            classList={{\n              [styles.table]: true,\n              [styles.tilted]: props.view === View.Tilted,\n              [styles.topDown]: props.view === View.TopDown,\n              [styles.topDownBookCentered]: props.view === View.TopDownBookCentered,\n            }}\n            onTransitionEnd={props.animations.createTransitionEndCallback('view', tableElement)}\n            ref={tableElement}>\n          <div class={styles['book-slot']}>\n            <props.Book/>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","@value tableWidth: min(120vw, 100vh);\n@value tableHeight: min(100vw, 120vh);\n\n@value pageWidth: 35%;\n@value pageHeight: 45%;\n\n@value bookWidth: pageWidth;\n@value bookHeight: pageHeight;\n\n.container {\n  position: absolute;\n  perspective: calc(tableWidth * 3);\n  perspective-origin: 50% 50%;\n  width: 100%;\n  height: 100%;\n}\n\n.board {\n  position: absolute;\n  left: calc((100vw - tableWidth)/2);\n  top: calc((100vh - tableHeight)/2);\n  width: tableWidth;\n  height: tableHeight;\n}\n\n.table {\n  background-color: green;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  transform-origin: calc(tableWidth/2) tableHeight;\n  transition: transform 1s ease-in-out;\n}\n\n.table.topDown {\n  transform:\n      rotateX(0deg)\n      translateZ(calc(-1 * tableWidth));\n}\n\n.table.topDownBookCentered {\n  // TODO this math is wrong to centre the book\n  transform:\n      rotateX(0deg)\n      translate(calc(-1 * (tableWidth / 4) + bookWidth / 2), calc(tableHeight / 4));\n}\n\n.table.tilted {\n  transform: rotateX(60deg);\n}\n\n.book-slot {\n  position: absolute;\n  top: 5%;\n  left: 50%;\n  width: bookWidth;\n  height: bookHeight;\n  background-color: brown;\n}","import { AnimatedSignal, createAnimationDeferred } from \"base/animated_signal\";\nimport { AnimationHandler } from \"base/animation_handler\";\nimport { AnimationManager } from \"base/animation_manager\";\nimport { LiteralTypeDescriptor } from \"model/descriptor/literals\";\nimport { activeRecordDescriptor, valueRecordDescriptor } from \"model/descriptor/record\";\nimport { signalDescriptor } from \"model/descriptor/signal\";\n\nexport const enum View {\n  TopDown = 0,\n  TopDownBookCentered = 1,\n  Tilted = 2,\n};\n\nexport type Animations = 'view';\n\nconst viewDescriptor = new LiteralTypeDescriptor<View>();\n\nexport const tableDescriptor = activeRecordDescriptor({\n  view: viewDescriptor,\n});\n\nexport type Table = typeof tableDescriptor.aMutable;\nexport type TableState = typeof tableDescriptor.aState;\n\nexport class TableController {\n\n  constructor(\n    private readonly table: Table,\n    private readonly animations: AnimationManager<Animations>,\n  ) {\n  }\n\n  async setView(view: View) {\n    if (this.table.view !== view) {\n      this.table.view = view;\n      return this.animations.startAndWaitForAnimation('view');\n    }\n  }\n}\n","import { Component } from \"solid-js\";\nimport { TypeDescriptor } from \"./types\";\n\nexport class LiteralTypeDescriptor<LiteralType> implements TypeDescriptor<LiteralType, LiteralType> {\n\n  constructor() { }\n\n  aState!: LiteralType;\n\n  aMutable!: LiteralType;\n\n  create(s: LiteralType): LiteralType {\n    return s;\n  }\n\n  snapshot(m: LiteralType): LiteralType {\n    return m;\n  }\n}\n\n\nexport const numberDescriptor = new LiteralTypeDescriptor<number>();\n\nexport const stringDescriptor = new LiteralTypeDescriptor<string>();\n\nexport const booleanDescriptor = new LiteralTypeDescriptor<boolean>();\n\nexport const componentDescriptor = new LiteralTypeDescriptor<Component>();\n","import { createSignal, Signal } from \"solid-js\";\nimport { TypeDescriptor, TypeDescriptors } from \"./types\";\n\ntype RecordState<\n  Attributes extends TypeDescriptors,\n> = { [K in keyof Attributes]: Attributes[K]['aState'] };\n\ntype RecordMutable<\n  Attributes extends TypeDescriptors,\n> = { [K in keyof Attributes]: Attributes[K]['aMutable'] };\n\nclass ValueRecordTypeDescriptor<AttributeTypeDescriptors extends TypeDescriptors>\n  implements TypeDescriptor<RecordState<AttributeTypeDescriptors>, RecordMutable<AttributeTypeDescriptors>> {\n  constructor(private readonly attributeTypes: AttributeTypeDescriptors) { }\n\n  aState!: Readonly<RecordState<AttributeTypeDescriptors>>;\n\n  aMutable!: Readonly<RecordMutable<AttributeTypeDescriptors>>;\n\n  create(s: RecordState<AttributeTypeDescriptors>): RecordMutable<AttributeTypeDescriptors> {\n    const mutable: RecordMutable<AttributeTypeDescriptors> = {} as any;\n    for (let key in this.attributeTypes) {\n      const attributeType = this.attributeTypes[key];\n      const value = s[key];\n      const valueMutable = attributeType.create(value);\n      mutable[key] = valueMutable;\n    }\n    return mutable;\n  }\n\n  snapshot(m: RecordMutable<AttributeTypeDescriptors>): RecordState<AttributeTypeDescriptors> {\n    const snapshot: RecordState<AttributeTypeDescriptors> = {} as any;\n    for (let key in this.attributeTypes) {\n      const attributeType = this.attributeTypes[key];\n      const value = m[key];\n      const valueMutable = attributeType.snapshot(value);\n      snapshot[key] = valueMutable;\n    }\n    return snapshot;\n  }\n}\n\nexport function valueRecordDescriptor<AttributeTypeDescriptors extends TypeDescriptors>(\n  attributeTypes: AttributeTypeDescriptors,\n) {\n  return new ValueRecordTypeDescriptor(attributeTypes);\n}\n\ntype ActiveRecordTarget<\n  AttributeTypeDescriptors extends TypeDescriptors\n> = { [K in keyof AttributeTypeDescriptors]: Signal<AttributeTypeDescriptors[K]['aMutable']> };\n\nclass ActiveRecordProxyHandler<AttributeTypeDescriptors extends TypeDescriptors>\n  implements ProxyHandler<ActiveRecordTarget<AttributeTypeDescriptors>> {\n  constructor() {\n\n  }\n\n  get(target: ActiveRecordTarget<AttributeTypeDescriptors>, p: string) {\n    return target[p]?.[0]?.();\n  }\n\n  set(target: ActiveRecordTarget<AttributeTypeDescriptors>, p: string, newValue: any): boolean {\n    const signal = target[p]?.[1];\n    signal?.(newValue);\n    return signal != null;\n  }\n}\n\nclass ActiveRecordTypeDescriptor<AttributeTypeDescriptors extends TypeDescriptors>\n  implements TypeDescriptor<RecordState<AttributeTypeDescriptors>, RecordMutable<AttributeTypeDescriptors>> {\n  constructor(private readonly attributeTypes: AttributeTypeDescriptors) { }\n\n  aState!: Readonly<RecordState<AttributeTypeDescriptors>>;\n\n  aMutable!: RecordMutable<AttributeTypeDescriptors>;\n\n  create(s: RecordState<AttributeTypeDescriptors>): RecordMutable<AttributeTypeDescriptors> {\n\n    const target: ActiveRecordTarget<AttributeTypeDescriptors> = {} as any;\n    for (let key in this.attributeTypes) {\n      const attributeType = this.attributeTypes[key];\n      const value = s[key];\n      const valueMutable = attributeType.create(value);\n      target[key] = createSignal(valueMutable);\n    }\n    return new Proxy(target, new ActiveRecordProxyHandler());\n  }\n\n  snapshot(m: RecordMutable<AttributeTypeDescriptors>): RecordState<AttributeTypeDescriptors> {\n    const snapshot: RecordState<AttributeTypeDescriptors> = {} as any;\n    for (let key in this.attributeTypes) {\n      const attributeType = this.attributeTypes[key];\n      const value = m[key];\n      const valueMutable = attributeType.snapshot(value);\n      snapshot[key] = valueMutable;\n    }\n    return snapshot;\n  }\n}\n\nexport function activeRecordDescriptor<AttributeTypeDescriptors extends TypeDescriptors>(\n  attributeTypes: AttributeTypeDescriptors,\n) {\n  return new ActiveRecordTypeDescriptor(attributeTypes);\n}","import { delay } from \"./delay\";\nimport { FlattenedPromise, createFlattenedPromise } from \"./flattened_promise\";\n\nexport class AnimationCanceledError extends Error {\n\n}\n\nexport class AnimationManager<T extends string> {\n  private animations: Map<T, FlattenedPromise<void>> = new Map();\n\n  constructor() {\n\n  }\n\n  startAndWaitForAnimation(t: T, timeoutMillis?: number): Promise<void> {\n    this.maybeCancelAnimation(t);\n    const animation = createFlattenedPromise<void>();\n    this.animations.set(t, animation);\n    return timeoutMillis != null\n        ? Promise.race([animation.promise, delay(timeoutMillis)])\n        : animation.promise;\n  }\n\n  maybeCancelAnimation(t: T) {\n    const flattenedPromise = this.animations.get(t);\n    if (flattenedPromise) {\n      flattenedPromise.reject(new AnimationCanceledError());\n      this.animations.delete(t);\n    }\n  }\n\n  maybeCompleteAnimation(t: T) {\n    const flattenedPromise = this.animations.get(t);\n    if (flattenedPromise) {\n      flattenedPromise.resolve();\n      this.animations.delete(t);\n    }\n  }\n\n  createAnimationEndCallback<E extends HTMLElement>(\n      t: T,\n      ref: E | undefined,\n      animationName?: string,\n  ) {\n    return (e: AnimationEvent) => {\n      if (ref != null && e.target === ref && (animationName == null || e.animationName === animationName)) {\n        this.maybeCompleteAnimation(t);\n      }\n    };\n  }\n\n  createTransitionEndCallback<E extends HTMLElement>(\n      t: T,\n      ref: E | undefined,\n  ) {\n    return (e: TransitionEvent) => {\n      if (ref != null && e.target === ref) {\n        this.maybeCompleteAnimation(t);\n      }\n    };\n  }\n\n}\n","import { createFlattenedPromise } from \"./flattened_promise\";\n\nexport function delay(milliseconds: number): Promise<void> {\n  const { promise, resolve } = createFlattenedPromise<void>();\n  setTimeout(resolve, milliseconds);\n  return promise;\n}","export type FlattenedPromise<T> = {\n  promise: Promise<T>;\n  reject: (e: unknown) => void;\n  resolve: (t: T) => void;\n}\n\nexport function createFlattenedPromise<T>(): FlattenedPromise<T> {\n  let _resolve: (t: T) => void;\n  let _reject: (e: unknown) => void;\n  const promise = new Promise<T>((resolve, reject) => {\n    _resolve = resolve;\n    _reject = reject;\n  });\n  return {\n    promise,\n    resolve: (t: T) => _resolve(t),\n    reject: (e: unknown) => _reject(e), \n  };\n}","import { Book } from \"./book\";\nimport { BookController, bookDescriptor } from \"./book_controller\";\n\nexport function createBook() {\n  const book = bookDescriptor.create({\n    opened: false,\n    pages: undefined,\n  })\n  const controller = new BookController(book);\n\n  const Component = (props: { onClickCover: () => void }) =>\n    <Book opened={book.opened} pages={book.pages} onClickCover={props.onClickCover} />;\n\n  return {\n    Component,\n    controller,\n  };\n}\n","import { Index, JSX, ParentProps } from 'solid-js';\nimport styles from './book.module.scss'\nimport { PagePair } from './book_controller';\n\nconst FAKE_PAGE_COUNT = 128;\n\nexport function Page(props: ParentProps & {\n  z: number,\n  onClick?: () => void,\n\n  // TODO: find correct typing for style\n  style?: JSX.CSSProperties,\n}) {\n  return (\n    <div class={styles.page} onClick={props.onClick} style={{\n      transform: `translateZ(${props.z}px)`,\n      ...props.style\n    }}>\n      {props.children}\n    </div>\n  );\n}\n\nexport function Book(props: {\n  opened: boolean,\n  pages?: PagePair,\n  onClickCover?: () => void,\n}) {\n  /* TODO: use an animation to center book */\n  return (\n    <div class={styles.container}>\n      <div class={styles.book}>\n        {/* Back half */}\n        <Page z={-0.5 - FAKE_PAGE_COUNT / 2} style={{\n          background: 'black'\n        }} />\n\n        <Index each={[...Array(FAKE_PAGE_COUNT / 2).keys()]}>{(page) =>\n          // `FAKE_PAGE_COUNT / 2 - 1` is just so DOM order matches physical order but its pretty ugly, can probably just use `z-index`\n          <Page z={-1.5 - (FAKE_PAGE_COUNT / 2 - 1 - page())} />\n        }</Index>\n\n        {/* Right page */}\n        <Page z={-0.5}>\n          {props.pages && <props.pages.Right />}\n        </Page>\n\n        <div classList={{\n          [styles.spine]: true,\n          [styles.open]: props.opened,\n        }}>\n          {/* Left page */}\n          <Page z={0.5}>\n            {/* The left page has been rotated so we have to rotate its contents back */}\n            <div style={{ transform: 'rotateY(180deg)' }}>\n              {props.pages && <props.pages.Left />}\n            </div>\n          </Page>\n\n          {/* Front half */}\n          <Index each={[...Array(FAKE_PAGE_COUNT / 2).keys()]}>{(page, _) =>\n            <Page z={1.5 + page()} />\n          }</Index>\n\n          <Page z={0.5 + FAKE_PAGE_COUNT / 2} onClick={props.onClickCover} style={{\n            background: 'black',\n            'text-align': 'center',\n            color: 'white'\n          }}>\n            <h1>GRAND TERMINUS</h1>\n          </Page>\n        </div>\n      </div>\n    </div>\n  );\n}\n",".container {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  transform: translateZ(64px);\n}\n\n.book {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  /* TODO: use an animation to center book */\n  transition: transform 1s;\n  will-change: transform;\n}\n\n.spine {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  transform-origin: left;\n}\n\n.page {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  transform-origin: left bottom;\n  background: ghostwhite;\n  box-shadow: rgba(0, 0, 0, 0.15) 0px 1.95px 0px;\n  background: linear-gradient(90deg, gainsboro 0%, ghostwhite 5%);\n}\n\n.open {\n  animation-name: open;\n  animation-duration: .5s;\n  animation-timing-function: ease-in;\n  animation-fill-mode: forwards;\n}\n\n@keyframes open {\n  from {\n    transform: rotateY(0deg);\n  }\n\n  to {\n    transform: rotateY(-180deg);\n  }\n}","// import { SkippablePromise } from \"base/skippable_promise\";\nimport { LiteralTypeDescriptor, booleanDescriptor } from \"model/descriptor/literals\";\nimport { optionalDescriptor } from \"model/descriptor/option\";\nimport { activeRecordDescriptor } from \"model/descriptor/record\";\nimport { Component } from \"solid-js\";\n\nexport type PagePair = {\n  readonly Left: Component,\n  readonly Right: Component,\n  // popup(): SkippablePromise<void>,\n  // popdown(): SkippablePromise<void>,\n};\n\nexport const bookDescriptor = activeRecordDescriptor({\n  opened: booleanDescriptor,\n  pages: optionalDescriptor(new LiteralTypeDescriptor<PagePair>),\n});\n\nexport type Book = typeof bookDescriptor.aMutable;\nexport type BookState = typeof bookDescriptor.aState;\n\nexport class BookController {\n  constructor(private readonly book: Book) { }\n\n  open() {\n    this.book.opened = true;\n  }\n\n  close() {\n    this.book.opened = false;\n  }\n\n  showPages(pages: PagePair) {\n    if (!this.book.opened) {\n      this.open();\n    }\n    this.book.pages = pages;\n  }\n}\n","import { TypeDescriptor } from \"./types\";\n\ntype OptionalState<MandatoryTypeDescriptor extends TypeDescriptor> =\n  MandatoryTypeDescriptor['aState'] | undefined;\n\ntype OptionalMutable<MandatoryTypeDescriptor extends TypeDescriptor> =\n  MandatoryTypeDescriptor['aMutable'] | undefined;\n\nclass OptionalTypeDescriptor<MandatoryTypeDescriptor extends TypeDescriptor>\n  implements TypeDescriptor<OptionalState<MandatoryTypeDescriptor>, OptionalMutable<MandatoryTypeDescriptor>> {\n  constructor(private readonly mandatoryTypeDescriptor: MandatoryTypeDescriptor) { }\n\n  aState!: MandatoryTypeDescriptor['aState'] | undefined;\n\n  aMutable!: MandatoryTypeDescriptor['aMutable'] | undefined;\n\n  create(s: OptionalState<MandatoryTypeDescriptor>): OptionalMutable<MandatoryTypeDescriptor> {\n    return s != null ? this.mandatoryTypeDescriptor.create(s) : undefined;\n  }\n\n  snapshot(m: OptionalMutable<MandatoryTypeDescriptor>): OptionalState<MandatoryTypeDescriptor> {\n    return m != null ? this.mandatoryTypeDescriptor.snapshot(m) : undefined;\n  }\n}\n\nexport function optionalDescriptor<MandatoryTypeDescriptor extends TypeDescriptor>(\n  mandatoryTypeDescriptor: MandatoryTypeDescriptor,\n) {\n  return new OptionalTypeDescriptor(mandatoryTypeDescriptor);\n}\n","import { MainMenu } from \"./main_menu\";\n\nexport function createMainMenu() {\n  const Component = (props: { startGame: () => void }) =>\n    <MainMenu startGame={props.startGame} />;\n  return {\n    Component\n  };\n}\n","import { Cutout } from 'components/book/cutout';\nimport styles from './main_menu.module.scss';\n\nexport function MainMenu(props: {\n  startGame: () => void\n}) {\n  return (\n    <div class={styles.menu}>\n      <Cutout><h1>GRAND TERMINUS</h1></Cutout>\n      <Cutout><button onClick={props.startGame}><h2>Begin Origin</h2></button></Cutout>\n    </div >\n  );\n}","import { JSX, ParentProps } from 'solid-js';\nimport styles from './cutout.module.scss';\n\n// TODO: find correct typing for style\nexport function Cutout(props: ParentProps & { style?: JSX.CSSProperties }) {\n  return <div class={styles.cutout} style={props.style}>\n    {props.children}\n  </div>\n}\n",".cutout {\n  animation-name: popup;\n  animation-duration: 2s;\n  animation-fill-mode: forwards;\n  transform-style: preserve-3d;\n  transform-origin: bottom;\n}\n\n@keyframes popup {\n  from {\n    transform: rotateX(0deg);\n  }\n\n  to {\n    transform: rotateX(-90deg);\n  }\n}",".menu {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n}","import { Cutout } from 'components/book/cutout';\nimport styles from './test_page.module.scss';\n\nfunction TestCutout() {\n  return (\n    // Since cutout rotates the div we need to either apply the translation before the rotation in the same style, or parent it in another element that translates it like this\n    <div style={{\n      transform: `translate(${Math.random() * 100}%, ${Math.random() * 100}%)`,\n    }}>\n      <Cutout>\n        <div class={styles.testCutout} style={{ background: `#${Math.floor(Math.random() * 16777215).toString(16)}` }} />\n      </Cutout>\n    </div>\n  );\n}\n\nexport function TestPage() {\n  return (\n    <div style={{\n      position: 'relative',\n      width: '100%',\n      height: '100%',\n      background: `#${Math.floor(Math.random() * 16777215).toString(16)}`\n    }}>\n      <TestCutout />\n      <TestCutout />\n      <TestCutout />\n      <TestCutout />\n    </div>\n  );\n}",".testCutout {\n  width: 32;\n  height: 64;\n}"],"names":["_create","require","_tableController","_create1","_solidJs","_create2","_testPage","window","onload","app","document","getElementById","Component","TableComponent","controller","tableController","createTable","BookImpl","bookController","createBook","MainMenuImpl","createMainMenu","testPages","Left","TestPage","Right","startGame","console","log","showPages","mainMenuPages","MainMenu","_$createComponent","onClickCover","async","setView","View","TopDown","batch","Tilted","Book","render","parcelHelpers","export","exports","ErrorBoundary","For","Index","Match","Show","Suspense","SuspenseList","Switch","createComponent","createRenderEffect","getOwner","createMemo","mergeProps","untrack","Aliases","voidFn","ChildProperties","DOMElements","DelegatedEvents","Dynamic","Hydration","NoHydration","Portal","Properties","SVGElements","SVGNamespace","addEventListener","assign","classList","className","clearDelegatedEvents","delegateEvents","dynamicProperty","escape","getHydrationKey","getNextElement","getNextMarker","getNextMatch","getPropAlias","hydrate","innerHTML","insert","isDev","isServer","renderToStream","renderToString","renderToStringAsync","resolveSSRNode","runHydrationEvents","setAttribute","setAttributeNS","spread","ssr","ssrAttribute","ssrClassList","ssrElement","ssrHydrationKey","ssrSpread","ssrStyle","style","template","use","Set","Object","create","htmlFor","PropAliases","class","formnovalidate","$","BUTTON","INPUT","ismap","IMG","nomodule","SCRIPT","playsinline","VIDEO","readonly","TEXTAREA","prop","tagName","a","undefined","xlink","xml","$$EVENTS","code","element","init","options","disposer","createRoot","dispose","firstChild","owner","textContent","html","isCE","isSVG","node","t","createElement","content","fn","cloneNode","importNode","eventNames","document1","e","i","l","length","name","has","add","eventHandler","keys","removeEventListener","value","removeAttribute","namespace","removeAttributeNS","handler","delegate","Array","isArray","handlerFn","call","prev","classKeys","prevKeys","len","key","toggleClassKey","classValue","nodeStyle","cssText","v","s","removeProperty","setProperty","props","skipChildren","prevProps","children","insertExpression","ref","src","defineProperty","get","enumerable","parent","sharedConfig","context","arg","accessor","marker","initial","current","skipRef","assignProp","registry","warn","Error","completed","delete","el","nodeName","localName","nextSibling","start","end","count","nodeType","nodeValue","push","events","queued","queueMicrotask","shift","classNames","trim","split","nameLen","toggle","isProp","isChildProp","propAlias","forceProp","slice","toLowerCase","h","includes","replace","_","w","toUpperCase","ns","indexOf","type","composedPath","target","configurable","done","_$HY","disabled","data","cancelBubble","_$host","parentNode","host","unwrapArray","childNodes","cleaned","remove","multi","toString","createTextNode","cleanChildren","array","currentArray","normalizeIncomingArray","appendNodes","b","bLength","aEnd","bEnd","aStart","bStart","after","map","insertBefore","Map","set","index","sequence","replaceChild","reconcileArrays","Node","appendChild","normalized","unwrap","dynamic","item","String","replacement","inserted","isParent","gatherHydratable","root","templates","querySelectorAll","getAttribute","startsWith","id","throwInBrowser","func","err","error","nodes","needsId","SVG_NAMESPACE","createElementNS","args","enableHydration","globalThis","load","gather","renderId","hydrate$1","useShadow","hydrating","createEffect","user","runWithOwner","mount","body","HTMLHeadElement","clean","setClean","createSignal","cleanup","onCleanup","container","renderRoot","attachShadow","mode","removeChild","p","others","splitProps","cached","component","$DEVCOMP","isSvg","$PROXY","$TRACK","DEV","cancelCallback","catchError","createComputed","createContext","createDeferred","createReaction","createResource","createSelector","createUniqueId","enableExternalSource","enableScheduling","equalFn","from","getListener","indexArray","lazy","mapArray","observable","on","onError","onMount","requestCallback","resetErrorBoundaries","startTransition","useContext","useTransition","taskIdCounter","isCallbackScheduled","isPerformingWork","taskQueue","currentTask","shouldYieldToHost","yieldInterval","deadline","maxYieldInterval","scheduleCallback","scheduledCallback","maxSigned31BitInt","channel","MessageChannel","port","port2","postMessage","port1","onmessage","currentTime","performance","now","hasTimeRemaining","navigator","scheduling","isInputPending","setupScheduler","startTime","timeout","newTask","expirationTime","task","splice","m","n","k","cmp","findIndex","enqueue","flushWork","initialTime","callback","workLoop","setHydrateContext","Symbol","signalOptions","equals","ERROR","runEffects","runQueue","STALE","PENDING","UNOWNED","owned","cleanups","NO_INIT","Owner","Transition","Scheduler","ExternalSourceFactory","Listener","Updates","Effects","ExecCount","transPending","setTransPending","detachedOwner","listener","unowned","updateFn","cleanNode","runUpdates","observers","observerSlots","comparator","readSignal","bind","running","sources","tValue","writeSignal","c","createComputation","updateComputation","runUserEffects","SuspenseContext","lookup","suspense","onInvalidate","tracking","tState","pSource","pFetcher","pOptions","source","fetcher","arguments","pr","initP","loadedUnderTransition","scheduled","resolved","contexts","setValue","storage","initialValue","setError","track","trigger","state","setState","ssrLoadFrom","loadEnd","onHydrated","promises","completeLoad","decrement","clear","read","increment","refetching","then","castError","defineProperties","loading","latest","refetch","mutate","timeoutMs","setDeferred","deferred","subs","val","entries","values","pure","size","deps","prevInput","defer","prevValue","input","result","handleError","o","prevListener","scheduler","Promise","resolve","effects","disposed","queue","res","defaultValue","Provider","createProvider","ctx","memo","resolveChildren","toArray","getSuspenseContext","factory","oldFactory","oldSource","x","runningTransition","this","updates","lookUpstream","sSlot","sourceSlots","isComp","TransitionRunning","markDownstream","time","runComputation","nextValue","tOwned","forEach","updatedAt","ordinary","triggerInTransition","inTransition","runTop","inFallback","ancestors","top","wait","tasks","scheduleQueue","apply","d","completeUpdates","userLength","ignore","pop","obs","reset","cause","runErrors","fns","f","results","subscribe","observer","TypeError","next","unsubscribe","producer","unsub","FALLBACK","list","mapFn","items","mapped","disposers","indexes","j","newItems","newIndices","newIndicesNext","temp","tempdisposers","tempIndexes","newEnd","newLen","fallback","mapper","Math","min","signals","hydrationEnabled","Comp","r","trueFn","propTraps","property","receiver","deleteProperty","getOwnPropertyDescriptor","ownKeys","resolveSource","proxy","Proxy","descriptors","getOwnPropertyDescriptors","blocked","flat","filter","clone","comp","wrap","mod","default","preload","counter","narrowedError","each","keyed","condition","when","child","conditions","evalConditions","conds","cond","Errors","errored","setErrored","suspenseListEquals","showContent","showFallback","SuspenseListContext","show","wrapper","setWrapper","listContext","setRegistry","register","reveal","revealOrder","tail","reg","reverse","all","every","stop","flicker","setFallback","store","rendered","interopDefault","__esModule","defineInteropFlag","exportAll","dest","hasOwnProperty","destName","_table","_animationManager","table","tableDescriptor","view","TopDownBookCentered","animations","AnimationManager","TableController","_tableModuleScss","tableElement","_el$","_tmpl$","_el$2","_el$3","_el$4","_ref$","_$use","_$addEventListener","createTransitionEndCallback","_$insert","_$effect","_p$","_v$","styles","_v$2","board","_v$3","tilted","topDown","topDownBookCentered","_v$4","_$className","_$classList","module","_literals","_record","viewDescriptor","LiteralTypeDescriptor","activeRecordDescriptor","constructor","startAndWaitForAnimation","numberDescriptor","stringDescriptor","booleanDescriptor","componentDescriptor","snapshot","valueRecordDescriptor","ValueRecordTypeDescriptor","attributeTypes","mutable","attributeType","valueMutable","ActiveRecordProxyHandler","newValue","signal","ActiveRecordTypeDescriptor","AnimationCanceledError","_delay","_flattenedPromise","timeoutMillis","maybeCancelAnimation","animation","createFlattenedPromise","race","promise","delay","flattenedPromise","reject","maybeCompleteAnimation","createAnimationEndCallback","animationName","milliseconds","setTimeout","_resolve","_reject","_book","_bookController","book","bookDescriptor","opened","pages","BookController","Page","_bookModuleScss","FAKE_PAGE_COUNT","onClick","page","transform","z","_$style","_tmpl$3","background","_$memo","_el$5","_c$","color","_tmpl$2","_v$5","spine","open","_$delegateEvents","_option","optionalDescriptor","close","OptionalTypeDescriptor","mandatoryTypeDescriptor","_mainMenu","_cutout","_mainMenuModuleScss","Cutout","menu","_cutoutModuleScss","cutout","_testPageModuleScss","TestCutout","testCutout","floor","random"],"version":3,"file":"index.dcf4bc9b.js.map"}